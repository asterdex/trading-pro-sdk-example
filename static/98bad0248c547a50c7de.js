(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[8686],{45313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(96832),i=n(72249);const r=(0,a.forwardRef)(((e,t)=>{const n=i.Z;return a.createElement(n,{ref:t,as:"label",tx:"forms",variant:"label",...e,__css:{alignItems:"center"}})}));r.displayName="Label";const s=r},470:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var a=n(96832),i=n(72249),r=n(86282),s=n(22697),l=n(79457),o=n(73892),c=n(4940),d=n(1515);const u=({isShow:e,variant:t,getValid:n,customIcon:r})=>{const s={info:l.Z,error:o.Z,warning:l.Z,success:c.Z}[t],d=r&&n(r)?a.cloneElement(r,{size:20,...r.props},[]):a.createElement(s,{size:20});return e?a.createElement(i.Z,{sx:{width:"24px",height:"24px",mr:"xs",justifyContent:"center",alignItems:"center",flexShrink:0}},d):null},h=({isShow:e,onClose:t})=>e?a.createElement(i.Z,{sx:{width:"24px",height:"24px",justifyContent:"center",alignItems:"center",color:"t.disabled",marginLeft:"auto"}},a.createElement(d.Z,{size:18,onClick:t,cursor:"pointer"})):null,m=(0,a.forwardRef)((({children:e,icon:t,variant:n="warning",closable:s=!1,showIcon:l=!0,onClose:o,title:c,insideCenter:d=!1,__css:m,...p},x)=>a.createElement(i.Z,{tx:"alertV2",variant:n,alignItems:"flex-start",ref:x,width:"100%",__css:{p:"ls",...m},...p},a.createElement(i.Z,{justifyContent:d?"center":"",flex:"1",alignItems:"flex-start"},a.createElement(u,{isShow:l,variant:n,getValid:a.isValidElement,customIcon:t}),a.createElement(r.Z,{__css:{wordBreak:"break-word",flexShrink:1,height:"auto",lineHeight:"24px",width:d?"auto":"100%",color:`alertV2.${n}FontColor`}},c&&a.createElement(r.Z,{as:"p",__css:{fontWeight:"medium"}},c),e)),a.createElement(h,{isShow:s,onClose:o})))),p=(0,a.forwardRef)((({enablePortal:e,container:t,topOfPage:n,__css:i,...r},l)=>n||e||t?a.createElement(s.ZP,{container:t},a.createElement(m,{__css:n?{position:"fixed",top:0,left:0,zIndex:"alert",borderRadius:0,...i}:{},...r,ref:l})):a.createElement(m,{...r})));p.displayName="AlertV2";const x=p},73892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(96832),i=n(415);const r=e=>a.createElement(i.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-7.233 0l3.006 3.005-1.768 1.768L12 13.767l-3.005 3.005-1.768-1.768 3.005-3.005-3.005-3.005 1.768-1.767L12 10.23l3.005-3.005 1.768 1.767L13.767 12z",fill:"currentColor"}))},79457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var a=n(96832),i=n(415);const r=e=>a.createElement(i.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21a9 9 0 100-18 9 9 0 000 18zm-1.25-5.5V18h2.5v-2.5h-2.5zm0-9.5v7h2.5V6h-2.5z",fill:"currentColor"}))},7656:(e,t,n)=>{var a=n(82274),i=n(29233),r=n(55833),s=n(29735);e.exports=function(e){var t=null==e?0:e.length,n=r;return e=t?i(e,(function(e){if("function"!=typeof e[1])throw new TypeError("Expected a function");return[n(e[0]),e[1]]})):[],s((function(n){for(var i=-1;++i<t;){var r=e[i];if(a(r[0],this,n))return a(r[1],this,n)}}))}},88773:(e,t,n)=>{var a=n(18361),i=n(15640);e.exports=function(e){return i(a(e,1))}},29671:e=>{e.exports=function(){return!0}},63152:(e,t,n)=>{"use strict";n.d(t,{C:()=>p,Z:()=>x});var a=n(58138),i=n(45313),r=n(49247),s=n(10600),l=n(18637),o=n(65871),c=n(71882),d=(n(96832),n(4337)),u=n(49241),h=n(3470);const m={className:"amount-input-container",sx:{height:"48px",width:"100%",bg:"bg3",mb:"20px","&.bn-input-status-error":{border:"none"},".bn-input-helper-text":{color:"errors",fontSize:"14px"}}};var p;!function(e){e[e.Deposit=1]="Deposit",e[e.Withdraw=2]="Withdraw"}(p||(p={}));const x=({value:e,onChange:t,available:n,maxWithdraw:x,realizedPnl:f,asset:g,type:b,precision:w=8,getI18n:j})=>{var v;const y=(0,u.w)({oldValue:e,precision:w}),C=Number(-1===x?n:Math.min(x,Number(n))),Z=Number(e)>C,O=(null===(v=x.toString().split(".")[1])||void 0===v?void 0:v.length)||0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",Object.assign({className:"amount-label"},{children:[(0,a.jsx)(i.Z,Object.assign({width:"auto"},{children:j("Amount")})),(0,a.jsxs)(r.Z,Object.assign({variant:"body2",color:"t.third"},{children:[j("Available"),(0,a.jsxs)(r.Z,Object.assign({ml:"4px",as:"span",variant:"subtitle2",color:"t.primary"},{children:[n," ",g]}))]}))]})),(0,a.jsx)(l.Z,{value:e,onChange:e=>t(y(e.currentTarget.value)),boxProps:m,variant:"outlineLarge",className:"amount-input",labelFixed:!0,error:Z,suffix:(0,a.jsx)(s.Z,Object.assign({variant:"quiet",onClick:()=>{t((0,c.GW)(C,w).toString())}},{children:j("MAX")})),errorText:b===p.Withdraw?j("wallet-withdraw-amount-error",{defaultValue:"Please enter an amount less than the max withdrawal amount."}):j("wallet-deposit-amount-error",{defaultValue:"Please enter an amount less than the max deposit amount."})}),-1!==f&&g===d.J$&&(0,a.jsxs)("div",Object.assign({className:"amount-info",style:-1!==x?{marginBottom:"8px"}:{}},{children:[(0,a.jsx)(o.Z,Object.assign({arrow:!0,tip:j("wallet-withdraw-amount-24h-pnl-tip",{defaultValue:"Realized profits within 24 hours will be temporarily frozen and will be automatically unlocked over time."}),placement:"top",enablePortal:!0},{children:(0,a.jsx)(r.Z,Object.assign({color:"t.third",variant:"body2",sx:{cursor:"pointer",borderBottom:"1px dotted",borderColor:"t.third"}},{children:j("wallet-withdraw-amount-24h-pnl",{defaultValue:"24-hour realized profit"})}))})),(0,a.jsx)(r.Z,Object.assign({color:"t.primary",variant:"body2",sx:{textAlign:"right"}},{children:`${(0,h.Bz)(f,w).toString()} ${g}`}))]})),-1!==x&&(0,a.jsxs)("div",Object.assign({className:"amount-info"},{children:[(0,a.jsx)(r.Z,Object.assign({color:"t.third",variant:"body2",sx:{maxWidth:"186px"}},{children:j("wallet-remaining-withdraw-info-remaining",{defaultValue:"Daily withdrawal amount remaining"})})),(0,a.jsx)(r.Z,Object.assign({color:"t.primary",variant:"body2",sx:{textAlign:"right"}},{children:`${(0,h.uf)(x,O>8?8:O,3)} USD`}))]}))]})}},32187:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var a=n(58138),i=(n(96832),n(27005));const r=new i.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1}}}),s=({children:e})=>(0,a.jsx)(i.QueryClientProvider,Object.assign({client:r},{children:e}))},56265:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var a=n(58138),i=n(86282),r=n(10600),s=n(96832),l=n(57110),o=n(63152),c=n(16537),d=n(69612),u=n(37025),h=n(72249),m=n(51934);const p={color:"t.primary",justifyContent:"flex-start",alignItems:"center",flex:1,height:"100%",fontSize:"14px",".asset-code":{ml:"4px"},".asset-name":{ml:"4px",color:"t.third"}},x=({logo:e,code:t,name:n})=>(0,a.jsxs)(h.Z,Object.assign({sx:p},{children:[(0,a.jsx)(m.Z,{variant:"avatar",src:e,alt:"",width:16,height:16}),(0,a.jsx)("div",Object.assign({className:"asset-code"},{children:t})),(0,a.jsx)("div",Object.assign({className:"asset-name"},{children:n}))]}));var f=n(4337);const g=({value:e,onChange:t,getI18n:n})=>{const i=(0,u.v8)(),r=(0,l.h)(),o=(0,s.useCallback)((e=>{const t=i.find((t=>t.code===e));if(!t)return null;const n=(0,l.D)(t.code,r);return(0,a.jsx)(x,Object.assign({},t,{code:n,name:n}))}),[i,r]);return(0,s.useEffect)((function(){i.length&&!i.find((t=>t.code===e))&&t(i.find((e=>e.code===f.J$))?f.J$:i[0].code)}),[e,i,t]),(0,a.jsx)(c.Z,Object.assign({label:n("Coin",{defaultValue:"Coin"}),hideSearch:!0,onChange:e=>{t(e)},size:"lg",value:e,renderValue:o},{children:i.map((e=>{const t=(0,l.D)(e.code,r);return(0,a.jsx)(d.W,Object.assign({value:e.code},{children:(0,a.jsx)(x,Object.assign({},e,{name:t,code:t}))}),e.code)}))}))};var b=n(3470);const w={display:"flex",flexDirection:"column",justifyContent:"space-between",flex:1,".footer":{mt:"52px",textAlign:"right"},".confirm":{height:40,width:["100%",164]},".bn-sdd-noResults":{color:"t.secondary"},".amount-label":{justifyContent:"space-between",alignItems:"center",mb:"4px",lineHeight:"32px",display:"flex"},".amount-info":{display:"flex",flexDirection:"row",justifyContent:"space-between"}},j={display:"flex",justifyContent:"space-between",gap:"16px",button:{width:"100% !important"}},v=({available:e,maxWithdraw:t=-1,residualDeposit:n=-1,realizedPnl:c=-1,onChangeCoin:d,onConfirm:h,defaultCoin:m=f.J$,bottom:p=null,top:x=null,suffixFields:v=[],type:y,getI18n:C,sx:Z={},disabled:O,confirmLabel:S,prefixButtons:N=[]})=>{const E=(0,l.h)(),[k,I]=(0,s.useState)(""),[W,$]=(0,s.useState)(m),z=(0,u.W4)(W),V=(0,b.GW)(e,z).toString();let _=Number(V);t>=0?_=Math.min(Number(V),t):n>=0&&(_=Math.min(_,n));const M=O||!t||!Number(e)||!Number(k)||Number(k||0)>_;return(0,a.jsxs)(i.Z,Object.assign({sx:Object.assign(Object.assign({},w),Z)},{children:[x,(0,a.jsxs)("div",{children:[v.map(((e,t)=>(0,a.jsx)(i.Z,Object.assign({mt:"24px"},{children:e}),t))),(0,a.jsx)(i.Z,Object.assign({mt:"24px"},{children:(0,a.jsx)(g,{value:W,onChange:e=>{d(e),$(e)},getI18n:C})})),(0,a.jsx)(i.Z,Object.assign({mt:"24px"},{children:(0,a.jsx)(o.Z,{realizedPnl:c,maxWithdraw:t,value:k,onChange:I,available:V,asset:(0,l.D)(W,E),type:y,getI18n:C,precision:z})}))]}),p,(0,a.jsxs)(i.Z,Object.assign({className:"footer",sx:N.length>0?j:null},{children:[N.length>0&&N,(0,a.jsx)(r.Z,Object.assign({disabled:M,onClick:()=>h({coin:W,amount:k}),className:"confirm"},{children:S||C("Confirm")}))]}))]}))}},41018:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o});var a=n(58138),i=n(96832),r=n(16537),s=n(69612),l=n(26262);const o=({label:e,getI18n:t,onChangeType:n})=>{const{tradeType:o,setTradeType:c}=(0,l.Gt)(),d=(0,i.useMemo)((()=>[{label:t("dex-trade-type-spot",{defaultValue:"Spot"}),value:`${l.v3.Spot}`},{label:t("dex-trade-type-futures",{defaultValue:"Futures"}),value:`${l.v3.Futures}`}]),[t]),u=(0,i.useCallback)((e=>{const t=d.find((t=>t.value===e));return t&&t.label||""}),[d]),h=(0,i.useCallback)((e=>{c(Number(e)),setTimeout((()=>{n&&n()}))}),[]);return(0,a.jsx)(r.Z,Object.assign({size:"lg",renderValue:u,value:`${o}`,onChange:h,hideSearch:!0,label:e},{children:d.map((({value:e,label:t})=>(0,a.jsx)(s.W,Object.assign({value:`${e}`},{children:t}),`${e}`)))}))}},1678:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var a=n(92336),i=n(58138),r=n(71796),s=n(68150),l=n(88927),o=n(49247),c=n(736),d=n(35116),u=n(470),h=n(52367),m=n(39378),p=n(96832),x=n(51285),f=n(63152),g=n(4337),b=n(32187),w=n(56265),j=n(37025),v=n(9500),y=n(41018),C=n(26262);const Z=Object.assign(Object.assign({},v.i),{height:["100%","auto"]}),O=({visible:e,onClose:t,defaultCoin:n,getI18n:b,refreshBalance:v=(()=>null),sx:O={},dialogSx:S={},unlimitWithdrawAssets:N=[]})=>{const[E]=(0,j.WS)(),{chainId:k}=(0,h.dc)(),I=(0,p.useRef)(n||g.J$),W=(0,C.c0)(),[$,z]=(0,p.useState)(0),V=(0,C.r9)(),[_,M]=(0,p.useState)(-1),[R,D]=(0,p.useState)(-1),T=(0,p.useMemo)((()=>(0,m.debounce)((()=>(0,a.__awaiter)(void 0,void 0,void 0,(function*(){if(e){let e=yield(0,r.yd)({assetName:I.current},W);const t=yield(0,r.BQ)();if(!W){const{data:{chainWithdrawLimit:n}}=yield(0,s.zZ)({currency:I.current,chainId:k});e=I.current===g.J$?Math.min(e,Number(n)-t):Math.min(e,Number(n)),e=e<0?0:e}if(N.includes(I.current)||W)(0,x.unstable_batchedUpdates)((()=>{z(e),D(t),M(-1)}));else{const{data:{userRemainingLimit:n,totalRemainingLimit:a}}=yield(0,s.pp)(!1);(0,x.unstable_batchedUpdates)((()=>{z(e),D(t),M(Math.min(n,a)||0)}))}}}))),500)),[I,e,W,k]),B=(0,p.useCallback)((e=>{I.current=e||g.J$,e?T():(z(0),D(-1),M(-1))}),[T]);(0,p.useEffect)((()=>{e&&B(n||g.J$)}),[e,n,B]);const F=(0,p.useCallback)((({coin:e,amount:n})=>(0,a.__awaiter)(void 0,void 0,void 0,(function*(){if(E)try{yield E.checkExchangeBalance(e,n),E.withdraw(e,n,{afterWithdraw:v}),t()}catch(e){if(e.i18n){const t=e;(0,d.i)({message:b(t.i18n,t.defaultI18n),okText:b("dex-dialog-ok","Ok"),cancelText:""})}}}))),[E,t]),P=(0,p.useMemo)((()=>V?[(0,i.jsx)(y.Y,{label:b("dex-withdraw-from","Withdraw from"),getI18n:b,onChangeType:T},"tradeType")]:[]),[b]);return(0,i.jsxs)(l.Z,Object.assign({sx:Object.assign(Object.assign({},Z),S),visible:e},{children:[(0,i.jsxs)(o.Z,Object.assign({variant:"headline6",className:"title"},{children:[b("Withdraw",{defaultValue:"Withdraw"}),(0,i.jsx)(c.Z,{className:"close",onClick:t})]})),(0,i.jsx)(w.Z,{available:$,maxWithdraw:_,realizedPnl:R,onConfirm:F,onChangeCoin:B,defaultCoin:n||g.J$,getI18n:b,type:f.C.Withdraw,bottom:(0,i.jsxs)(u.Z,Object.assign({mt:"20px",variant:"info"},{children:[(0,i.jsx)(o.Z,Object.assign({fontSize:"14px",fontWeight:"500"},{children:b("wallet-reject-alert-title",{defaultValue:"Withdrawal Precautions"})})),(0,i.jsx)(o.Z,Object.assign({fontSize:"12px"},{children:b("wallet-reject-alert-content",{defaultValue:"Please make sure your wallet has enough GAS fee to complete the withdraw."})})),(0,i.jsx)(o.Z,Object.assign({fontSize:"12px"},{children:b("wallet-reject-alert-content-2",{defaultValue:"If you click “Reject” or “Withdrawal Failed” in the wallet, the assets will be returned within 60 minutes, please be patient."})}))]})),suffixFields:P,sx:O})]}))},S=e=>{var{tradeType:t=C.v3.Futures,isSupportSpot:n=!0,sourceCode:r}=e,s=(0,a.__rest)(e,["tradeType","isSupportSpot","sourceCode"]);return(0,i.jsx)(b.m,{children:(0,i.jsx)(C.B9,Object.assign({tradeType:t,isSupportSpot:n,visible:s.visible,sourceCode:r},{children:(0,i.jsx)(O,Object.assign({},s))}))})}},9500:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});const a={padding:"18px 24px 24px",width:["100%",420],height:["100%","auto"],minHeight:"400px",display:"flex",flexDirection:"column",bg:"modalBg",".title":{color:"t.primary",display:"flex",alignItems:"center",justifyContent:"space-between",pb:18,".close":{color:"icons.close",width:24,height:24,cursor:"pointer","&:hover":{color:"t.third"}}}}},49241:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var a=n(3470);const i=/^\d+\.?\d*|%$/,r=/^0+(?=\d)/,s=({oldValue:e,maxValue:t,maxLength:n,precision:s})=>l=>!i.test(l)&&""!==l||isNaN(Number(l))?e:(l=l.replace(r,""),(0,a.N3)(l)>s&&(l=l.replace(new RegExp(`^(\\d*\\.\\d{${s}})\\d*`),"$1")),n&&l.split(".")[0].length>n&&(l=e),0===s&&(l=l.replace(".","")),t&&Number(l)>t&&(l=t.toString()),l)},3470:(e,t,n)=>{"use strict";n.d(t,{Bz:()=>h,GW:()=>d,HV:()=>u,N3:()=>o,uf:()=>c});var a=n(71882),i=n(97269),r=n(67997);const s=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,l=n.n(r)()(((e,t)=>new RegExp(`\\d(?=(\\d{${t||3}})+${e>0?"\\.":"$"})`,"g")),((...e)=>e.join(","))),o=e=>{const t=`${e}`.match(s);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},c=(e,t,n=3)=>{e="number"==typeof e?e:+e;const a=l(t,n);return e.toFixed(Math.max(0,~~t)).replace(a,"$&,")},d=(e,t=2,n)=>((e,t,n="round",a=!1)=>{const i=e||0;let r;const s=Math.pow(10,t);let l=(+i+1/Math.pow(10,t+3))*s;if("string"==typeof n){const e=2;l=parseInt(""+l*Math.pow(10,e),10)/Math.pow(10,e),o=n,r=(()=>{if(Math[o])return Math[o];throw new Error("getRoundFunc called with unknown type")})()}else r=n;var o;if("function"!=typeof r)throw new Error("decRound unknown rounding func");return a?c(r(l)/s,t):(r(l)/s).toFixed(t)})(e,t,"floor",n),u=(e,t)=>(0,a.Jp)(e).toFixed(Math.min(8,t),1),h=(e,t=2)=>new i.Z(e).toFixed(t,3)},57110:(e,t,n)=>{"use strict";n.d(t,{D:()=>u,h:()=>c});var a=n(96832),i=n(61975);const r={USDC:"USDC.e"},s={USDBC:"USDbC"},l={[i.yX.id]:r,421614:r,[i.J0.id]:s,8453:s};var o=n(52367);const c=()=>{const{chainId:e}=(0,o.dc)();return(0,a.useMemo)((()=>l[e]||{}),[e])},d=new Map,u=(e,t={})=>{var n;const a=e?null!==(n=d.get(e))&&void 0!==n?n:e:"";return t[a]||a}}}]);