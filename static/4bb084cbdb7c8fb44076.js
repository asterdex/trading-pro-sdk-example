"use strict";(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[1009],{41009:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var i=s(58138),o=s(22697),a=s(86282),r=s(72249),n=s(49247),l=s(36829),c=s(86041),d=s(1515),p=s(87608),b=s.n(p),m=s(96832),x=s(37218),h=s(47834),u=s(214),f=s(32646),j=s(41500);const g={position:"fixed",width:"100vw",height:"100vh",left:0,right:0,top:0,bottom:0,zIndex:999,mb:"sm",bg:"modalBg",boxShadow:"elevation3",borderRadius:"4px",userSelect:"none",".header-container":{px:["16px","md"],pt:["16px","20px"],pb:["0px","20px"],height:"64px",borderBottomWidth:["0px","0.5px"],borderBottomStyle:["none","solid"],borderBottomColor:"line",".title":{fontSize:"plus",color:"t.primary"},".close":{color:"t.third",fontSize:"24px",cursor:"pointer",":hover":{color:"t.primary"}}},".desc":{fontSize:"14px",lineHeight:"18px",color:"t.third",ml:"25px",mt:"8px",whiteSpace:"pre-line"},".label":{color:"t.primary",fontSize:"md",fontWeight:500},".content":{fontSize:"sm",lineHeight:"20px",letterSpacing:"0.16px",color:"t.secondary",mt:"40px"}},v={mb:"md"},S={pb:0,pr:"sm",".active":{borderBottom:"2px solid",borderColor:"primary",color:"t.primary",fontWeight:"semibold"}},y=(0,m.forwardRef)(((e,t)=>{const{getI18n:s}=(0,x.yk)(),[p,y]=(0,m.useState)({defaultActiveKey:"pm"}),{defaultActiveKey:O="pm"}=p,[C,Z]=(0,m.useState)(!1),k=(0,j.I)((e=>e.visible)),w=(0,j.I)((e=>e.setVisible)),A=(0,j.I)((e=>e.setAssetMode)),P=(0,m.useCallback)((()=>{Z(!1)}),[Z]),M=(0,m.useCallback)((e=>{Z(!0),y(e)}),[]);(0,m.useImperativeHandle)(t,(()=>({showPreferencePanel:M}))),(0,m.useEffect)((()=>h.ee.on("SHOW_PREFERENCE_PANEL",(e=>{M({defaultActiveKey:e})}))),[M]);const z=(0,u.$J)(),I=new Set,N=!!Object.values(z).filter((e=>{if(e.isolated&&"BOTH"===e.positionSide){const{symbol:t}=e;return!I.has(t)&&(I.add(t),!0)}return!1})).length;return(0,m.useMemo)((()=>C||k?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.ZP,{children:(0,i.jsxs)(a.Z,Object.assign({sx:g},{children:[(0,i.jsxs)(r.Z,Object.assign({alignItems:"center",justifyContent:"space-between",className:"header-container"},{children:[(0,i.jsx)(n.Z,Object.assign({className:"title"},{children:s("preference",{defaultValue:"Preference"})})),(0,i.jsx)(d.Z,{className:"close",onClick:P})]})),(0,i.jsx)(a.Z,Object.assign({sx:{px:"sm"}},{children:(0,i.jsxs)(l.Z,Object.assign({defaultActiveKey:O,variant:"trade-next",tabSx:S,tabsSx:v,lazy:!0},{children:[(0,i.jsx)(c.Z,Object.assign({tab:e=>(0,i.jsx)(n.Z,Object.assign({variant:"subtitle2",className:b()({active:e})},{children:s("position-mode",{defaultValue:"Position Mode"})})),tabKey:"pm"},{children:(0,i.jsx)(f.PositionSideForm,{})})),(0,i.jsx)(c.Z,Object.assign({tab:e=>(0,i.jsx)(n.Z,Object.assign({variant:"subtitle2",className:b()({active:e})},{children:s("assetMode",{defaultValue:"Asset Mode"})})),tabKey:"am"},{children:(0,i.jsx)(f.AssetModeForm,{setConfirmVisible:w,setAssetMode:A,isolatedPositionFlag:N})}))]}))}))]}))}),(0,i.jsx)(f.AssetModeDialog,{confirmVisible:k,setConfirmVisible:w})]}):null),[A,w,k,O,s,P,N,C])}))}}]);