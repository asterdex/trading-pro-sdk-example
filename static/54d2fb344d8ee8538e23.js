"use strict";(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[7165],{82373:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(96832),o=n(415),i=n(86282);const a=e=>r.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},r.createElement("path",{d:"M3 10.5v3h18v-3H3z",fill:"currentColor"})),l=e=>r.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"})),s=e=>e["data-indeterminate"]?r.createElement(a,{...e}):r.createElement(l,{...e}),c=(0,r.forwardRef)(((e,t)=>{const{className:n,sx:o,defaultChecked:a=!1,checked:l,indeterminate:c=!1,size:d=16,onChange:u,...p}=e,{current:h}=r.useRef(null!=l),[f,m]=r.useState(a);return h&&l!==f&&m(void 0!==l&&l),r.createElement(i.Z,{className:n,sx:o,__css:{mr:"xs",flexShrink:0,width:d,height:d,lineHeight:"number"==typeof d?`${d}px`:d,"> svg":{boxSizing:"border-box",cursor:"pointer",border:"1px solid",borderColor:"t.disabled",borderRadius:"small",maxWidth:"100%",maxHeight:"100%",bg:"transparent",fill:"transparent"},"> svg path":{fill:"inherit"},":hover":{"input:not(:disabled) ~ svg":{borderColor:"primary"}},"input:checked ~ svg":{border:"none",bg:"primary",fill:c?"checkbox.indeterminateFill":"bg1"},"input:disabled ~ svg":{cursor:"not-allowed",bg:"line",fill:"line",border:"none"},"input:checked:disabled ~ svg":{fill:"t.disabled"}}},r.createElement(i.Z,{ref:t,as:"input",type:"checkbox","data-bn-type":"checkbox",hidden:!0,...p,checked:f,"data-indeterminate":f&&c,onChange:e=>{let t=!f;h||m(t),e.target.checked=t,e.currentTarget.checked=t,u&&u(e)},sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}}),r.createElement(s,{"aria-hidden":"true","data-indeterminate":c}))}));c.displayName="Checkbox";const d=c},97565:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(96832);function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function i(e,t){return r.useMemo((()=>null==e&&null==t?null:n=>{o(e,n),o(t,n)}),[e,t])}},18637:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(96832),o=n(86282),i=n(72249),a=n(49247),l=n(87608),s=n.n(l);const c="32px",d=(0,r.forwardRef)(((e,t)=>{const{children:n,required:i}=e;return n?r.createElement(o.Z,{ref:t,as:"label",className:s()({"bn-input-label-required":i},"bn-input-label"),tx:"forms",variant:"label",...e,__css:{position:"absolute",top:`-${c}`,left:"0px",lineHeight:c,zIndex:"1",cursor:"text","&.bn-input-label-required::before":{display:"inline-block",marginRight:"minor",color:"error",content:'"*"'}}}):null})),u=(0,r.forwardRef)(((e,t)=>{const{children:n}=e;return n?r.createElement(o.Z,{ref:t,as:"label",className:"bn-input-label",tx:"forms",variant:"label",...e,__css:{position:"absolute",top:`-${c}`,right:0,lineHeight:c,zIndex:"1",cursor:"text"}}):null}));d.displayName="TextFieldLabel";const p=(0,r.forwardRef)(((e,t)=>{const{onFocus:n,onBlur:i,onChange:a,...l}=e;return r.createElement(o.Z,{ref:t,as:"input","data-bn-type":"input",...l,onFocus:n,onBlur:i,onChange:a,__css:{width:"100%",height:"100%",padding:"0",outline:"none",border:"none",bg:"inherit",opacity:1,"&::placeholder":{color:"t.placeholder",fontSize:"14px"}}})}));p.displayName="TextFieldInput";const h=(0,r.forwardRef)((({variant:e="default",id:t,value:n,defaultValue:l,label:h,placeholder:f,error:m,disabled:x,prefix:g,suffix:b,infoText:y="",errorText:v="",onFocus:w,onBlur:C,onChange:j,boxProps:S,required:k,extraInfo:Z,size:E="lg",...O},R)=>{const[N,M]=r.useState(""),{current:T}=r.useRef(null!=n),[I,$]=r.useState(l);T&&n!==I&&$(n);const P=m?"error":"info",z=m?v:y,B="string"==typeof h?h:O["area-label"];let F=x?"disabled":m?"error":N;return""!==F&&(F=`bn-input-status-${F}`),r.createElement(i.Z,{tx:"textFieldV2",className:s()([F,"md"===E&&"bn-input-md","sm"===E&&"bn-input-sm"]),variant:e,...S,__css:{display:"inline-flex",position:"relative",height:c,mt:h?c:"0px",mb:z.length>0?"16px":"0px",alignItems:"center",lineHeight:1.6,"&.bn-input-status-focus .bn-input-label":{top:`-${c}`}}},g&&r.createElement(o.Z,{className:"bn-input-prefix"},g),r.createElement(p,{id:t,onFocus:e=>{M("focus"),w&&w(e)},onBlur:e=>{M(""),C&&C(e)},onChange:e=>{T||$(e.target.value),j&&j(e)},ref:R,value:I,"aria-label":B,disabled:x,placeholder:f,required:k,...O}),b&&r.createElement(o.Z,{className:"bn-input-suffix"},b),r.createElement(d,{htmlFor:t,required:k},h),Z&&r.createElement(u,null,Z),z.length>0&&r.createElement(a.Z,{className:"bn-input-helper-text",variant:`textField.helperText.${P}`,__css:{position:"absolute",bottom:"-20px",lineHeight:"16px"}},z))}));h.displayName="TextFieldV2";const f=h},65839:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(96832),o=n(86282),i=n(87608),a=n.n(i),l=n(4458);const s=r.forwardRef((function({arrow:e,arrowRef:t,arrowStyle:n,children:i,open:s,className:c,bg:d,...u},p){const h=r.useMemo((()=>({"&,&::before":{position:"absolute",width:"6px",height:"6px",zIndex:-1},"&::before":{content:'""',display:"block"}})),[]),f=r.useMemo((()=>({boxSizing:"content-box",position:"absolute",width:"max-content",wordBreak:"normal",zIndex:"tooltip",maxWidth:"296px",'&[data-popper-placement^="top"] > [data-popper-arrow]':{bottom:"-3px"},"& > .gap-fill":{position:"absolute",display:"block"},'&[data-popper-placement^="top"] > [data-popper-arrow]::before':{transform:"rotate(45deg)"},'&[data-popper-placement^="top"] > .gap-fill':{bottom:`-${l.SG}px`,left:"0",width:"100%",height:`${l.SG}px`},'&[data-popper-placement^="bottom"] > [data-popper-arrow]':{top:"-3px"},'&[data-popper-placement^="bottom"] > [data-popper-arrow]::before':{transform:"rotate(225deg)"},'&[data-popper-placement^="bottom"] > .gap-fill':{top:`-${l.SG}px`,left:"0",width:"100%",height:`${l.SG}px`},'&[data-popper-placement^="left"] > [data-popper-arrow]':{right:"-3px"},'&[data-popper-placement^="left"] > [data-popper-arrow]::before':{transform:"rotate(-45deg)"},'&[data-popper-placement^="left"] > .gap-fill':{top:"0",right:`-${l.SG}px`,width:`${l.SG}px`,height:"100%"},'&[data-popper-placement^="right"] > [data-popper-arrow]':{left:"-3px"},'&[data-popper-placement^="right"] > [data-popper-arrow]::before':{transform:"rotate(135deg)"},'&[data-popper-placement^="right"] > .gap-fill':{top:"0",left:`-${l.SG}px`,width:`${l.SG}px`,height:"100%"},".bn-tooltip-arrow[data-popper-arrow]::before":{backgroundColor:d}})),[l.SG,d]);return s?r.createElement(o.Z,{ref:p,variant:"tooltip",bg:d,className:a()(c,"bn-tooltip-box"),...u,__css:f},i,e&&r.createElement(o.Z,{className:"bn-tooltip-arrow",ref:t,"data-popper-arrow":!0,__css:h,style:n}),r.createElement("i",{className:"gap-fill"})):null}))},4458:(e,t,n)=>{n.d(t,{BP:()=>a,O9:()=>l,SG:()=>s,hy:()=>o,x9:()=>r});const r=120,o={transition:`opacity ${r}ms ease-in-out, transform ${r}ms ease-in-out`,opacity:.25,transform:"translate3d(0, 0, 0)"},i={bottom:"translate3d(0, 6px, 0)",left:"translate3d(-6px, 0, 0)",right:"translate3d(6px, 0, 0)",top:"translate3d(0, -6px, 0)"},a=e=>(e=function(e){return e.split("-")[0]}(e||"top"),{entering:{opacity:.25,transform:"translate3d(0, 0, 0)"},entered:{opacity:1,transform:"translate3d(0, 0, 0)"},exiting:{opacity:.25,transform:i[e]},exited:{visibility:"hidden",opacity:0,transform:i[e]}}),l={"bottom-end":"bottom-start","bottom-start":"bottom-end","left-end":"right-end","left-start":"right-start",left:"right","right-end":"left-end","right-start":"left-start",right:"left","top-end":"top-start","top-start":"top-end"},s=8},57546:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(96832),o=n(415);const i=e=>r.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},r.createElement("path",{d:"M16.5 8.49v2.25L12 15.51l-4.5-4.77V8.49h9z",fill:"currentColor"}))},22613:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(96832),o=n(415);const i=e=>r.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"}))},52123:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(96832),o=n(23647);function i(){return r.useContext(o.Z)}},55096:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(80862),o=n.n(r),i=n(65021),a=n.n(i)()(o());a.push([e.id,".alb-text-align {\n  text-align: right !important;\n}\n\n.alb-direction-rtl {\n  direction: initial !important;\n  align-items: flex-end !important;\n}\n\n.alb-transform-rotate {\n  display: inline-block;\n  transform: rotate(180deg);\n}\n\n.alb-justify-content {\n  justify-content: flex-start;\n}\n\n.alb-date-range {\n  left: -9999px !important;\n}\n",""]);const l=a},79186:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(30298),o=n.n(r),i=n(79609),a=n.n(i),l=n(97885),s=n.n(l),c=n(53640),d=n.n(c),u=n(91257),p=n.n(u),h=n(77966),f=n.n(h),m=n(55096),x={};x.styleTagTransform=f(),x.setAttributes=d(),x.insert=s().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=p(),o()(m.Z,x);const g=m.Z&&m.Z.locals?m.Z.locals:void 0},7801:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Q});var r=n(58138),o=n(96832),i=n(25745),a=n(72249),l=n(214),s=n(42899),c=n(38547),d=n(2717),u=n(65154),p=n(93229);const h="PLACE_ORDER_TYPE";var f=n(33837);const m={userSelect:"none",fontSize:"12px",height:"40px",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1,minWidth:"100px",borderTop:"2px solid",cursor:"pointer",lineHeight:"16px","&.buy-button":{":hover":{bg:e=>(0,f.DZ)(e.colors.buy,.7)},bg:e=>(0,f.DZ)(e.colors.buy,.15),borderColor:"buy"},"&.sell-button":{":hover":{bg:e=>(0,f.DZ)(e.colors.sell,.7)},bg:e=>(0,f.DZ)(e.colors.sell,.15),borderColor:"sell"},padding:"2px 0 3px",".title":{color:"t.secondary"},".text":{color:"t.primary"}},x={bg:"bg1",pt:"xs",".container":{width:"25px",mx:"2px",flexDirection:"column",alignItems:"center",cursor:"pointer",color:"t.third","&.active":{"& > div:first-of-type":{bg:"t.secondary"},color:"t.secondary"}},".stepper":{height:"10px",mb:"2px",width:"23px",bg:"bg3"},".value":{fontSize:"12px",transform:"scale(calc(10/12))",color:"t.third"},".position-value":{flex:1,fontSize:"12px",color:"t.secondary"}},g={minWidth:"312px",width:"auto",position:"absolute",zIndex:"flashOrder",color:"white",minHeight:"40px",alignItems:"center",justifyContent:"space-between",bg:"popupBg","&.drag-hide":{display:"none"}},b={minWidth:"16px",width:"16px",justifyContent:"center",display:"flex",height:"40px",alignItems:"center",cursor:"grab",color:"icons.close",userSelect:"none",bg:"popupBg"},y={fontSize:"12px",flexDirection:"column",justifyContent:"center",minWidth:"100px",padding:"3px 4px 4px 4px",maxWidth:"150px",textAlign:"center",".amount":{"div.bn-input-tooltip":{bottom:"47px",width:"fit-content",left:"50%",transform:"translateX(-50%)","& .bn-input-tooltip-arrow":{left:"50%"},"& .bn-input-tooltip-content":{p:"7px 12px",width:"fit-content",whiteSpace:"nowrap"}},"div:not(.bn-input-tooltip):not(.bn-input-tooltip-arrow):not(.bn-input-tooltip-content)":{border:"none",margin:"0",height:"20px",input:{fontSize:"12px",textAlign:"center"}},".bn-input-prefix":{display:"none"}},"div:first-of-type":{color:"t.secondary"},input:{minWidth:"80px",maxWidth:"100px",width:"auto",bg:"popupBg",color:"t.primary"}},v={userSelect:"none",minWidth:"16px",width:"16px",height:"40px",justifyContent:"center",display:"flex",alignItems:"center",bg:"popupBg",".icon":{cursor:"pointer",flexShrink:0,color:"icons.close","&:hover":{color:"primary"}}},w=({positionDirection:e,type:t="bid",handleClick:n=(()=>{}),dispatch:i=(()=>{})})=>{const{BuyText:c,SellText:d}=(0,l.x_)(e);let u,p,f,x,g=s.PR.BOTH;const{bidPrice:b,askPrice:y}=(0,l.he)(),{positionMode:v}=(0,l.F7)();"bid"===t?(p=c,f=String(y),u="buy-button",x=1,v&&(e===s.RS.OPEN?g=s.PR.LONG:e===s.RS.CLOSE&&(g=s.PR.SHORT))):(p=d,f=String(b),u="sell-button",x=-1,v&&(e===s.RS.OPEN?g=s.PR.SHORT:e===s.RS.CLOSE&&(g=s.PR.LONG)));const w=(0,o.useCallback)((e=>{e.preventDefault(),i({type:h,payload:{side:x,positionSide:g}}),n(!0)}),[g,i,x,n]);return(0,o.useMemo)((()=>(0,r.jsxs)(a.Z,Object.assign({onClick:w,sx:m,className:u},{children:[(0,r.jsx)("div",Object.assign({className:"title"},{children:p})),(0,r.jsx)("div",Object.assign({className:"text"},{children:f}))]}))),[w,u,p,f])};var C=n(53282),j=n(92336),S=n(87608),k=n.n(S),Z=n(97715),E=n(79186),O=n(3422);const R=/^\d+\.?\d*|%$/,N=/^0+(?=\d)/,M=o.memo((e=>{var{name:t,value:n,error:i,disabled:a=!1,precision:s,errorText:c,infoText:d,placeholder:u,onChange:p,maxLength:h,autoZero:f=!1,inputRef:m,onFocus:x,onBlur:g}=e,b=(0,j.__rest)(e,["name","value","error","disabled","precision","errorText","infoText","placeholder","onChange","maxLength","autoZero","inputRef","onFocus","onBlur"]);const y="rtl"===(0,l.gm)()?k()(E.Z["alb-text-align"]):"",v=(0,o.useCallback)((e=>{let t=e.target.value;!0===f&&"string"==typeof t&&0===t.indexOf(".")&&(t=`0${t}`),!R.test(t)&&""!==t||isNaN(t)?e.stopPropagation():(t=t.replace(N,""),(0,O.N3)(t)>s&&(t=t.replace(new RegExp(`^(\\d*\\.\\d{${s}})\\d*`),"$1")),h&&t.split(".")[0].length>h&&(t=n),0===s&&(t=t.replace(".","")),p&&(t=p(t)),e.target.value=t)}),[p,h,s,n,f]),w=(0,o.useCallback)((e=>{const t=e.target.value;R.test(t)||(e.target.value=""),null==g||g(e)}),[g]),C=(0,o.useCallback)((e=>{e.target.value||(e.target.value="")}),[]);return(0,r.jsx)(Z.Z,Object.assign({name:t,ref:m,variant:"inline",className:y,type:"text",value:n,placeholder:u,disabled:a,onClick:C,onChange:v,onBlur:w,onFocus:x,error:i,infoText:d,errorText:c},b))}));var T=n(37218),I=n(95408);const $=({inputRef:e,submitError:t,quantity:n="",setQuantity:i,dispatch:s,onFocus:c})=>{const{getI18n:d}=(0,T.yk)(),[u]=(0,l.eY)(),{cUnit:p,precision:f,helperText:m,minContQty:x,placeholder:g,buyCont:b,buyQty:v,sellCont:w,sellQty:j}=(0,l.ql)({quantity:n}),S=`${d("quantity")} (${p})`,k=!Number.isNaN(Number(n));return(0,o.useEffect)((()=>{s({type:h,payload:{minContQty:x,buyQty:v,sellQty:j,buyCont:b,sellCont:w}})}),[n,x,u]),(0,r.jsxs)(a.Z,Object.assign({sx:y},{children:[(0,r.jsx)("div",{children:S}),(0,r.jsx)("div",Object.assign({className:"amount"},{children:(0,r.jsx)(M,{id:"flashOrderQuantity",inputRef:e,type:k?"number":"text",step:(0,I.nH)(f),precision:f,value:n,placeholder:g,maxLength:C.ze,error:Boolean(t),errorText:t,infoText:m,autoZero:!0,onChange:i,onFocus:c})}))]}))};var P=n(85022);var z=n(46050),B=n(44294);const F={l:15,t:65,b:window.innerHeight-55,r:window.innerWidth-340},_=(window.innerHeight,window.innerWidth,{l:15,t:250}),D=({draggableRef:e})=>(0,o.useMemo)((()=>(0,r.jsx)(a.Z,Object.assign({ref:e,sx:b},{children:(0,r.jsxs)("svg",Object.assign({width:"6",height:"12",viewBox:"0 0 6 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("rect",{width:"2",height:"2",fill:"currentColor"}),(0,r.jsx)("rect",{y:"5",width:"2",height:"2",fill:"currentColor"}),(0,r.jsx)("rect",{y:"10",width:"2",height:"2",fill:"currentColor"}),(0,r.jsx)("rect",{x:"4",width:"2",height:"2",fill:"currentColor"}),(0,r.jsx)("rect",{x:"4",y:"5",width:"2",height:"2",fill:"currentColor"}),(0,r.jsx)("rect",{x:"4",y:"10",width:"2",height:"2",fill:"currentColor"})]}))}))),[e]),L=o.memo((({children:e,visible:t,draggableRef:n})=>{const{isIPad:i}=(0,T.Fs)(),[l,s]=(0,P.Z)("flash-order-position",_),c=F,d=(x=l,(b=(0,o.useRef)(x)).current=x,b),u=(0,o.useRef)(!0),p=(0,o.useRef)(!1),h=(0,z.xG)((e=>e.setDisableMouse)),f=(0,o.useRef)({x:0,y:0}),m=(0,o.useCallback)((e=>{p.current=!0,h(!0),f.current={x:e.screenX,y:e.screenY}}),[h]);var x,b;(0,o.useEffect)((()=>{var e,t;return null===(e=n.current)||void 0===e||e.addEventListener("mousedown",m),null===(t=n.current)||void 0===t||t.addEventListener("touchstart",m),()=>{const{current:e}=n;null==e||e.removeEventListener("mousedown",m),null==e||e.removeEventListener("touchstart",m)}}),[n,m]);const y=(0,o.useCallback)((e=>{e.preventDefault(),p.current=!1,h(!1)}),[h]),v=(0,o.useCallback)((e=>{setTimeout((()=>{if(e.preventDefault(),!p.current)return;const t=f.current,n=e.screenX-t.x,r=e.screenY-t.y;if(i){const t=window.innerWidth-e.changedTouches[0].clientX,n=window.innerWidth-e.changedTouches[0].clientY;return s({l:Math.min(F.r,Math.max(t,F.l)),t:Math.min(F.b,Math.max(n,F.t))})}const o=d.current;if(!o)return;const{l:a,t:l}=o,u=a+n,h=l+r;s({l:Math.min(c.r,Math.max(u,c.l)),t:Math.min(c.b,Math.max(h,c.t))}),f.current={x:e.screenX,y:e.screenY}}),15)}),[s,i,d]);return(0,o.useEffect)((()=>{if(u.current)return window.addEventListener(i?"touchmove":"mousemove",v),window.addEventListener(i?"touchend":"mouseup",y),u.current=!1,()=>{window.removeEventListener(i?"touchmove":"mousemove",v),window.removeEventListener(i?"touchend":"mouseup",y)}}),[y,v,i]),(0,r.jsx)(a.Z,Object.assign({sx:Object.assign(Object.assign({},g),{transform:`translate(${l?Math.max(l.l,F.l):_.l}px, ${l?Math.max(l.t,F.t):_.t}px)`,zIndex:p.current?B.Z.zIndices.flashOrder:9}),className:t?"":"drag-hide"},{children:e}))}));var G=n(1515);const H=({onRemove:e})=>(0,r.jsx)(a.Z,Object.assign({sx:v},{children:(0,r.jsx)(G.Z,{className:"icon",size:8,onClick:e})}));var W=n(49247),A=n(71882);const K=[25,50,75,100],q=o.memo((({onClose:e,onChange:t,percent:n,setPercent:i,precision:s})=>{const{curMaxBuyAmount:c,curMaxSellAmount:d,cUnit:u,unitAmountPrecision:p}=(0,l._k)(),h=(0,o.useMemo)((()=>(0,A.Jp)((0,A.Jp)(n/100,c).toFixed(p,1),1).toFixed(s,1)),[p,n,s]),f=(0,o.useMemo)((()=>(0,A.Jp)((0,A.Jp)(n/100,d).toFixed(p,1),1).toFixed(s,1)),[p,n,s]),m=(0,o.useCallback)((r=>{var o;const a=+(null===(o=r.currentTarget.dataset)||void 0===o?void 0:o.stepper);a!==n?(i(a),null==t||t(a)):null==e||e()}),[t,e,n,i]);return(0,r.jsxs)(a.Z,Object.assign({sx:x},{children:[(0,r.jsx)(a.Z,Object.assign({className:"position-value",justifyContent:"flex-end"},{children:n?(0,r.jsxs)(W.Z,{children:[h," ",u]}):null})),(0,r.jsx)(a.Z,Object.assign({mx:"6px"},{children:K.map((e=>(0,r.jsxs)(a.Z,Object.assign({"data-stepper":e,onClick:m,className:n>=e?"container active":"container"},{children:[(0,r.jsx)(a.Z,{className:"stepper"}),(0,r.jsxs)(W.Z,Object.assign({className:"value"},{children:[e,"%"]}))]}),e)))})),(0,r.jsx)(a.Z,Object.assign({className:"position-value",justifyContent:"flex-start"},{children:n?(0,r.jsxs)(W.Z,{children:[f," ",u]}):null}))]}))})),Q=o.memo((()=>{const[e,t]=(0,o.useState)(""),[n]=(0,l.hN)(),[f,m]=(0,o.useState)(!1),[x,g]=(0,o.useState)(""),[b,y]=(0,o.useState)(!1),v=(0,o.useRef)(null),C=(0,o.useRef)(null),j=(0,o.useRef)(null),S=(0,o.useRef)(null),[k,Z]=(0,o.useState)(0),{placeOrderReducer:E}=(0,l.b9)(),[O,[R,N]]=(0,l.z4)(),M=(0,l.j2)(),{marginAsset:T}=M,[I,P]=(0,o.useReducer)(E,{isFetching:!1,tradeCont:0,buyCont:0,buyQty:0,sellCont:0,sellQty:0,side:1,positionSide:s.PR.LONG}),{precision:z}=(0,l.ql)({quantity:e}),B=(0,o.useCallback)((()=>{t(""),Z(0),y(!1),g("")}),[]),{side:F,tradeCont:_}=I,G=n?s.RS.OPEN:s.RS.BOTH,W=1===F?s.hp.BUY:s.hp.SELL,[,A]=(0,l.e5)(),K=(0,o.useCallback)((()=>{A(!1)}),[A]),Q=(0,o.useCallback)((()=>{var e;null===(e=null==S?void 0:S.current)||void 0===e||e.focus()}),[]),V=(0,o.useCallback)((()=>{y(!1),Z(0),t("")}),[]),Y=(0,o.useCallback)((()=>{e||V()}),[e,V]),{setMessageInfo:U}=(0,l.YT)(),J=(0,l.h5)(),X=(0,u.F)({afterSubmit:B,overrides:{positionDirection:G,timeInForce:p.rb.GTC,orderType:s.Jm.MARKET,reduceOnly:!1}});return(0,o.useEffect)((()=>{if(f){const{valid:t,message:n}=J(+_);if(!t)return g(n),U({message:n,variant:"error"}),void m(!1);X(Object.assign(Object.assign({},c.U),{buyOrderAmount:+_,sellOrderAmount:+_,side:W,unitAmount:e})),m(!1)}}),[X,W,k,_,f,J,U,e]),(0,o.useEffect)((function(){B()}),[O,B]),(0,o.useEffect)((function(){g("")}),[e]),(0,i.Z)(j,Y,["click"]),(0,r.jsxs)(L,Object.assign({visible:!0,draggableRef:v},{children:[(0,r.jsxs)(a.Z,Object.assign({ref:j,sx:{flexDirection:"column"}},{children:[(0,r.jsxs)(a.Z,Object.assign({justifyContent:"center"},{children:[(0,r.jsx)(D,{draggableRef:v}),(0,r.jsxs)(a.Z,Object.assign({height:"40px",justifyContent:"stretch",bg:"popupBg",sx:{position:"relative"}},{children:[(0,r.jsx)(w,{positionDirection:G,handleClick:()=>{P({type:h,payload:{tradeCont:(null==I?void 0:I.buyCont)||(null==I?void 0:I.buyQty)}}),m(!0),Q()},type:"bid",dispatch:P}),(0,r.jsx)($,{inputRef:S,quantity:e,setQuantity:e=>{b&&!(e=>e.indexOf("%")>=0)(e)&&Z(0),t(e)},dispatch:P,onFocus:()=>y(!0),submitError:x}),(0,r.jsx)(w,{positionDirection:G,handleClick:()=>{P({type:h,payload:{tradeCont:(null==I?void 0:I.sellCont)||(null==I?void 0:I.sellQty)}}),m(!0),Q()},type:"ask",dispatch:P})]})),(0,r.jsx)(H,{onRemove:K})]})),b&&(0,r.jsx)(q,{percent:k,setPercent:Z,precision:z,onChange:e=>{t(`${e}%`)},onClose:V})]})),(0,r.jsx)(d.Z,{symbol:O,base:R,quote:N,ticker:M,ref:C,marginAsset:T})]}))}))},46050:(e,t,n)=>{n.d(t,{Nu:()=>x,Qy:()=>m,zz:()=>h,PH:()=>u,Lb:()=>p,kH:()=>f,Gt:()=>b,xG:()=>d});var r=n(18101),o=n(9076),i=n(62629);const a={keys:new Set,setItem(e,t,n){if("function"!=typeof n)return new Promise((n=>{this.keys.add(e),this[e]=t,n()}));this.keys.add(e),this[e]=t,n(null)},getItem(e,t){if("function"!=typeof t)return new Promise((t=>{t(this[e])}));t(this[e])},removeItem(e,t){if("function"!=typeof t)return new Promise((t=>{this[e]=void 0,this.keys.delete(e),t()}));this[e]=void 0,this.keys.delete(e),t(null)},clear(e){if("function"!=typeof e)return new Promise((e=>{this.keys.forEach((e=>{this[e]=void 0})),this.keys.clear(),e()}));this.keys.forEach((e=>{this[e]=void 0})),this.keys.clear(),e(null)},create(){return Object.create(this)}},l={setItem(e,t,n){const r="object"==typeof t?JSON.stringify(t):t;if("function"!=typeof n)return new Promise(((t,n)=>{try{window.localStorage.setItem(e,r),t()}catch(e){n(e)}}));try{window.localStorage.setItem(e,r),n(null)}catch(e){n(e)}},getItem(e,t){if("function"!=typeof t)return new Promise((t=>{t((0,i.As)(window.localStorage.getItem(e)))}));t(null,(0,i.As)(window.localStorage.getItem(e)))},removeItem(e,t){if("function"!=typeof t)return new Promise((t=>{window.localStorage.removeItem(e),t()}));window.localStorage.removeItem(e),t(null)},clear(e){if("function"!=typeof e)return new Promise((e=>{window.localStorage.clear(),e()}));window.localStorage.clear(),e(null)},create(){return Object.create(this)}};function s(e){const t=new Map;return function(n,...r){if(t.has(n))return t.get(n);const o=e(n,...r);return t.set(n,o),o}}function c({stateKey:e,storageKey:t=e,defaultValue:n,validator:r,storage:s}){const c=void 0!==(d=s)?d:"undefined"!=typeof window?l.create():a.create();var d,u;return(0,o.Ue)((u=(t,r)=>({[e]:n,[`set${(0,i.kC)(e)}`]:n=>t({[e]:n}),[`toggle${(0,i.kC)(e)}`]:()=>t({[e]:!r()[e]})}),(o,a,l)=>{const s=u((n=>{o(n);const r=a()[e];c.setItem(t,r)}),a);let d={};return"undefined"!=typeof window&&c.getItem(t,((t,o)=>{let i;i="function"==typeof r?r(o)?o:n:null!=o?o:n,d={[e]:i}})),Object.assign(Object.assign(Object.assign({},s),d),{[`clear${(0,i.kC)(e)}`](){c.removeItem(t),o(s)}})}))}const d=(0,o.Ue)((e=>({disableMouse:!1,setDisableMouse:t=>e({disableMouse:t})}))),u=s((function(e){return c({stateKey:"miniMultiChartType",storageKey:`${e}-chart-miniMultiChartType`,defaultValue:r.k.Store.ChartMode.Single})})),p=s((function(e){return c({stateKey:"miniMultiChartWindows",storageKey:`${e}-chart-miniMultiChartWindows`,defaultValue:["","","",""]})})),h=s((function(e){return c({stateKey:"lastSelectedMiniMultiChartWindow",storageKey:`${e}-chart-lastSelectedMiniMultiChartWindow`,defaultValue:0})})),f=s((function(e){return c({stateKey:"priceType",storageKey:`${e}-chart-priceType`,defaultValue:r.k.Store.PriceType.Last})})),m=s((function(e){return c({stateKey:"interval",storageKey:`${e}-chart-interval`,defaultValue:r.k.Store.DisplayIntervals["1d"]})})),x=s((function(e){return c({stateKey:"chartType",storageKey:`${e}-chart-type`,defaultValue:r.k.Store.OriginalChartStyle.CandleBar})}));var g=n(25048);const b=(0,o.Ue)((e=>({posCalcData:{},setPosCalcData:(t,n,r)=>e((0,g.ZP)((e=>{e.posCalcData[t]||(e.posCalcData[t]={}),t&&n&&e.posCalcData[t][n]!==r&&(e.posCalcData[t][n]=r)})))})))}}]);