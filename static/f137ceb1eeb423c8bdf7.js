"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[4919],{82373:(e,t,r)=>{r.d(t,{Z:()=>d});var a=r(96832),o=r(415),n=r(86282);const l=e=>a.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{d:"M3 10.5v3h18v-3H3z",fill:"currentColor"})),i=e=>a.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"})),s=e=>e["data-indeterminate"]?a.createElement(l,{...e}):a.createElement(i,{...e}),c=(0,a.forwardRef)(((e,t)=>{const{className:r,sx:o,defaultChecked:l=!1,checked:i,indeterminate:c=!1,size:d=16,onChange:p,...u}=e,{current:m}=a.useRef(null!=i),[h,f]=a.useState(l);return m&&i!==h&&f(void 0!==i&&i),a.createElement(n.Z,{className:r,sx:o,__css:{mr:"xs",flexShrink:0,width:d,height:d,lineHeight:"number"==typeof d?`${d}px`:d,"> svg":{boxSizing:"border-box",cursor:"pointer",border:"1px solid",borderColor:"t.disabled",borderRadius:"small",maxWidth:"100%",maxHeight:"100%",bg:"transparent",fill:"transparent"},"> svg path":{fill:"inherit"},":hover":{"input:not(:disabled) ~ svg":{borderColor:"primary"}},"input:checked ~ svg":{border:"none",bg:"primary",fill:c?"checkbox.indeterminateFill":"bg1"},"input:disabled ~ svg":{cursor:"not-allowed",bg:"line",fill:"line",border:"none"},"input:checked:disabled ~ svg":{fill:"t.disabled"}}},a.createElement(n.Z,{ref:t,as:"input",type:"checkbox","data-bn-type":"checkbox",hidden:!0,...u,checked:h,"data-indeterminate":h&&c,onChange:e=>{let t=!h;m||f(t),e.target.checked=t,e.currentTarget.checked=t,p&&p(e)},sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}}),a.createElement(s,{"aria-hidden":"true","data-indeterminate":c}))}));c.displayName="Checkbox";const d=c},97565:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(96832);function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function n(e,t){return a.useMemo((()=>null==e&&null==t?null:r=>{o(e,r),o(t,r)}),[e,t])}},18637:(e,t,r)=>{r.d(t,{Z:()=>h});var a=r(96832),o=r(86282),n=r(72249),l=r(49247),i=r(87608),s=r.n(i);const c="32px",d=(0,a.forwardRef)(((e,t)=>{const{children:r,required:n}=e;return r?a.createElement(o.Z,{ref:t,as:"label",className:s()({"bn-input-label-required":n},"bn-input-label"),tx:"forms",variant:"label",...e,__css:{position:"absolute",top:`-${c}`,left:"0px",lineHeight:c,zIndex:"1",cursor:"text","&.bn-input-label-required::before":{display:"inline-block",marginRight:"minor",color:"error",content:'"*"'}}}):null})),p=(0,a.forwardRef)(((e,t)=>{const{children:r}=e;return r?a.createElement(o.Z,{ref:t,as:"label",className:"bn-input-label",tx:"forms",variant:"label",...e,__css:{position:"absolute",top:`-${c}`,right:0,lineHeight:c,zIndex:"1",cursor:"text"}}):null}));d.displayName="TextFieldLabel";const u=(0,a.forwardRef)(((e,t)=>{const{onFocus:r,onBlur:n,onChange:l,...i}=e;return a.createElement(o.Z,{ref:t,as:"input","data-bn-type":"input",...i,onFocus:r,onBlur:n,onChange:l,__css:{width:"100%",height:"100%",padding:"0",outline:"none",border:"none",bg:"inherit",opacity:1,"&::placeholder":{color:"t.placeholder",fontSize:"14px"}}})}));u.displayName="TextFieldInput";const m=(0,a.forwardRef)((({variant:e="default",id:t,value:r,defaultValue:i,label:m,placeholder:h,error:f,disabled:b,prefix:g,suffix:y,infoText:w="",errorText:S="",onFocus:x,onBlur:k,onChange:v,boxProps:C,required:M,extraInfo:T,size:E="lg",...Z},I)=>{const[R,$]=a.useState(""),{current:N}=a.useRef(null!=r),[_,z]=a.useState(i);N&&r!==_&&z(r);const D=f?"error":"info",F=f?S:w,j="string"==typeof m?m:Z["area-label"];let H=b?"disabled":f?"error":R;return""!==H&&(H=`bn-input-status-${H}`),a.createElement(n.Z,{tx:"textFieldV2",className:s()([H,"md"===E&&"bn-input-md","sm"===E&&"bn-input-sm"]),variant:e,...C,__css:{display:"inline-flex",position:"relative",height:c,mt:m?c:"0px",mb:F.length>0?"16px":"0px",alignItems:"center",lineHeight:1.6,"&.bn-input-status-focus .bn-input-label":{top:`-${c}`}}},g&&a.createElement(o.Z,{className:"bn-input-prefix"},g),a.createElement(u,{id:t,onFocus:e=>{$("focus"),x&&x(e)},onBlur:e=>{$(""),k&&k(e)},onChange:e=>{N||z(e.target.value),v&&v(e)},ref:I,value:_,"aria-label":j,disabled:b,placeholder:h,required:M,...Z}),y&&a.createElement(o.Z,{className:"bn-input-suffix"},y),a.createElement(d,{htmlFor:t,required:M},m),T&&a.createElement(p,null,T),F.length>0&&a.createElement(l.Z,{className:"bn-input-helper-text",variant:`textField.helperText.${D}`,__css:{position:"absolute",bottom:"-20px",lineHeight:"16px"}},F))}));m.displayName="TextFieldV2";const h=m},65839:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(96832),o=r(86282),n=r(87608),l=r.n(n),i=r(4458);const s=a.forwardRef((function({arrow:e,arrowRef:t,arrowStyle:r,children:n,open:s,className:c,bg:d,...p},u){const m=a.useMemo((()=>({"&,&::before":{position:"absolute",width:"6px",height:"6px",zIndex:-1},"&::before":{content:'""',display:"block"}})),[]),h=a.useMemo((()=>({boxSizing:"content-box",position:"absolute",width:"max-content",wordBreak:"normal",zIndex:"tooltip",maxWidth:"296px",'&[data-popper-placement^="top"] > [data-popper-arrow]':{bottom:"-3px"},"& > .gap-fill":{position:"absolute",display:"block"},'&[data-popper-placement^="top"] > [data-popper-arrow]::before':{transform:"rotate(45deg)"},'&[data-popper-placement^="top"] > .gap-fill':{bottom:`-${i.SG}px`,left:"0",width:"100%",height:`${i.SG}px`},'&[data-popper-placement^="bottom"] > [data-popper-arrow]':{top:"-3px"},'&[data-popper-placement^="bottom"] > [data-popper-arrow]::before':{transform:"rotate(225deg)"},'&[data-popper-placement^="bottom"] > .gap-fill':{top:`-${i.SG}px`,left:"0",width:"100%",height:`${i.SG}px`},'&[data-popper-placement^="left"] > [data-popper-arrow]':{right:"-3px"},'&[data-popper-placement^="left"] > [data-popper-arrow]::before':{transform:"rotate(-45deg)"},'&[data-popper-placement^="left"] > .gap-fill':{top:"0",right:`-${i.SG}px`,width:`${i.SG}px`,height:"100%"},'&[data-popper-placement^="right"] > [data-popper-arrow]':{left:"-3px"},'&[data-popper-placement^="right"] > [data-popper-arrow]::before':{transform:"rotate(135deg)"},'&[data-popper-placement^="right"] > .gap-fill':{top:"0",left:`-${i.SG}px`,width:`${i.SG}px`,height:"100%"},".bn-tooltip-arrow[data-popper-arrow]::before":{backgroundColor:d}})),[i.SG,d]);return s?a.createElement(o.Z,{ref:u,variant:"tooltip",bg:d,className:l()(c,"bn-tooltip-box"),...p,__css:h},n,e&&a.createElement(o.Z,{className:"bn-tooltip-arrow",ref:t,"data-popper-arrow":!0,__css:m,style:r}),a.createElement("i",{className:"gap-fill"})):null}))},4458:(e,t,r)=>{r.d(t,{BP:()=>l,O9:()=>i,SG:()=>s,hy:()=>o,x9:()=>a});const a=120,o={transition:`opacity ${a}ms ease-in-out, transform ${a}ms ease-in-out`,opacity:.25,transform:"translate3d(0, 0, 0)"},n={bottom:"translate3d(0, 6px, 0)",left:"translate3d(-6px, 0, 0)",right:"translate3d(6px, 0, 0)",top:"translate3d(0, -6px, 0)"},l=e=>(e=function(e){return e.split("-")[0]}(e||"top"),{entering:{opacity:.25,transform:"translate3d(0, 0, 0)"},entered:{opacity:1,transform:"translate3d(0, 0, 0)"},exiting:{opacity:.25,transform:n[e]},exited:{visibility:"hidden",opacity:0,transform:n[e]}}),i={"bottom-end":"bottom-start","bottom-start":"bottom-end","left-end":"right-end","left-start":"right-start",left:"right","right-end":"left-end","right-start":"left-start",right:"left","top-end":"top-start","top-start":"top-end"},s=8},57546:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(96832),o=r(415);const n=e=>a.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{d:"M16.5 8.49v2.25L12 15.51l-4.5-4.77V8.49h9z",fill:"currentColor"}))},22613:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(96832),o=r(415);const n=e=>a.createElement(o.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"}))},52123:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(96832),o=r(23647);function n(){return a.useContext(o.Z)}},13107:(e,t,r)=>{r.r(t),r.d(t,{createMainToobar:()=>I,default:()=>$,miniToolbar:()=>R});var a=r(76398),o=r(58138),n=r(96832),l=r(74958),i=r(1138),s=r(18101),c=r(55849),d=r(46429),p=r(71007),u=r(96404),m=r(12560),h=r(82),f=r(57386),b=r(24366),g=r(97556);const y=e=>[e.miniMultiChartType,e.setMiniMultiChartType],w=e=>[e.lastSelectedMiniMultiChartWindow,e.setLastSelectedMiniMultiChartWindow],S=e=>[e.miniMultiChartWindows,e.setMiniMultiChartWindows],x=e=>[e.interval,e.setInterval],k=e=>[e.chartType,e.setChartType],v=e=>[e.priceType,e.setPriceType],C=(e,t,r)=>{const a=(0,b.lv)(e,r),o=(0,b.lv)(t,r);((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getInterval),[l,i]=(0,g.Qy)(t)(x);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(a,o),((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getOriginalChartStyle),[l,i]=(0,g.Nu)(t)(k);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(a,o),((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getPriceType),[l,i]=(0,g.kH)(t)(v);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(a,o)};var M=r(82010);const T=n.lazy((()=>Promise.all([r.e(2405),r.e(8665)]).then(r.bind(r,68665)))),E=n.lazy((()=>r.e(5786).then(r.bind(r,75786)))),Z=n.lazy((()=>r.e(9737).then(r.bind(r,59737)))),I=({headerSlot:e,closeHandler:t,isPro:r,showFullscreenIcon:a,showChartModeDropdown:n,tabKeys:p})=>{const u=t?(0,o.jsx)(d.Z,{onRemove:t}):null,m=p.map((e=>s.k.Store.Tabs[e]));return({onSymbolChange:t})=>({namespace:o,components:{intervalFilter:d,indicator:p,chartStyleDropdown:h,cameraButton:f,compareButton:b,tabs:g,fullscreen:y,chartModeDropdown:w,priceDropdown:S,symbolTabs:x}})=>{const k=s.k.Store.createStore(o),[v]=k(s.k.Store.getChartMode),[C]=k(s.k.Store.getActiveTab),M=(0,l.I0)(),{isMobile:T}=(0,i.F)(),E=(0,l.v9)(c.Xj),Z=v===s.k.Store.ChartMode.Single,I=s.k.Store.Tabs.TradingView,R=s.k.Store.Tabs.Depth,$=Z&&(C!==R||T)?d({}):null,N=Z&&(C!==R||T)?p():null,_=n&&Z&&C===I?h():null,z=Z&&(C!==R||T)?S():null,D=Z&&C===I?f():null,F=Z&&C===I?b():null,j=Z||T?null:x({onSymbolChange:t}),H=Z?g({tabKeys:m}):null,P=a&&Z?y({expanded:!E,onClick:M.pageStore.toggleFullScreen}):null,K=n?w({onClick:()=>{}}):null;return{medium:{head:[e,$,N,_,D,F,z,j],mid:[],tail:[H,P,K,u],useDraggableHandle:r&&!E},small:{head:[$]}}}},R=({onRemove:e,onResume:t})=>({components:{intervalFilter:r,indicator:a,miniSymbolStatus:o,resumeWindow:n,closeButton:l,priceDropdown:i}})=>{const s=r({});return{medium:{head:[s,a(),i()],mid:[o({showChange:!0})],tail:[n({onResume:t}),l({onRemove:e})],useDraggableHandle:!1},small:{head:[s]}}},$=({symbol:e,globalNamespace:t,namespace:r,useMiniTicker:i,toolbarConfig:d})=>{const b=s.k.Store.createStore(r),[x]=b(s.k.Store.getChartMode),[k]=b(s.k.Store.getActiveTab),v=(0,p.zO)(),$=(0,l.v9)((e=>e.products.products)),N=(0,l.v9)(c.Xj),_=(0,p.d0)(),z=(0,p.Vh)(),D=(0,n.useRef)($),F=(0,n.useRef)(z);D.current=$,F.current=z;const{genSymbolDisplay:j}=(0,p.nN)(),H="light"===(0,p.Fg)(),P=(0,n.useMemo)((()=>H?"white":"black"),[H]);((e,t)=>{((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getChartMode),[l,i]=(0,g.PH)(t)(y);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(e,t),((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getMiniMultiChartWindows),[l,i]=(0,g.Lb)(t)(S);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(e,t),((e,t)=>{const r=s.k.Store.createStore(e),[a,o]=r(s.k.Store.getLastSelectedMiniMultiChartWindow),[l,i]=(0,g.zz)(t)(w);(0,n.useEffect)((()=>i(a)),[a,i]),(0,f.Z)((()=>o(l)))})(e,t),C(e,t,0),C(e,t,1),C(e,t,2),C(e,t,3)})(r,t),(0,n.useEffect)((()=>{N&&(k===s.k.Store.Tabs.TradingView?u.ee.emit("HIDE_FLASH_ORDER",void 0):u.ee.emit("SHOW_FLASH_ORDER",void 0))}),[k,N]);const K=(0,n.useCallback)((e=>{const t=F.current[e]||{},{fullName:r}=j(t);return r}),[j]),O=(0,n.useCallback)((e=>{if(""===e)return e;const{curSymbol:t}=(0,h.Ib)(D.current,m.L6,"delivery"),{contractStatus:r}=F.current[e]||{},a=null==r?void 0:r.toLowerCase();return"close"===a||void 0===a?t:e}),[v]),B=(0,n.useCallback)((()=>(0,a.mG)(void 0,void 0,void 0,(function*(){return{isReadyToTrade:!0,openTime:0}}))),[]),V=(0,n.useCallback)((({symbol:e})=>{const t=F.current[e];t&&_({symbol:t.symbol})}),[_]),W=(0,n.useCallback)((e=>(0,o.jsx)(n.Suspense,Object.assign({fallback:null},{children:(0,o.jsx)(E,{symbol:e.symbol,namespace:e.namespace,useMiniTicker:x===s.k.Store.ChartMode.Four||i})}))),[x,i]),G=(0,n.useCallback)((e=>(0,o.jsx)(n.Suspense,Object.assign({fallback:null},{children:(0,o.jsx)(T,{symbol:e.symbol,namespace:e.namespace,useMiniTicker:i})}))),[i]),L=(0,n.useCallback)((e=>(0,o.jsx)(n.Suspense,Object.assign({fallback:null},{children:(0,o.jsx)(Z,{namespace:e.namespace,symbol:e.symbol,forceHorizontalMode:!0})}))),[]);return(0,o.jsx)(s.k.Containers.Chart,{namespace:r,symbol:e,hostAddress:M.brokerConfig.staticBaseUrl,themeName:P,getSymbolDisplayName:K,checkTradeStatus:B,checkMiniSymbolAvaliablility:O,beforeMiniChartSymbolChange:V,hasDoneFetchingSymbols:Object.keys(F.current).length>0,generateMiniToolbar:R,generateToolbar:I(d),basicKline:W,tradingView:G,depth:L,isHiddenLogo:!0,electron:{}})}},97556:(e,t,r)=>{r.d(t,{Nu:()=>b,Qy:()=>f,zz:()=>m,PH:()=>p,Lb:()=>u,kH:()=>h,Gt:()=>y,xG:()=>d});var a=r(18101),o=r(96781),n=r(34095);const l={keys:new Set,setItem(e,t,r){if("function"!=typeof r)return new Promise((r=>{this.keys.add(e),this[e]=t,r()}));this.keys.add(e),this[e]=t,r(null)},getItem(e,t){if("function"!=typeof t)return new Promise((t=>{t(this[e])}));t(this[e])},removeItem(e,t){if("function"!=typeof t)return new Promise((t=>{this[e]=void 0,this.keys.delete(e),t()}));this[e]=void 0,this.keys.delete(e),t(null)},clear(e){if("function"!=typeof e)return new Promise((e=>{this.keys.forEach((e=>{this[e]=void 0})),this.keys.clear(),e()}));this.keys.forEach((e=>{this[e]=void 0})),this.keys.clear(),e(null)},create(){return Object.create(this)}},i={setItem(e,t,r){const a="object"==typeof t?JSON.stringify(t):t;if("function"!=typeof r)return new Promise(((t,r)=>{try{window.localStorage.setItem(e,a),t()}catch(e){r(e)}}));try{window.localStorage.setItem(e,a),r(null)}catch(e){r(e)}},getItem(e,t){if("function"!=typeof t)return new Promise((t=>{t((0,n.As)(window.localStorage.getItem(e)))}));t(null,(0,n.As)(window.localStorage.getItem(e)))},removeItem(e,t){if("function"!=typeof t)return new Promise((t=>{window.localStorage.removeItem(e),t()}));window.localStorage.removeItem(e),t(null)},clear(e){if("function"!=typeof e)return new Promise((e=>{window.localStorage.clear(),e()}));window.localStorage.clear(),e(null)},create(){return Object.create(this)}};function s(e){const t=new Map;return function(r,...a){if(t.has(r))return t.get(r);const o=e(r,...a);return t.set(r,o),o}}function c({stateKey:e,storageKey:t=e,defaultValue:r,validator:a,storage:s}){const c=void 0!==(d=s)?d:"undefined"!=typeof window?i.create():l.create();var d,p;return(0,o.Ue)((p=(t,a)=>({[e]:r,[`set${(0,n.kC)(e)}`]:r=>t({[e]:r}),[`toggle${(0,n.kC)(e)}`]:()=>t({[e]:!a()[e]})}),(o,l,i)=>{const s=p((r=>{o(r);const a=l()[e];c.setItem(t,a)}),l);let d={};return"undefined"!=typeof window&&c.getItem(t,((t,o)=>{let n;n="function"==typeof a?a(o)?o:r:null!=o?o:r,d={[e]:n}})),Object.assign(Object.assign(Object.assign({},s),d),{[`clear${(0,n.kC)(e)}`](){c.removeItem(t),o(s)}})}))}const d=(0,o.Ue)((e=>({disableMouse:!1,setDisableMouse:t=>e({disableMouse:t})}))),p=s((function(e){return c({stateKey:"miniMultiChartType",storageKey:`${e}-chart-miniMultiChartType`,defaultValue:a.k.Store.ChartMode.Single})})),u=s((function(e){return c({stateKey:"miniMultiChartWindows",storageKey:`${e}-chart-miniMultiChartWindows`,defaultValue:["","","",""]})})),m=s((function(e){return c({stateKey:"lastSelectedMiniMultiChartWindow",storageKey:`${e}-chart-lastSelectedMiniMultiChartWindow`,defaultValue:0})})),h=s((function(e){return c({stateKey:"priceType",storageKey:`${e}-chart-priceType`,defaultValue:a.k.Store.PriceType.Last})})),f=s((function(e){return c({stateKey:"interval",storageKey:`${e}-chart-interval`,defaultValue:a.k.Store.DisplayIntervals["1d"]})})),b=s((function(e){return c({stateKey:"chartType",storageKey:`${e}-chart-type`,defaultValue:a.k.Store.OriginalChartStyle.CandleBar})}));var g=r(25048);const y=(0,o.Ue)((e=>({posCalcData:{},setPosCalcData:(t,r,a)=>e((0,g.ZP)((e=>{e.posCalcData[t]||(e.posCalcData[t]={}),t&&r&&e.posCalcData[t][r]!==a&&(e.posCalcData[t][r]=a)})))})))}}]);