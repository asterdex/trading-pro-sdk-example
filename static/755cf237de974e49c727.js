(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[8132],{85452:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(96832),i=s(86282);const r=(0,n.forwardRef)(((e,t)=>n.createElement(i.Z,{ref:t,tx:"card",variant:"default",...e})));r.displayName="Card";const a=r},97565:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832);function i(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function r(e,t){return n.useMemo((()=>null==e&&null==t?null:s=>{i(e,s),i(t,s)}),[e,t])}},27960:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832),i=s(415);const r=e=>n.createElement(i.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M16 18.172a1 1 0 11-1.414 1.414L8 13a1 1 0 010-1.414L14.586 5A1 1 0 0116 6.414l-5.879 5.879 5.88 5.879z"}))},45256:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832),i=s(415);const r=e=>n.createElement(i.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))},43533:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832),i=s(415);const r=e=>n.createElement(i.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))},99210:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832),i=s(415);const r=e=>n.createElement(i.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M12 10.586l5.95-5.95a1 1 0 111.414 1.414L13.414 12l5.95 5.95a1 1 0 01-1.414 1.414L12 13.414l-5.95 5.95a1 1 0 01-1.414-1.414l5.95-5.95-5.95-5.95A1 1 0 116.05 4.636l5.95 5.95z"}))},35728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s(96832),i=s(10012),r=s(30226),a=s(86282),l=s(72249),o=s(45313),c=s(82373),d=s(415);const u=e=>n.createElement(d.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M15 15a1 1 0 001-1v-.514a1 1 0 00-.286-.7l-3-3.058a1 1 0 00-1.428 0l-3 3.057a1 1 0 00-.286.7V14a1 1 0 001 1h6z"}));var h=s(45256);const g=e=>n.createElement(a.Z,{tx:"listGrid",variant:"default",__css:{overflow:"hidden",boxSizing:"border-box",borderBottom:"1px solid",transition:"all 0.2s ease-in"},...e}),p=e=>n.createElement(a.Z,{tx:"listGrid",variant:"default",__css:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0",padding:"0 16px"},...e}),x=e=>n.createElement(p,{tx:"listGrid",variant:"header",...e});class m extends n.PureComponent{constructor(e){super(e),this.displayName="ListGrid",this.listRef=n.createRef(),this.getSelectKey=e=>{const{rowKey:t}=this.props;return-1===e?-1:t?"function"==typeof t?t(e):e[t]:e.key},this.getSelectKeyWithIndex=(e,t)=>{let s=this.getSelectKey(e);return void 0===s?t:s},this.getItemSize=e=>{const{listGridConfig:t}=this.props;return 0===e&&t.headerCellHeight?t.headerCellHeight:e===this.getEmptyDataIndex()&&t.emptyCellHeight?t.emptyCellHeight:void 0===t.expandHeight?t.collapseHeight:e===this.state.expandItemIndex?t.expandHeight:t.collapseHeight},this.isItemLoaded=e=>e<this.props.data.length,this.getEmptyDataIndex=()=>{const{data:e,renderHeaderCell:t,renderEmptyCell:s}=this.props;if("function"==typeof s){if(0===e.length)return 0;if(1===e.length&&t)return 1}return-1},this._row=({index:e,style:t})=>{const{columns:s,data:i,loadingPlaceholder:r,listGridConfig:o,renderHeaderCell:c,renderEmptyCell:d,onSelect:m}=this.props;if(0===e&&"function"==typeof c)return c();if(this.getEmptyDataIndex()===e&&"function"==typeof d)return d();if(!this.isItemLoaded(e))return n.createElement(a.Z,{style:t},r);const y=i[e],f=this.getSelectKeyWithIndex(y,e);return n.createElement(g,{style:t},s.map(((t,i)=>0===i?n.createElement(x,{key:i,onClick:()=>this.handleExpandAndCollapse(e)},n.createElement(l.Z,{flex:1,alignItems:"center",onClick:m?e=>{e.stopPropagation(),e.preventDefault(),this.handleSelectRow(f)}:void 0},m&&this._checkbox(y,e)," ",this._cell(y,t)),o.expandHeight&&n.createElement(a.Z,{pl:"20px"},e===this.state.expandItemIndex?n.createElement(u,{tx:"listGrid",variant:"toggleIcon"}):n.createElement(h.Z,{tx:"listGrid",variant:"toggleIcon"}))):n.createElement(p,{alignItems:"flex-start",key:i},!s[i].hideTitle&&n.createElement(a.Z,{tx:"listGrid",variant:"leftHeader",__css:{whiteSpace:"nowrap",flexShrink:0}},s[i].title),n.createElement(a.Z,{tx:"listGrid",flex:1,variant:s[i].hideTitle?"":"rightContent"},this._cell(y,t))))))},this._cell=(e,t)=>"function"==typeof t.render?t.render(e[t.dataIndex],e):e[t.dataIndex],this._checkbox=(e,t)=>{let s=this.getSelectKeyWithIndex(e,t);return n.createElement(o.Z,{tx:"listGrid",variant:"checkbox"},n.createElement(c.Z,{checked:this.state.selectedKeySet.has(s),readOnly:!0}))},this.toggleAllSelection=(e=!1)=>{const{data:t,renderHeaderCell:s}=this.props,{selectedKeySet:n}=this.state;if(e)for(let e=0;e<t.length;e++)0===e&&s||n.add(this.getSelectKeyWithIndex(t[e],e));else n.clear();this.renderAndOnSelect()},this.state={expandItemIndex:-1,selectedKeySet:new Set}}static getDerivedStateFromProps(e){return e.selectedKeys?{selectedKeySet:new Set(e.selectedKeys)}:null}componentDidUpdate(e){this.props.data!==e.data&&this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)}handleExpandAndCollapse(e){let t=Math.min(e,this.state.expandItemIndex);t<0&&(t=0),this.state.expandItemIndex===e?this.setState({expandItemIndex:-1}):this.setState({expandItemIndex:e}),this.listRef.current&&this.listRef.current.resetAfterIndex(t,!0)}handleSelectRow(e){const{selectedKeySet:t}=this.state;t.has(e)?t.delete(e):t.add(e),this.renderAndOnSelect()}renderAndOnSelect(){const{selectedKeySet:e}=this.state,{data:t,onSelect:s,renderHeaderCell:n}=this.props,i=Array.from(e).sort(((e,t)=>e-t)),r=[];t.forEach(((t,s)=>{e.has(this.getSelectKeyWithIndex(t,s))&&r.push(s)})),s&&s(n?r.map((e=>e-1)):r,i),this.setState({selectedKeySet:new Set(i)}),this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)}render(){const{data:e,hasMore:t,loadMore:s=(()=>Promise.resolve()),listGridConfig:a,threshold:l=15,...o}=this.props;let c=t?e.length+1:e.length;return-1!==this.getEmptyDataIndex()&&c++,n.createElement(r.Z,{threshold:l,isItemLoaded:this.isItemLoaded,itemCount:c,loadMoreItems:s},(({onItemsRendered:e,ref:t})=>n.createElement(i.S_,{...o,height:a.height,itemCount:c,itemSize:this.getItemSize,onItemsRendered:e,ref:e=>{t(e),this.listRef={current:e}},width:a.width},this._row)))}}},57546:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(96832),i=s(415);const r=e=>n.createElement(i.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{d:"M16.5 8.49v2.25L12 15.51l-4.5-4.77V8.49h9z",fill:"currentColor"}))},40721:(e,t,s)=>{"use strict";function n(e,t="yyyy-MM-dd hh:mm",s=!1){const n=s?{"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()}:{"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};let i=t;return/(y+)/.test(t)&&(i=t.replace(RegExp.$1,`${e.getFullYear()}`.substr(4-RegExp.$1.length))),Object.keys(n).forEach((e=>{new RegExp(`(${e})`).test(i)&&(i=i.replace(RegExp.$1,1===RegExp.$1.length?n[e]:`00${n[e]}`.substr(`${n[e]}`.length)))})),i}s.d(t,{v:()=>n})},14633:(e,t,s)=>{var n=s(77837),i=s(93702);e.exports=function(e,t,s){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(s)&&(r="leading"in s?!!s.leading:r,a="trailing"in s?!!s.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}},79649:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var n=s(92336),i=s(96832);function r(e,t,s){void 0===t&&(t=[]),void 0===s&&(s={loading:!1});var r,a,l=(0,i.useRef)(0),o=(r=(0,i.useRef)(!1),a=(0,i.useCallback)((function(){return r.current}),[]),(0,i.useEffect)((function(){return r.current=!0,function(){r.current=!1}}),[]),a),c=(0,i.useState)(s),d=c[0],u=c[1],h=(0,i.useCallback)((function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var i=++l.current;return d.loading||u((function(e){return(0,n.__assign)((0,n.__assign)({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return o()&&i===l.current&&u({value:e,loading:!1}),e}),(function(e){return o()&&i===l.current&&u({error:e,loading:!1}),e}))}),t);return[d,h]}},30226:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(96832),i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};const a=function(e){function t(){var e,s,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return s=n=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n._lastRenderedStartIndex=-1,n._lastRenderedStopIndex=-1,n._memoizedUnloadedRanges=[],n._onItemsRendered=function(e){var t=e.visibleStartIndex,s=e.visibleStopIndex;n._lastRenderedStartIndex=t,n._lastRenderedStopIndex=s,n._ensureRowsLoaded(t,s)},n._setRef=function(e){n._listRef=e},r(n,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var s=this.props,n=s.isItemLoaded,i=s.itemCount,r=s.minimumBatchSize,a=void 0===r?10:r,l=s.threshold,o=void 0===l?15:l,c=function(e){for(var t=e.isItemLoaded,s=e.itemCount,n=e.minimumBatchSize,i=e.stopIndex,r=[],a=null,l=null,o=e.startIndex;o<=i;o++)t(o)?null!==l&&(r.push(a,l),a=l=null):(l=o,null===a&&(a=o));if(null!==l){for(var c=Math.min(Math.max(l,a+n-1),s-1),d=l+1;d<=c&&!t(d);d++)l=d;r.push(a,l)}if(r.length)for(;r[1]-r[0]+1<n&&r[0]>0;){var u=r[0]-1;if(t(u))break;r[0]=u}return r}({isItemLoaded:n,itemCount:i,minimumBatchSize:a,startIndex:Math.max(0,e-o),stopIndex:Math.min(i-1,t+o)});(this._memoizedUnloadedRanges.length!==c.length||this._memoizedUnloadedRanges.some((function(e,t){return c[t]!==e})))&&(this._memoizedUnloadedRanges=c,this._loadUnloadedRanges(c))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,s=this.props.loadMoreItems||this.props.loadMoreRows,n=function(n){var i=e[n],r=e[n+1],a=s(i,r);null!=a&&a.then((function(){if(!((e={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:i,stopIndex:r}).startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(i,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}var e}))},i=0;i<e.length;i+=2)n(i)}}]),t}(n.PureComponent)},20476:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>et});var n=s(92336),i=s(58138),r=s(96832),a=s(3087),l=s(91531),o=s(86282),c=s(72249),d=s(10600),u=s(29787),h=s.n(u),g=s(83461),p=s(31781),x=s(37218),m=s(57979),y=s(214),f=s(15369),b=s(71882),j=s(31677),O=s(40721),v=s(3362),C=s(9737),S=s(93229),k=s(47181),I=s(63884),w=s(41787),Z=s(20434);const T=(0,v.nM)(),P=e=>T?(({symbol:e,insertTime:t,side:s,origType:n,type:i,price:r,origQty:a,executedQty:l,stopPrice:o,workingType:c,activatePrice:d,avgPrice:u,priceRate:h})=>{var g;const{getI18n:p}=(0,w.Z)(),{isCoinUnit:m}=(0,Z.Q)(),{getI18n:I}=(0,x.yk)(),T=(0,y.AM)()[e]||{},{equalQtyPrecision:P,pricePrecision:V,quantityPrecision:R,marginAsset:N,contractVal:_=100}=T,{tickers:M={}}=(0,f.s)((0,v.BN)())||{},{lastPrice:E}=M[e]||{},A=(0,C.i)({side:s,type:n}),B=Number(o)||Number(r),z=(0,b.uf)(B,V);let F=A&&B&&z?`${p(null===(g=S.HZ[c])||void 0===g?void 0:g.replace(/\s/g,"-"),{defaultValue:S.HZ[c]})} \r\n${[A,z].join(" ")}`:v.GR;Number(d)&&(F=`${I("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===s?"<=":">=",(0,b.uf)(d,V)].join(" ")}`);const L=S.Y1.includes(i)?v.GR:(0,b.uf)(r,V),$=I("Cont",{defaultValue:"Cont"}),H=S.cQ.includes(i)?o:"TRAILING_STOP_MARKET"===i?d||E:r;let D,Y=e;return T&&(D=(0,j.H)(T,I),Y=D.shortName),{nextDate:(0,O.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:Y,symbolName:D,nextType:p(`type-${i}`,{defaultValue:i})||i,nextPrice:L,nextAmount:m?`${(0,k.unitChangeCoinQty)({quantity:a,contractVal:_,price:H,precision:P})} ${N}`:`${(0,b.uf)(a,R)} ${$}`,nextFilled:m?`${(0,k.unitChangeCoinQty)({quantity:l,contractVal:_,price:u,precision:P})} ${N}`:`${(0,b.uf)(l,R)} ${$}`,nextTriggerConditions:F}})(e):(({symbol:e,insertTime:t,side:s,origType:n,type:i,price:r,origQty:a,executedQty:l,stopPrice:o,workingType:c,activatePrice:d,avgPrice:u})=>{var h;const{getI18n:g}=(0,w.Z)(),{getI18n:p}=(0,x.yk)(),m=(0,y.AM)()[e]||{},{getFormatedQuantity:k}=(0,I.s7)(m),{pricePrecision:Z,quantityPrecision:T}=m,{tickers:P={}}=(0,f.s)((0,v.BN)())||{},{lastPrice:V}=P[e]||{},R=(0,C.i)({side:s,type:n}),N=Number(o)||Number(r),_=(0,b.uf)(N,Z);let M=R&&N&&_?`${g(null===(h=S.HZ[c])||void 0===h?void 0:h.replace(/\s/g,"-"),{defaultValue:S.HZ[c]})} \r\n${[R,_].join(" ")}`:v.GR;Number(d)&&(M=`${p("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===s?"<=":">=",(0,b.uf)(d,Z)].join(" ")}`);const E=S.Y1.includes(i)?v.GR:(0,b.uf)(r,Z),A=S.cQ.includes(n)?o:"TRAILING_STOP_MARKET"===i?d||V:r;let B,z=e;return m&&(B=(0,j.H)(m,p),z=B.shortName),{nextDate:(0,O.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:z,symbolName:B,nextType:g(`type-${i}`,{defaultValue:i})||i,nextPrice:E,nextAmount:k({quantity:a,price:A,qtyPrecision:T}),nextFilled:k({quantity:l,price:u,qtyPrecision:T}),nextTriggerConditions:M}})(e);var V=s(85022),R=s(55733),N=s(79649),_=s(70894);const M=(0,v.nM)(),E=(0,v.nM)(),A=e=>E?function({symbol:e,side:t,quantity:s,type:n,price:i,stopPrice:r,avgPrice:a,closePosition:l}){const{getI18n:o}=(0,w.Z)(),{getI18n:c}=(0,x.yk)(),{isCoinUnit:d}=(0,Z.Q)(),u=(0,y.AM)()[e]||{},{equalQtyPrecision:h,marginAsset:g,contractVal:p=100,quantityPrecision:m,close:f}=u,j=c("Cont",{defaultValue:"Cont"}),O=o("closePosition",{defaultValue:"Close Positioin"}),v=S.cQ.includes(n)?r:"MARKET"===n?a||f:i,C=d?`${(0,k.unitChangeCoinQty)({quantity:s,contractVal:p,price:v,precision:h})} ${g}`:`${(0,b.uf)(s,m)} ${j}`;return{amount:l?O:C,sideProps:"BUY"===t?{color:"buy",children:o("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:o("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:s,type:n,price:i,stopPrice:r,avgPrice:a,closePosition:l}){const{getI18n:o}=(0,w.Z)(),c=(0,y.AM)()[e]||{},{getFormatedQuantity:d}=(0,I.s7)(c),{quantityPrecision:u,close:h}=c,g=o("closePosition",{defaultValue:"Close Positioin"}),p=d({quantity:s,price:S.cQ.includes(n)?r:"MARKET"===n?a||h:i,qtyPrecision:u});return{amount:l?g:p,sideProps:"BUY"===t?{color:"buy",children:o("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:o("sideSell",{defaultValue:"Sell"})}}}(e);var B=s(56776),z=s(11805),F=s(22658),L=s(49247),$=s(40590),H=s(22085),D=s(54987),Y=s(62493),K=s(24322),U=s(82597);const q=({mainOrder:e,subOrders:t})=>{const s="light"===(0,y.Fg)(),n=2===(null==t?void 0:t.length);return(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsx)("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},{children:n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}}),(0,i.jsx)("path",{d:"M252 27 L382 27 L382 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}})]}):(0,i.jsx)("path",{d:"M252 0 L252 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}})})),(0,i.jsx)(c.Z,Object.assign({justifyContent:n?"space-between":"center"},{children:t}))]})},G=({mainOrder:e,subOrders:t})=>{const s=2===t.length?380:190,n="light"===(0,y.Fg)();return(0,i.jsxs)(i.Fragment,{children:[e,(0,i.jsxs)(c.Z,Object.assign({justifyContent:"start"},{children:[(0,i.jsx)("svg",Object.assign({width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${s}`,xmlns:"http://www.w3.org/2000/svg"},{children:2===(null==t?void 0:t.length)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:`M15 0 L15 ${s/4} L30 ${s/4}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}}),(0,i.jsx)("path",{d:`M15 ${s/4} L15 ${3*s/4} L30 ${3*s/4}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}})]}):(0,i.jsx)("path",{d:`M15 0 L15 ${s/2} L30 ${s/2}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}})})),(0,i.jsx)(o.Z,Object.assign({sx:{width:"calc(100% - 30px)"}},{children:t}))]}))]})},W=e=>(0,i.jsx)(B.Z,{children:({isMobile:t})=>t?(0,i.jsx)(G,Object.assign({},e)):(0,i.jsx)(q,Object.assign({},e))});var Q=s(97715),X=s(87608),J=s.n(X),ee=s(38156),te=s(79129);const se=e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},ne=["LIMIT","STOP","TAKE_PROFIT"],ie={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},re={height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"},backgroundColor:"transparent",justifyContent:"end"},ae=({order:e={},subOrderLength:t})=>{const{getI18n:s}=(0,w.Z)(),{getI18n:n}=(0,x.yk)(),{type:a,status:l,price:c,reduceOnly:d}=e,{useStrategyOrder:u}=(0,r.useContext)(F.Z),{amount:h,sideProps:g}=u(e);return(0,i.jsxs)(o.Z,Object.assign({sx:ie},{children:[(0,i.jsx)("div",Object.assign({className:"description"},{children:1===t?s("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):s("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})})),(0,i.jsxs)("div",Object.assign({className:"card orderA"},{children:[(0,i.jsx)("div",Object.assign({className:"title"},{children:s("orderA",{defaultValue:"Order A"})})),(0,i.jsxs)("div",Object.assign({className:"content"},{children:[(0,i.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third",className:"type"},{children:s(`type-${a}`,{defaultValue:a})})),(0,i.jsx)(L.Z,Object.assign({fontSize:0,color:"t.third",className:"status"},{children:s(`status-${se(l)}`,{defaultValue:l})}))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:s("side",{defaultValue:"Side"})})),(0,i.jsx)(L.Z,Object.assign({},g))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:s("amount",{defaultValue:"Amount"})})),(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:h}))]})),ne.includes(a)&&(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:s("price",{defaultValue:"Price"})})),(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:c}))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:s("reduceOnly",{defaultValue:"Reduce Only"})})),(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:n(d?"openOrder-true":"openOrder-false",{defaultValue:d?"True":"False"})}))]}))]}))]}))]}))},le=({step:e,tickSizePrecision:t,order:s,changeOrder:n,index:a,subOrderLength:l})=>{const{getI18n:c}=(0,w.Z)(),{getI18n:d}=(0,x.yk)(),{type:u,status:h,stopPrice:g,workingType:p,price:m,reduceOnly:y}=s||{},{useStrategyOrder:f}=(0,r.useContext)(F.Z),{amount:b,sideProps:j}=f(s),O="PENDING"===h,v={CONTRACT_PRICE:c("Last-Price",{defaultValue:"Last Price"}),MARK_PRICE:c("Mark-Price",{defaultValue:"Mark Price"})},C=(0,r.useCallback)((e=>{(0,te._p)(e,(e=>n(Object.assign(Object.assign({},s),{stopPrice:e}),a)),"",t)}),[n,s,t,a]),S=(0,r.useCallback)((e=>n(Object.assign(Object.assign({},s),{workingType:e}),a)),[n,s,a]);return(0,i.jsxs)(o.Z,Object.assign({sx:ie},{children:[0===a&&(0,i.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""})),1===a&&(0,i.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""})),(0,i.jsxs)("div",Object.assign({className:J()({orderB:0===a,orderC:1===a,only:1===l,card:!0})},{children:[(0,i.jsx)("div",Object.assign({className:"title"},{children:c(0===a?"orderB":"orderC",{defaultValue:0===a?"Order B":"Order C"})})),(0,i.jsxs)("div",Object.assign({className:"content"},{children:[(0,i.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,i.jsx)(L.Z,Object.assign({fontSize:2,color:"t.primary"},{children:c(`type-${u}`,{defaultValue:u})})),(0,i.jsx)(L.Z,Object.assign({fontSize:0,color:"t.third"},{children:c(`status-${se(h)}`,{defaultValue:h})}))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("side",{defaultValue:"Side"})})),(0,i.jsx)(L.Z,Object.assign({},j))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("amount",{defaultValue:"Amount"})})),(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:b}))]})),ne.includes(u)&&(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("price",{defaultValue:"Price"})})),(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:m}))]})),(0,i.jsxs)("div",Object.assign({className:"row "+(O?"editable":"")},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("triggerPrice",{defaultValue:"Trigger Price"})})),O?(0,i.jsx)(Q.Z,{type:"number",variant:"outline",step:e,value:g,onChange:C,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}}):(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:g}))]})),(0,i.jsxs)("div",Object.assign({className:"row "+(O?"editable":"")},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("trigger",{defaultValue:"Trigger"})})),O?(0,i.jsx)(ee.Z,{sx:re,workingType:p,changeWorkingType:S}):(0,i.jsx)(L.Z,Object.assign({color:"t.primary"},{children:v[p]}))]})),(0,i.jsxs)("div",Object.assign({className:"row"},{children:[(0,i.jsx)(L.Z,Object.assign({color:"t.third"},{children:c("reduceOnly",{defaultValue:"Reduce Only"})})),(0,i.jsxs)(L.Z,Object.assign({color:"t.primary"},{children:[" ",d(y?"openOrder-true":"openOrder-false",{defaultValue:y?"True":"False"})]}))]}))]}))]}))]}))},oe=r.memo((e=>{const{getI18n:t,i18n:{language:s}}=(0,w.Z)(),{isMobile:a,visible:l,order:u={},onClose:g}=e,x=(0,y.AM)()[u.symbol]||{},m=(0,U.p)(x.tickSize),f=x.tickSize,b=!h()(u)&&l,[j,O]=(0,r.useState)(!1),[v,C]=(0,r.useState)({}),[S,k]=(0,r.useState)({}),[I,Z]=(0,r.useState)([]),T=(0,r.useCallback)(((e,t)=>{const s=I.map(((s,n)=>n===t?e:s));Z(s)}),[I]),P=(0,r.useCallback)((()=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{strategyId:e,strategyType:t}=u;O(!0);const s=yield(0,D.Su)({strategyId:e,strategyType:t});O(!1);const{success:n,data:i}=s;n&&i&&(C(i),k(i.subOrders[0]),"OTOCO"===i.strategyType?Z(i.subOrders.slice(1,3)):Z(i.subOrders.slice(1,2)))}))),[u]);(0,r.useEffect)((()=>{b?P():(C({}),k({}),Z([]))}),[P,b]);const{enqueueNotification:V}=(0,p.Z)(),R=(0,r.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){"STOP_MARKET"!==e.type&&"TAKE_PROFIT_MARKET"!==e.type||delete e.price,delete e.status;const{success:n,message:i}=yield(0,D.ZX)(e,{language:s});n&&V({message:t("update-strategy-suc"),variant:"success"})}))),[t,s,V]),N=(0,r.useCallback)((()=>{const{strategyType:e}=v,t=[];I.forEach(((s,n)=>{const i=function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType}(s,v.subOrders[n+1]);i&&t.push(R(Object.assign(Object.assign({},s),{strategyType:e})))})),Promise.all(t).finally(g)}),[g,v,I,R]);return(0,i.jsxs)($.Z,Object.assign({open:b,onCloseIconClick:g,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},{children:[(0,i.jsx)(o.Z,Object.assign({as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},{children:t("strategyOrder",{defaultValue:"Strategy Order"})})),(0,i.jsxs)(o.Z,Object.assign({sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},{children:[(0,i.jsxs)(o.Z,Object.assign({sx:{minHeight:"400px"}},{children:[(0,i.jsx)(K.Z,{inner:!0,show:j}),(0,i.jsx)(W,{mainOrder:(0,i.jsx)(ae,{order:S,subOrderLength:I.length}),subOrders:I.map(((e,t)=>(0,i.jsx)(le,{index:t,tickSizePrecision:m,step:Number(f),order:e,changeOrder:T,subOrderLength:I.length},e.strategySubId)))}),(0,i.jsxs)(c.Z,Object.assign({alignItems:"start",mt:"md",color:"t.third"},{children:[(0,i.jsx)(Y.Z,{size:32,mr:"xs",height:"0.5em"}),(0,i.jsx)(L.Z,Object.assign({fontSize:"14px",lineHeight:"16px"},{children:"OTOCO"===v.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")}))]}))]})),a&&(0,i.jsx)(o.Z,{sx:{width:"100%",height:"64px"}}),(0,i.jsx)(H.y,Object.assign({sx:{bg:"popupBg"}},{children:(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(d.Z,Object.assign({flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:g},{children:t("cancel",{defaultValue:"Cancel"})})),(0,i.jsx)(d.Z,Object.assign({flex:"auto",onClick:N,height:"40px"},{children:t("confirm",{defaultValue:"Confirm"})}))]})}))]}))]}))}));var ce=s(72902),de=s(94216);const ue=r.memo((({order:e,onClose:t})=>{const{symbol:s,side:n,positionSide:a,modifyParams:l={},onConfirm:o}=e,{positionMode:c=!1}=(0,y.F7)(),{getI18n:d}=(0,x.yk)(),[u,h]=(0,ce.g)(v.Zv,v.Xd),{limitPrice:g,qty:p,amendedField:m}=l,f="BUY"===n?"buy":"sell",b=(({side:e,positionSide:t,getFutI18n:s,positionMode:n})=>{const i=s("buyLong",{defaultValue:"Buy/Long"}),r=s("sellShort",{defaultValue:"Sell/Short"}),a=s("OpenLong",{defaultValue:"Open Long"}),l=s("OpenShort",{defaultValue:"Open Short"}),o=s("CloseShort",{defaultValue:"Close Short"}),c=s("CloseLong",{defaultValue:"Close Long"});let d;return d=n?"BUY"===e?"SHORT"===t?o:a:"SHORT"===t?l:c:"BUY"===e?i:r,d})({side:n,positionSide:a,getFutI18n:d,positionMode:c}),j=(0,r.useCallback)((()=>{const e=Object.assign(Object.assign({},u),{needConfirm:!1});h(e)}),[h,u]);return(0,i.jsx)(de.Z,{symbol:s,title:b,color:f,amendedField:m,isMarket:!1,limitPrice:g,qty:p,isClose:!1,onClose:t,onConfirm:o,closeTip:j,orderSide:n})}));var he=s(94755),ge=s(82373);const pe=r.memo((({hasData:e})=>{const{getI18n:t}=(0,w.Z)(),{getI18n:s}=(0,x.yk)(),{handleHideOtherPairs:n,checked:a,actionCancel:l}=(0,r.useContext)(F.Z);return(0,i.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,i.jsxs)(c.Z,Object.assign({sx:{alignItems:"center",color:"t.third"},onClick:()=>n(!a)},{children:[(0,i.jsx)(ge.Z,{name:"hideOtherSymbol",checked:a,onChange:()=>!1}),(0,i.jsx)(L.Z,Object.assign({variant:"caption",sx:{userSelect:"none"}},{children:s("hideOtherSymbol")}))]})),(0,i.jsx)(L.Z,Object.assign({onClick:e?()=>{l(0,t("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}:void 0,variant:"caption",sx:{color:e?"t.yellow":"t.third"}},{children:t("action",{defaultValue:"Cancel All"})}))]}))}));var xe=s(26037);const me=({children:e})=>(0,i.jsx)(L.Z,Object.assign({variant:"caption",__css:{color:"t.third"}},{children:e})),ye=e=>{var{color:t="t.primary"}=e,s=(0,n.__rest)(e,["color"]);return(0,i.jsx)(L.Z,Object.assign({variant:"captionSub",color:t},s))},fe=({children:e,sx:t})=>(0,i.jsx)(c.Z,Object.assign({className:"row-item",sx:t},{children:e})),be=({orderId:e,symbolName:t,side:s,positionSide:n,nextPair:a,nextType:l,actionCancel:o})=>{const{getI18n:c}=(0,w.Z)(),d=(0,r.useCallback)((()=>{o((({orderId:t})=>e===t))}),[o,e]);return(0,i.jsxs)(fe,Object.assign({sx:{pb:"10px !important"}},{children:[(0,i.jsxs)("div",Object.assign({className:"symbol-wrap"},{children:[t?(0,i.jsxs)("div",Object.assign({className:"symbolText"},{children:[(0,i.jsx)("div",Object.assign({className:"symbol"},{children:t.symbol})),(0,i.jsx)("div",{children:`${t.contractTypeI18n} ${t.deliveryDateFormat}`})]})):(0,i.jsx)("div",Object.assign({className:"symbolText"},{children:a})),(0,i.jsx)(L.Z,Object.assign({variant:"caption",sx:{color:"BUY"===s?"buy":"sell"}},{children:"BUY"===s?`${l} / ${c(`sideBuy${n}`,{defaultValue:"Buy"})}`:`${l} / ${c(`sideSell${n}`,{defaultValue:"Sell"})}`}))]})),(0,i.jsx)("div",Object.assign({className:"cancel-order",onClick:d},{children:c("cancel",{defaultValue:"Cancel"})}))]}))},je=({nextDate:e})=>{const{getI18n:t}=(0,w.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(me,{children:t("date",{defaultValue:"Date"})}),(0,i.jsx)(ye,{children:e})]})},Oe=({strategyId:e,strategyType:t,actionStrategyModal:s,order:n})=>{const{getI18n:a}=(0,w.Z)(),l=("OTOCO"===t||"OTO"===t)&&e,o=(0,r.useCallback)((()=>{s(n)}),[s,n]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(me,{children:a("strategy",{defaultValue:"Strategy"})}),l?(0,i.jsx)("div",Object.assign({className:"strategy-view",onClick:o},{children:a("strategyView",{defaultValue:"View"})})):(0,i.jsx)(L.Z,{children:"--"})]})},ve=(0,r.memo)((e=>{const{orderId:t,side:s,reduceOnly:n,positionSide:a="BOTH",closePosition:l,strategyId:o,strategyType:d,timeInForce:u,type:h,activatePrice:g,priceRate:p,workingType:m}=e,{getI18n:y}=(0,w.Z)(),{getI18n:f}=(0,x.yk)(),{actionCancel:b,actionStrategyModal:j,useColumn:O}=(0,r.useContext)(F.Z),v=O(e),{symbolName:C,nextPair:S,nextFilled:k,nextDate:I,nextPrice:Z,nextAmount:T,nextType:P,nextTriggerConditions:V}=v,R=y("closePosition",{defaultValue:"Close Position"}),N=(0,r.useMemo)((()=>[{label:y("filled",{defaultValue:"Filled"}),value:k},{label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:n?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,k,n,f,u]);return(0,i.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,i.jsx)(be,{orderId:t,symbolName:C,side:s,positionSide:a,nextPair:S,nextType:P,actionCancel:b}),(0,i.jsxs)(fe,{children:[(0,i.jsx)(me,{children:y("price",{defaultValue:"Price"})}),(0,i.jsx)(ye,{children:Z})]},"price"),(0,i.jsxs)(fe,{children:[(0,i.jsx)(me,{children:y("amount",{defaultValue:"Amount"})}),(0,i.jsx)(ye,{children:l?R:T})]},"amount"),N.map((({label:e,value:t})=>(0,i.jsxs)(fe,{children:[(0,i.jsx)(me,{children:e}),(0,i.jsx)(ye,{children:t})]},e))),(0,i.jsxs)(fe,{children:[(0,i.jsx)(me,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,i.jsxs)(c.Z,Object.assign({alignItems:"center"},{children:[(0,i.jsx)(ye,{children:V}),(0,i.jsx)(xe.Z,{type:h,workingType:m,activatePrice:g,priceRate:p})]}))]},"triggerConditions"),(0,i.jsx)(fe,{children:(0,i.jsx)(Oe,{strategyId:o,strategyType:d,actionStrategyModal:j,order:e})},"tpsl"),(0,i.jsx)(fe,{children:(0,i.jsx)(je,{nextDate:I})},"date")]}))})),Ce=(0,r.memo)((e=>{const{orderId:t,side:s,reduceOnly:n,positionSide:a="BOTH",closePosition:l,strategyId:o,strategyType:d,timeInForce:u,type:h,activatePrice:g,priceRate:p,workingType:m}=e,{getI18n:y}=(0,w.Z)(),{getI18n:f}=(0,x.yk)(),{actionCancel:b,actionStrategyModal:j,useColumn:O}=(0,r.useContext)(F.Z),v=O(e),{symbolName:C,nextPair:S,nextFilled:k,nextDate:I,nextPrice:Z,nextAmount:T,nextType:P,nextTriggerConditions:V}=v,R=y("closePosition",{defaultValue:"Close Position"}),N=(0,r.useMemo)((()=>[{columnKey:"filled",label:y("filled",{defaultValue:"Filled"}),value:k},{columnKey:"reduceOnly",label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:n?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{columnKey:"postOnly",label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,k,n,f,u]);return(0,i.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,i.jsx)(be,{orderId:t,symbolName:C,side:s,positionSide:a,nextPair:S,nextType:P,actionCancel:b}),(0,i.jsxs)("div",Object.assign({className:"row-grid"},{children:[(0,i.jsxs)("div",Object.assign({className:"price"},{children:[(0,i.jsx)(me,{children:y("price",{defaultValue:"Price"})}),(0,i.jsx)(ye,{children:Z})]})),(0,i.jsxs)("div",Object.assign({className:"amount"},{children:[(0,i.jsx)(me,{children:y("amount",{defaultValue:"Amount"})}),(0,i.jsx)(ye,{children:l?R:T})]})),N.map((({label:e,value:t,columnKey:s})=>(0,i.jsxs)("div",Object.assign({className:s},{children:[(0,i.jsx)(me,{children:e}),(0,i.jsx)(ye,{children:t})]}),s))),(0,i.jsxs)("div",Object.assign({className:"triggerConditions"},{children:[(0,i.jsxs)(c.Z,Object.assign({alignItems:"center",justifyContent:"flex-end"},{children:[(0,i.jsx)(me,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,i.jsx)(xe.Z,{type:h,workingType:m,activatePrice:g,priceRate:p})]})),(0,i.jsx)(ye,{children:V})]})),(0,i.jsx)("div",Object.assign({className:"tpsl"},{children:(0,i.jsx)(Oe,{strategyId:o,strategyType:d,actionStrategyModal:j,order:e})})),(0,i.jsx)("div",Object.assign({className:"date"},{children:(0,i.jsx)(je,{nextDate:I})}))]}))]}))})),Se={position:"relative",flexDirection:"column",flex:"1 0",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:102,borderBottom:"none"},"& .row-item":{justifyContent:"space-between",alignItems:"center",py:"minor"},"& .symbol-wrap":{display:"flex",flexDirection:"column",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},ke={position:"relative",flexDirection:"column",height:"100%",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-list":{height:"calc(100% - 32px)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:15,borderBottom:"none"},".row-grid":{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gridGap:"12px 16px",gridTemplateAreas:'"price amount filled"\n        "reduceOnly postOnly triggerConditions"\n        "tpsl date ."',"& .filled, & .triggerConditions":{textAlign:"right"}},"& .row-item":{justifyContent:"space-between",alignItems:"center"},"& .symbol-wrap":{display:"flex",alignItems:"center",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center",mr:"xs"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},Ie=r.memo((({isMobile:e,outLoading:t,items:s,girdLoading:n})=>{const{emptyText:a}=(0,r.useContext)(F.Z);return(0,i.jsxs)(c.Z,Object.assign({sx:e?Se:ke},{children:[(0,i.jsx)(K.Z,{fullScreen:!0,show:t}),(0,i.jsx)(pe,{hasData:(null==s?void 0:s.length)>0}),n||s&&s.length?(0,i.jsx)(i.Fragment,{children:e?s.map(((e,t)=>(0,i.jsx)(ve,Object.assign({},e),t))):(0,i.jsx)("div",Object.assign({className:"row-list"},{children:s.map(((e,t)=>(0,i.jsx)(Ce,Object.assign({},e),t)))}))}):(0,i.jsx)(he.pB,Object.assign({className:"empty"},{children:a}))]}))}));var we=s(93400),Ze=s(98388),Te=s(77991),Pe=s(43533);const Ve=r.memo((({hasData:e,headers:t=[],style:s})=>{const{actionCancel:n}=(0,r.useContext)(F.Z),{getI18n:a}=(0,w.Z)(),l=()=>{n(0,a("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))};return(0,i.jsx)("div",Object.assign({className:"openOrderRow header",style:s},{children:t.filter((e=>e.defaultChecked)).map((({text:t,overlay:s,key:n})=>(0,i.jsx)("div",Object.assign({className:n},{children:s?(0,i.jsx)(Te.ZP,Object.assign({trigger:"hover",placement:"bottom-end",enablePortal:!0,overlay:e?s:null,sx:{userSelect:"none",display:"flex"}},{children:(0,i.jsxs)(o.Z,Object.assign({sx:{display:"flex",height:"24px",alignItems:"center",justifyContent:"center"}},{children:[(0,i.jsx)(d.Z,Object.assign({variant:"quiet",sz:"s",sx:{px:0,whiteSpace:"break-spaces"},onClick:e?l:void 0},{children:t})),(0,i.jsx)(Pe.Z,{size:20,sx:{color:"t.third",cursor:"pointer",display:"inline-block"}})]}))}),n):(0,i.jsx)(L.Z,Object.assign({title:t,sx:{fontSize:0,color:"t.third",display:"inline-flex",alignItems:"center",justifyContent:"flex-start"},onClick:s&&e?l:void 0},{children:t}))}),n)))}))}));var Re=s(71245),Ne=s(45313);const _e=r.memo((()=>{const{getI18n:e}=(0,x.yk)(),{handleHideOtherPairs:t,checked:s}=(0,r.useContext)(F.Z),n=e("hideOtherSymbol",{defaultValue:"Hide Other Symbol"});return(0,i.jsxs)(Ne.Z,Object.assign({sx:{fontSize:[1,0],color:"t.third",cursor:["auto","auto","pointer"],lineHeight:["unset","24px","24px"]}},{children:[(0,i.jsx)(ge.Z,{checked:s,onChange:()=>t(!s)}),(0,i.jsx)(L.Z,Object.assign({sx:{userSelect:"none"}},{children:n}))]}))}));var Me=s(51725),Ee=s(65416),Ae=s(72729),Be=s(27960);const ze={padding:"16px",bg:"popupBg",boxShadow:"elevation2",borderRadius:"4px",".check-header":{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px","& .name":{color:"t.secondary",fontWeight:"500",marginRight:"16px"}},".sort-header":{color:"t.third",display:"flex",justifyContent:"flex-start",alignItems:"center","& .back":{marginLeft:"8px",cursor:"pointer",fontSize:"12px"}}},Fe=["reduceOnly","postOnly","strategy"],Le=(0,r.memo)((({headers:e=[],onSort:t,onCheck:s})=>{const n=e.map((e=>Object.assign(Object.assign({},e),{value:e.key,label:e.text}))),a=n.filter((e=>e.sortable&&e.defaultChecked)).map((e=>Object.assign(Object.assign({},e),{label:e.text}))),l=n.filter((e=>e.checkable));l.sort(((e,t)=>Fe.indexOf(e.value)-Fe.indexOf(t.value)));const{getI18n:c}=(0,x.yk)(),[d,u]=(0,r.useState)("check");return"check"===d?(0,i.jsxs)(o.Z,Object.assign({__css:ze,onClick:e=>e.stopPropagation()},{children:[(0,i.jsxs)("div",Object.assign({className:"check-header"},{children:[(0,i.jsxs)(L.Z,Object.assign({variant:"captionSub",className:"name"},{children:[" ",c("openOrder-preferenceTitle",{defaultValue:"Open Orders Preference"})]})),(0,i.jsx)("div",Object.assign({className:"action"},{children:(0,i.jsx)(Ae.Z,Object.assign({variant:"defaultLink",__css:{cursor:"pointer"},onClick:e=>{e.stopPropagation(),u("sort")}},{children:c("positions-preferenceSort")}))}))]})),(0,i.jsx)("div",Object.assign({className:"list"},{children:(0,i.jsx)(Me.Z,{options:l,getValue:e=>{const n=Object.keys(e)[0],i=e[n];s&&s(l.map((e=>e.value===n?Object.assign(Object.assign({},e),{defaultChecked:i}):e)).filter((e=>e.defaultChecked)).map((e=>e.value)));let r=a.map((e=>e.value));i?r.push(n):r=r.filter((e=>e!==n)),t&&t(r.concat(n))}})}))]})):(0,i.jsxs)(o.Z,Object.assign({__css:ze,onClick:e=>e.stopPropagation()},{children:[(0,i.jsxs)("div",Object.assign({className:"sort-header"},{children:[(0,i.jsx)(Be.Z,{size:16,onClick:()=>{u("check")}}),(0,i.jsx)("div",Object.assign({className:"back",onClick:()=>{u("check")}},{children:c("positions-preferenceBack")}))]})),(0,i.jsx)("div",Object.assign({className:"list"},{children:(0,i.jsx)(Ee.Z,{items:a,onSort:e=>{t&&t(e)}})}))]}))})),$e=r.memo((({headers:e,onCheck:t,onSort:s})=>(0,i.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,i.jsx)(_e,{}),(0,i.jsx)(Te.ZP,Object.assign({trigger:"click",sx:{marginLeft:16,marginTop:"4px"},overlay:(0,i.jsx)(Le,{headers:e,onCheck:t,onSort:s}),overlayProps:{marginBottom:"8px"},placement:"top",enablePortal:!0},{children:(0,i.jsx)(Re.Z,{mr:"8px",fontSize:"20px",sx:{color:"icons.close",cursor:"pointer","&:hover path":{fill:"t.third"}}})}))]}))));var He=s(25769),De=s(99138);const Ye=({order:e})=>{const{getI18n:t}=(0,w.Z)(),{actionStrategyModal:s}=(0,r.useContext)(F.Z),{strategyId:n,strategyType:a}=e;return"OTOCO"!==a&&"OTO"!==a||!n?(0,i.jsx)("div",Object.assign({className:"strategy"},{children:"--"})):(0,i.jsx)("div",Object.assign({className:"strategy valid",onClick:()=>s(e)},{children:t("strategyView",{defaultValue:"View"})}))},Ke=r.memo((e=>{const{symbol:t,orderId:s,side:n,reduceOnly:a,positionSide:l="BOTH",closePosition:o,timeInForce:c,type:d,activatePrice:u,priceRate:h,workingType:g}=e,{getI18n:p}=(0,w.Z)(),{actionCancel:x,changeSymbol:m,useColumn:y,headers:f}=(0,r.useContext)(F.Z),b=y(e),j=p("closePosition",{defaultValue:"Close Position"}),{nextDate:O,symbolName:v,nextPrice:C,nextAmount:S,nextType:k}=b,{nextFilled:I,nextTriggerConditions:Z}=b;return(0,i.jsx)("div",Object.assign({className:"openOrderRow body"},{children:f.filter((e=>e.defaultChecked)).map((r=>{const{key:y}=r;switch(y){case"time":return(0,i.jsx)("div",Object.assign({className:"time"},{children:O}),y);case"symbol":return(0,i.jsx)("div",Object.assign({className:"symbol",onClick:()=>{m({symbol:t})}},{children:(0,i.jsx)(De.O,{symbolName:v,fallbackText:t})}),y);case"type":return(0,i.jsx)("div",Object.assign({className:"type"},{children:k}),y);case"side":return(0,i.jsx)("div",Object.assign({className:"side side-"+("BUY"===n?"buy":"sell")},{children:"BUY"===n?p(`sideBuy${l}`,{defaultValue:"Buy"}):p(`sideSell${l}`,{defaultValue:"Sell"})}),y);case"price":return(0,i.jsx)("div",Object.assign({className:"price"},{children:C}),y);case"amount":return(0,i.jsx)("div",Object.assign({className:"amount"},{children:o?j:S}),y);case"filled":return(0,i.jsx)("div",Object.assign({className:"filled"},{children:I}),y);case"reduceOnly":return(0,i.jsx)("div",Object.assign({className:"reduceOnly"},{children:a?p("YES",{defaultValue:"YES"}):p("NO",{defaultValue:"NO"})}),y);case"postOnly":return(0,i.jsx)("div",Object.assign({className:"postOnly"},{children:"GTX"===c?p("YES",{defaultValue:"YES"}):p("NO",{defaultValue:"NO"})}),y);case"conditions":return(0,i.jsxs)("div",Object.assign({className:"conditions"},{children:[(0,i.jsx)("div",Object.assign({style:{whiteSpace:"pre",textAlign:"left"}},{children:Z})),(0,i.jsx)(xe.Z,{type:d,workingType:g,activatePrice:u,priceRate:h})]}),y);case"strategy":return(0,i.jsx)(Ye,{order:e},y);case"action":return(0,i.jsx)("div",Object.assign({className:"action"},{children:(0,i.jsx)(He.Z,{sx:{cursor:"pointer",color:"t.third","&:hover":{color:"t.primary"}},size:20,onClick:()=>{x((({orderId:e})=>s===e))}})}),y);default:return null}}))}))})),Ue={time:115,symbol:85,type:100,side:85,price:100,amount:110,filled:120,reduceOnly:90,postOnly:80,conditions:112,strategy:55,action:70},qe=e=>({width:`${e}px`,flex:`1 0 ${e}px`}),Ge={flexDirection:"column",height:"100%",overflowX:"auto",overflowY:"hidden",".action-bar":{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:0,right:"16px",zIndex:"999",height:"40px","&.fullscreen":{right:"12px"}},".openOrderRow":{my:0,py:0,display:"flex",alignItems:"center",flex:"none",color:"t.secondary",fontSize:[0],cursor:"auto",width:"100%",height:"40px",boxSizing:"border-box",borderBottom:"1px solid",borderBottomColor:"newLine","&.header":{height:"32px"},"&.body":{":hover":{backgroundColor:"bg3",".symbol":{color:"t.yellow"}},".symbol":{cursor:"pointer"},".side":{"&-buy":{color:"buy"},"&-sell":{color:"sell"}},".strategy.valid":{color:"t.yellow200",cursor:"pointer",":hover":{color:"t.yellow300"}},".price, .amount, .conditions":{display:"flex",alignItems:"center"}},".time":Object.assign({},qe(Ue.time)),".symbol":Object.assign({},qe(Ue.symbol)),".type":Object.assign({},qe(Ue.type)),".side":Object.assign({},qe(Ue.side)),".price":Object.assign({},qe(Ue.price)),".amount":Object.assign({},qe(Ue.amount)),".filled":Object.assign({},qe(Ue.filled)),".reduceOnly":Object.assign({},qe(Ue.reduceOnly)),".postOnly":Object.assign({},qe(Ue.postOnly)),".conditions":Object.assign({},qe(Ue.conditions)),".strategy":Object.assign({},qe(Ue.strategy)),".action":Object.assign({},qe(Ue.action))}},We=e=>(0,i.jsx)(Ke,Object.assign({},e)),Qe=(e,t)=>t[e].orderId,Xe=({headers:e,onCheckHeader:t,onSortHeader:s,items:n=[],loading:l})=>{const{emptyText:o,actionCancel:d}=r.useContext(F.Z),u=(0,r.useMemo)((()=>{let t=0;return e.filter((e=>e.defaultChecked)).forEach((({key:e})=>{t+=Ue[e]||0})),{minWidth:t}}),[e]),{getI18n:h}=(0,w.Z)(),{getI18n:g}=(0,x.yk)(),{apiError:p,onRefresh:m}=(()=>{const e=(0,a.v9)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,a.v9)((e=>e.orders.openOrder.apiError)),s=(0,a.I0)(),n=(0,r.useCallback)((()=>{e||s.orders.queryOpenOrder()}),[e,s.orders]);return(0,r.useMemo)((()=>({loading:e,apiError:t,onRefresh:n})),[e,t,n])})(),y=(0,r.useCallback)((()=>{d(0,h("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}),[]);return(0,i.jsxs)(c.Z,Object.assign({sx:Ge},{children:[(0,i.jsx)($e,{headers:e,onSort:s,onCheck:t}),(0,i.jsx)(Ve,{hasData:(null==n?void 0:n.length)>0,headers:e,style:u}),(0,i.jsx)(Ze.v,Object.assign({apiError:p,confirmTip:g("openOrderErrorConfirmTip",{defaultValue:"Cancel all open orders here."}),onRefresh:m,onConfirm:y},{children:(0,i.jsx)(we.a,{direction:"xxx",dataSource:n,loading:l,loadWithContent:!0,listSx:u,itemElement:We,itemKey:Qe,itemHeight:40,emptyChildren:(0,i.jsx)(he.pB,{children:o}),scrollPerf:!1})}))]}))},Je=((0,v.nM)(),[null,"LIMIT","STOP"]),et=r.memo((()=>{const e="light"===(0,y.Fg)(),[t,{onCheckHeader:s,onSortHeader:u}]=(()=>{const{getI18n:e}=(0,w.Z)(),{getI18n:t}=(0,x.yk)(),[s,n]=(0,V.Z)(v.rR,["reduceOnly","postOnly","strategy"]),[a,l]=(0,V.Z)(v.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,r.useMemo)((()=>{const n=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:(0,i.jsx)(R.ZP,{}),checkable:!1,sortable:!0}].map((e=>Object.assign(Object.assign({},e),{defaultChecked:!e.checkable||(null==s?void 0:s.includes(e.key))||!1})));return a&&n.sort(((e,t)=>a.indexOf(e.key)-a.indexOf(t.key))),n}),[e,t,s,a]),{onCheckHeader:n,onSortHeader:l}]})(),[f]=(0,y.z4)(),b=(0,a.I0)(),{enqueueNotification:j}=(0,p.Z)(),{getI18n:O}=(0,x.yk)(),{getI18n:C}=(0,w.Z)(),[S,k]=(0,r.useState)(""),[I,Z]=(0,r.useState)({}),T="traditional",{preOrders:E}=(0,y.E)(),L=(0,a.v9)((e=>e.loading.effects.orders.queryOpenOrder));(0,r.useEffect)((()=>{b.orders.queryOpenOrder()}),[]);const{loading:$,delOpenOrders:H}=M?(()=>{const[{loading:e},t]=(0,N.Z)(((e={})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,_.y)({type:e.type,symbol:e.symbol}):(0,_.r7)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})():(()=>{const[{loading:e},t]=(0,N.Z)(((e={})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,_.O9)({type:e.type,symbol:e.symbol}):(0,_.Ce)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})(),{isOrderHideOtherPairs:D}=(0,y.VX)(),[Y,K]=(0,r.useState)(D),U=(0,r.useCallback)((e=>{K(e),b.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[b.userProfile]),q=(0,m.Nm)(E,Y,f),G=(0,y.d0)(),W=(0,r.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const t="number"==typeof e?{batch:!0,type:Je[e],symbol:Y?f:null}:q.filter((t=>e(t)))[0];h()(t)||(yield H(t))}))),[Y,f,q,H]),Q=(0,r.useCallback)(((t,s)=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){s?z.ZP.show({isLight:e,color:T,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:(0,i.jsxs)(o.Z,{children:[(0,i.jsxs)(o.Z,Object.assign({px:1,pt:[0,"16px"],sx:{textAlign:"center"}},{children:[(0,i.jsx)(l.Z,{size:[60,96]}),(0,i.jsx)("div",{children:s})]})),(0,i.jsxs)(c.Z,Object.assign({mt:"24px"},{children:[(0,i.jsx)(d.Z,Object.assign({sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>z.ZP.close()},{children:C("dialog-cancel",{defaultValue:"Cancel"})})),(0,i.jsx)(d.Z,Object.assign({sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{W(t),z.ZP.close()}},{children:C("dialog-confirm",{defaultValue:"Confirm"})}))]}))]})}):W(t)}))),[W,C,e,T]),X=(0,r.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{success:t}=yield(0,g.nC)(e,{});t&&j({header:O("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}))),[O,j]),J=!q.length&&L,ee=(0,r.useCallback)((()=>{k(""),Z({})}),[k,Z]),te=(0,r.useCallback)((e=>{k("STRATEGY_ORDER"),Z(e)}),[k,Z]),se=(0,r.useCallback)(((e,t,s)=>{k("MODIFY_ORDER"),Z(Object.assign(Object.assign({},e),{modifyParams:t,onConfirm:s}))}),[k,Z]),ne=C("nodata",{defaultValue:"You have no open orders."}),ie=(0,r.useMemo)((()=>({symbol:f,emptyText:ne,actionCancel:Q,actionModifyOrder:X,actionStrategyModal:te,actionModifyConfirmModal:se,changeSymbol:G,handleHideOtherPairs:U,checked:Y,useColumn:P,useStrategyOrder:A,headers:t})),[Q,X,te,se,G,Y,ne,U,f,t]);return(0,i.jsx)(F.Z.Provider,Object.assign({value:ie},{children:(0,i.jsx)(o.Z,Object.assign({height:"100%",px:"sm"},{children:(0,i.jsx)(B.Z,{children:({isMobile:e,isIPad:n})=>(0,i.jsxs)(i.Fragment,{children:[n?(0,i.jsx)(Ie,{isMobile:e,items:q,girdLoading:J,outLoading:L||$}):(0,i.jsx)(Xe,{headers:t,onCheckHeader:s,onSortHeader:u,items:q,loading:L||$}),"STRATEGY_ORDER"===S&&(0,i.jsx)(oe,{isMobile:e,visible:!0,order:I,onClose:ee}),"MODIFY_ORDER"===S&&(0,i.jsx)(ue,{order:I,onClose:ee})]})})}))}))}))}}]);