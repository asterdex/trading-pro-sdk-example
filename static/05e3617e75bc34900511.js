"use strict";(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[2202],{75028:(e,t,i)=>{i.d(t,{s:()=>u});var s,n=i(96832),r=i(20434),o=i(95408),a=i(47181),l=i(37218);e=i.hmd(e),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&s(e);var d,c,h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},u=function(e){var t=(0,l.yk)().getI18n,i=(0,r.Q)().isCoinUnit,s=e||{},d=s.contractVal,c=s.equalQtyPrecision,h=s.precision,u=(0,n.useCallback)((function(e){var t=e.quantity,s=e.price,n=e.func,r=void 0===n?o.mD:n,l=e.format,h=void 0===l||l;return i?(0,a.unitChangeCoinQty)({quantity:t,price:s,contractVal:d,precision:c,func:r,format:h}):t}),[d,c,i]),_=(0,n.useCallback)((function(){return i?e[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"marginAsset"]:t("Cont",{defaultValue:"Cont"})}),[t,i,e]),g=(0,n.useCallback)((function(){return i?c:h}),[c,i,h]);return(0,n.useMemo)((function(){return{getQuantity:u,getAssetLabel:_,getPrecision:g}}),[_,g,u])};h(u,"useFuturesLanguage{{ getI18n: getFuturesI18n }}\nusePreferenceUnit{{ isCoinUnit }}\nuseCallback{getQuantity}\nuseCallback{getAssetLabel}\nuseCallback{getPrecision}\nuseMemo{}",(function(){return[l.yk,r.Q]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register((function(e){var t=e.quantity,i=e.price,s=e.contractVal;return Math.floor(t*i/s)}),"unitChangeCoinToCont","/Users/hong/Desktop/Projects/x-mono/apps/aden-trade-sdk/src/delivery/hooks/useUnitChange.js"),d.register(u,"useUnitChange","/Users/hong/Desktop/Projects/x-mono/apps/aden-trade-sdk/src/delivery/hooks/useUnitChange.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},96056:(e,t,i)=>{i.d(t,{ZP:()=>h});var s=i(96832);let n;n="undefined"!=typeof window?window:"undefined"!=typeof self?self:i.g;let r=null,o=null;const a=n.clearTimeout,l=n.setTimeout,d=n.cancelAnimationFrame||n.mozCancelAnimationFrame||n.webkitCancelAnimationFrame,c=n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame;null==d||null==c?(r=a,o=function(e){return l(e,20)}):(r=function([e,t]){d(e),a(t)},o=function(e){const t=c((function(){a(i),e()})),i=l((function(){d(t),e()}),20);return[t,i]});class h extends s.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:i}=this.props;if(this._parentNode){var s,n,r,o;const a=window.getComputedStyle(this._parentNode)||{},l=parseFloat(null!==(s=a.paddingLeft)&&void 0!==s?s:"0"),d=parseFloat(null!==(n=a.paddingRight)&&void 0!==n?n:"0"),c=parseFloat(null!==(r=a.paddingTop)&&void 0!==r?r:"0"),h=parseFloat(null!==(o=a.paddingBottom)&&void 0!==o?o:"0"),u=this._parentNode.getBoundingClientRect(),_=u.height-c-h,g=u.width-l-d,p=this._parentNode.offsetHeight-c-h,f=this._parentNode.offsetWidth-l-d;(e||this.state.height===p&&this.state.scaledHeight===_)&&(t||this.state.width===f&&this.state.scaledWidth===g)||(this.setState({height:p,width:f,scaledHeight:_,scaledWidth:g}),"function"==typeof i&&i({height:p,scaledHeight:_,scaledWidth:g,width:f}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!=typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=function(e){let t,i,s,a,l,d,c;const h="undefined"!=typeof document&&document.attachEvent;if(!h){d=function(e){const t=e.__resizeTriggers__,i=t.firstElementChild,s=t.lastElementChild,n=i.firstElementChild;s.scrollLeft=s.scrollWidth,s.scrollTop=s.scrollHeight,n.style.width=i.offsetWidth+1+"px",n.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},l=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},c=function(e){if(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;d(this),this.__resizeRAF__&&r(this.__resizeRAF__),this.__resizeRAF__=o((function(){l(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(i){i.call(t,e)})))}))};let e=!1,n="";s="animationstart";const h="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),_="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let i=0;i<h.length;i++)if(void 0!==t.style[h[i]+"AnimationName"]){_=h[i],n="-"+_.toLowerCase()+"-",s=u[i],e=!0;break}}i="resizeanim",t="@"+n+"keyframes "+i+" { from { opacity: 0; } to { opacity: 0; } } ",a=n+"animation: 1ms "+i+"; "}return{addResizeListener:function(r,o){if(h)r.attachEvent("onresize",o);else{if(!r.__resizeTriggers__){const o=r.ownerDocument,l=n.getComputedStyle(r);l&&"static"===l.position&&(r.style.position="relative"),function(i){if(!i.getElementById("detectElementResize")){const s=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=i.head||i.getElementsByTagName("head")[0],r=i.createElement("style");r.id="detectElementResize",r.type="text/css",null!=e&&r.setAttribute("nonce",e),r.styleSheet?r.styleSheet.cssText=s:r.appendChild(i.createTextNode(s)),n.appendChild(r)}}(o),r.__resizeLast__={},r.__resizeListeners__=[],(r.__resizeTriggers__=o.createElement("div")).className="resize-triggers";const h=o.createElement("div");h.className="expand-trigger",h.appendChild(o.createElement("div"));const u=o.createElement("div");u.className="contract-trigger",r.__resizeTriggers__.appendChild(h),r.__resizeTriggers__.appendChild(u),r.appendChild(r.__resizeTriggers__),d(r),r.addEventListener("scroll",c,!0),s&&(r.__resizeTriggers__.__animationListener__=function(e){e.animationName===i&&d(r)},r.__resizeTriggers__.addEventListener(s,r.__resizeTriggers__.__animationListener__))}r.__resizeListeners__.push(o)}},removeResizeListener:function(e,t){if(h)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",c,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(s,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:e,defaultHeight:t,defaultWidth:i,disableHeight:n=!1,disableWidth:r=!1,nonce:o,onResize:a,style:l={},tagName:d="div",...c}=this.props,{height:h,scaledHeight:u,scaledWidth:_,width:g}=this.state,p={overflow:"visible"},f={};let m=!1;return n||(0===h&&(m=!0),p.height=0,f.height=h,f.scaledHeight=u),r||(0===g&&(m=!0),p.width=0,f.width=g,f.scaledWidth=_),(0,s.createElement)(d,{ref:this._setRef,style:{...p,...l},...c},!m&&e(f))}}},20434:(e,t,i)=>{i.d(t,{Q:()=>a});var s=i(93229),n=i(83750);const{coin:r,cont:o}=s.coinFuturesUnit;function a(){const{unit:e}=(0,n.F7)();return{isCoinUnit:e===r,isContUnit:e===o}}},92202:(e,t,i)=>{i.r(t),i.d(t,{DepthChart:()=>b,default:()=>y});var s=i(58138),n=i(96832),r=i(96056),o=i(18101),a=i(79084),l=i(214),d=i(3362),c=i(74152),h=i(71882),u=i(82597),_=i(63884),g=i(75028),p=i(18678),f=i(3087);const m=({price:e,depth:t,amount:i,total:s})=>({xData:+e,yData:t});const z=({price:e,depth:t})=>({xData:t,yData:+e}),v=({namespace:e,symbol:t,width:i,height:r,forceHorizontalMode:v=!1})=>{const b="light"===(0,l.Fg)()?a.ib:a.Cs,y=(0,l.Vh)()[t],{pricePrecision:C,isDelivery:L}=y||{},{asks:w,bids:k}=function(e,t=!1,i=m){const s=(e=>{var t;const i=(0,f.v9)((e=>e.exchangeInfo.infos))[e];return"BTCUSDT"===e?"1":(null===(t=null==i?void 0:i.levels)||void 0===t?void 0:t.slice(-2)[0])||"0.1"})(e),r=(e=>{const{tickSize:t,equalQtyPrecision:i}=e||{},s=(0,u.p)(Number(t)),{getQuantity:r}=(0,_.s7)(e),{getQuantity:o}=(0,g.s)(e);return(0,n.useCallback)((({quantity:e,price:t,format:n=!1})=>{const a={quantity:e,price:t,format:n};return(0,d.nM)()?o(Object.assign(Object.assign({},a),{func:h.GW,precision:i||2})):r(Object.assign(Object.assign({},a),{func:h.mD,precision:s||2}))}),[i,o,r,s])})((0,c.j2)()),o=(t=(0,d.nM)()||t)?(0,d.RU)():(0,d.BN)(),a=(0,p.H0)(e,o,{level:s,isDelivery:t}),l=(0,p.d)(e,o,{level:s,isDelivery:t});return{asks:(0,n.useMemo)((()=>{let e=0;const t=[];for(let i=a.length-1;i>=0;i--){const s=a[i];e+=Number(r({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[a,r,i]),bids:(0,n.useMemo)((()=>{let e=0;const t=[];for(let i=0,s=l.length;i<s;i++){const s=l[i];e+=Number(r({quantity:s.amount,price:s.price})),Object.assign(s,{depth:e}),t.push(s)}return t.map(i)}),[l,r,i])}}(t,L,r>i?z:void 0),N=(0,n.useMemo)((()=>"BTCUSDT"===t?0:C-1),[t,C]);return(0,s.jsx)(o.k.Containers.DepthChart,{namespace:e,symbol:t,theme:b,asks:w,bids:k,width:i,height:r,pricePrecision:C,filterPricePrecision:N,mode:v?o.k.DepthChartMode.Horizontal:r>i?o.k.DepthChartMode.Vertical:o.k.DepthChartMode.Horizontal})},b=({namespace:e,symbol:t,forceHorizontalMode:i})=>(0,s.jsx)(r.ZP,{children:({width:n,height:r})=>(0,s.jsx)(v,{namespace:e,symbol:t,width:n,height:r,forceHorizontalMode:i})}),y=b}}]);