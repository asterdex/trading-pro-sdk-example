"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[4499],{58969:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(96832),s=a(415);const r=e=>i.createElement(s.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},i.createElement("path",{d:"M12 9a1 1 0 100-2 1 1 0 100 2zm0 8a1 1 0 001-1v-5a1 1 0 10-2 0v5a1 1 0 001 1z"}),i.createElement("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10zm-2 0a8 8 0 10-16 0 8 8 0 0016 0z",clipRule:"evenodd"}))},22262:(e,t,a)=>{a.d(t,{Z:()=>n});var i=a(96832),s=a(77991),r=a(52123);const n=i.forwardRef(((e,t)=>i.createElement(s.ZP,{ref:t,...e,dir:(0,r.Z)()})))},24598:(e,t,a)=>{a.d(t,{Q:()=>l});var i=a(88673),s=a(81841);const{coin:r,cont:n}=i.coinFuturesUnit;function l(){const{unit:e}=(0,s.F7)();return{isCoinUnit:e===r,isContUnit:e===n}}},4499:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ke});var i=a(58138),s=a(96832),r=a(74958),n=a(19805),l=a(71007),o=a(87795),c=a(12939);const d=(0,s.createContext)({symbol:"",status:"All",useColumn:(...e)=>({}),handleStatusFilter:e=>{},emptyText:"You have no order history.",handleHideOtherPairs:e=>!1,checked:!0});var u=a(39576),x=a(76398);const m={limit:15,offset:1};var g=a(13326),p=a(40721);const h=()=>(0,p.v)(new Date,"yyyy-MM-dd hh:mm:ss"),y=[];var j=a(71882),f=a(31677),b=a(12560),O=a(4303),v=a(31050),T=a(54783),k=a(69680),S=a(63884),w=a(30271),P=a(24598);const C=e=>(0,O.ZK)("trd-openOrder",e),Z=(0,b.nM)(),V=e=>Z?(({insertTime:e,side:t,price:a,origQty:i,avgPrice:s,executedQty:r,symbol:n="",stopPrice:o,workingType:c,type:d,origType:u,activatePrice:x,markPrice:m})=>{var g;const h=u||d,{getI18n:y}=C(),{isCoinUnit:v}=(0,P.Q)(),{getI18n:S}=(0,O.yk)(),Z=((0,l.Vh)()||{})[n]||{},{tickProps:{lastPrice:V}}=(0,k.k)((0,b.RU)()),{pricePrecision:I,quantityPrecision:N,equalQtyPrecision:M,marginAsset:A,contractVal:R=100}=Z,$=(0,T.i)({side:t,type:h}),F=Number(o)||Number(a),H=(0,j.uf)(F,I),E=parseFloat(String(s)),_=E&&(0,j.uf)(0,I)!==(0,j.uf)(E,I);let B=$&&F&&H?`${y(null===(g=b.HZ[c])||void 0===g?void 0:g.replace(/\s/g,"-"),{defaultValue:b.HZ[c]})}  ${[$,H].join(" ")}`:b.GR;Number(x)&&(B=`${S("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===t?"<=":">=",(0,j.uf)(x,I)].join(" ")}`);const z=S("Cont",{defaultValue:"Cont"});let Y=Number(a);b.cQ.includes(h)?Y=Number(o):"TRAILING_STOP_MARKET"===h?Y=Number(x):"MARKET"===h&&(Y=Number(_?s:V));let L,D=n;return Z&&(L=(0,f.H)(Z,S),D=L.shortName),{nextDate:(0,p.v)(new Date(e),"yyyy-MM-dd hh:mm:ss"),nextPair:D,symbolName:L,nextType:y(`type-${h}`,{defaultValue:h}),nextAvgPrice:_?(0,j.uf)(E,I):b.GR,nextPrice:b.Y1.includes(h)?b.GR:(0,j.uf)(a,I),nextAmount:v?`${(0,w.unitChangeCoinQty)({quantity:i,contractVal:R,price:Y,precision:M})} ${A}`:`${(0,j.uf)(i,N)} ${z}`,nextFilled:v?`${(0,w.unitChangeCoinQty)({quantity:r,contractVal:R,price:s,precision:M})} ${A}`:`${(0,j.uf)(r,N)} ${z}`,nextTriggerConditions:B,orderType:h,formatedMarkPrice:"LIQUIDATION"===h?(0,j.uf)(m,I):b.GR}})(e):(({insertTime:e,side:t,price:a,origQty:i,avgPrice:s,executedQty:r,symbol:n="",stopPrice:o,workingType:c,type:d,origType:u,activatePrice:x,markPrice:m})=>{var g;const h=u||d,{getI18n:y}=C(),{getI18n:w}=(0,O.yk)(),P=((0,l.Vh)()||{})[n]||{},{getFormatedQuantity:Z}=(0,S.s7)(P),{tickProps:{lastPrice:V}}=(0,k.k)((0,b.BN)()),{quantityPrecision:I=(0,v.M)(String(i)),pricePrecision:N=(0,v.M)(String(s))}=P,M=(0,T.i)({side:t,type:h}),A=Number(o)||Number(a),R=(0,j.uf)(A,N),$=parseFloat(String(s)),F=$&&(0,j.uf)(0,N)!==(0,j.uf)($,N);let H=M&&A&&R?`${y(null===(g=b.HZ[c])||void 0===g?void 0:g.replace(/\s/g,"-"),{defaultValue:b.HZ[c]})}  ${[M,R].join(" ")}`:b.GR;Number(x)&&(H=`${w("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===t?"<=":">=",(0,j.uf)(x,N)].join(" ")}`);let E=a;b.cQ.includes(h)?E=o:"TRAILING_STOP_MARKET"===h?E=x:"MARKET"===h&&(E=F?s:V);let _,B=n;return P&&(_=(0,f.H)(P,w),B=_.shortName),{nextDate:(0,p.v)(new Date(e),"yyyy-MM-dd hh:mm:ss"),nextPair:B,symbolName:_,nextType:y(`type-${h}`,{defaultValue:h}),nextAvgPrice:F?(0,j.uf)($,N):b.GR,nextPrice:b.Y1.includes(h)?b.GR:(0,j.uf)(a,N),nextAmount:Z({quantity:i,price:E,qtyPrecision:I}),nextFilled:Z({quantity:parseFloat(String(r))||0,price:s,qtyPrecision:I}),nextTriggerConditions:H,orderType:h,formatedMarkPrice:"LIQUIDATION"===h?(0,j.uf)(m,N):b.GR}})(e),I=e=>(0,n.ZK)("trd-orderHistory",e),N=[115,90,110,80,80,80,80,90,60,60,160,80],M=e=>{const t=N[e];return[8,9].includes(e)?{whiteSpace:"nowrap",width:`${t}px`,flex:`1 0 ${t}px`}:{width:`${t}px`,flex:`1 0 ${t}px`}},A=N.reduce(((e,t)=>e+t),0);var R=a(85452),$=a(72249),F=a(73920);const H=s.memo((()=>{const{getI18n:e}=(0,n.KL)(),{handleStatusFilter:t,status:a}=(0,s.useContext)(d);return(0,i.jsx)(R.Z,Object.assign({sx:F.f8},{children:[{text:e("openOrder-actionAll",{defaultValue:"All"}),key:"All"},{text:e("orderHistory-status-Filled",{defaultValue:"Filled"}),key:"Filled"},{text:e("orderHistory-status-Partial-Fill",{defaultValue:"Partially Filled"}),key:"Partial-Fill"},{text:e("orderHistory-status-Canceled",{defaultValue:"Canceled"}),key:"Canceled"},{text:e("orderHistory-status-Expired",{defaultValue:"Expired"}),key:"Expired"}].map((e=>(0,i.jsx)($.Z,Object.assign({sx:F.HU,color:a===e.key?"t.yellow":"t.primary",onClick:()=>t(e.key)},{children:e.text}),e.key)))}))}));var E=a(86282),_=a(67590),B=a(62600),z=a(94755),Y=a(82373),L=a(49247);const D=s.memo((()=>{const{getI18n:e}=(0,n.yk)(),{handleHideOtherPairs:t,checked:a}=(0,s.useContext)(d);return(0,i.jsx)("div",Object.assign({className:"action-bar"},{children:(0,i.jsxs)($.Z,Object.assign({sx:{alignItems:"center",color:"t.third"},onClick:()=>t(!a)},{children:[(0,i.jsx)(Y.Z,{name:"hidePairs",checked:a,onChange:()=>!1}),(0,i.jsx)(L.Z,Object.assign({variant:"caption",sx:{userSelect:"none"}},{children:e("hideOtherSymbol",{defaultValue:"Hide Other Symbols"})}))]}))}))})),U=(0,s.forwardRef)(((e,t)=>s.createElement(E.Z,{ref:t,as:"div",tx:"tag",variant:"default",...e,__css:{display:"inline-block"}})));U.displayName="Tag";const Q=U;var K=a(51107);const G=({children:e})=>(0,i.jsx)(L.Z,Object.assign({variant:"caption",__css:{color:"t.third"}},{children:e})),q=e=>{var{color:t="t.primary"}=e,a=(0,x._T)(e,["color"]);return(0,i.jsx)(L.Z,Object.assign({variant:"captionSub",color:t},a))},W=({children:e,sx:t={}})=>(0,i.jsx)($.Z,Object.assign({className:"row-item",sx:t},{children:e})),X=" / ",J=({symbolName:e,side:t,positionSide:a,nextPair:s,nextType:r,status:n})=>{const{getI18n:l}=I(),o=(e=>{switch((e||"").toLowerCase()){case"canceled":return"gray";case"filled":return"green";default:return"default"}})(n);return(0,i.jsxs)(W,Object.assign({sx:{pb:"10px !important"}},{children:[(0,i.jsxs)("div",Object.assign({className:"symbol-wrap"},{children:[e?(0,i.jsxs)("div",Object.assign({className:"symbolText"},{children:[(0,i.jsx)("div",Object.assign({className:"symbol"},{children:e.symbol})),(0,i.jsx)("div",{children:`${e.contractTypeI18n} ${e.deliveryDateFormat}`})]})):(0,i.jsx)("div",Object.assign({className:"symbolText"},{children:s})),(0,i.jsx)(L.Z,Object.assign({variant:"caption",sx:{color:"BUY"===t?"buy":"sell"}},{children:"BUY"===t?`${r} / ${l(`sideBuy${a}`,{defaultValue:"Buy"})}`:`${r} / ${l(`sideSell${a}`,{defaultValue:"Sell"})}`}))]})),(0,i.jsx)(Q,Object.assign({variant:o,sx:{py:"2px",fontSize:0}},{children:l(`status-${(0,c.No)(n)}`,{defaultValue:n})}))]}))},ee=(0,s.memo)((e=>{const{side:t,status:a,reduceOnly:r,timeInForce:l,positionSide:o="BOTH",type:c,activatePrice:u,priceRate:x,workingType:m}=e,{getI18n:g}=I(),{getI18n:p}=(0,n.yk)(),{useColumn:h}=(0,s.useContext)(d),y=h(e),{symbolName:j,nextDate:f,nextPair:b,nextAvgPrice:O,nextPrice:v,nextType:T,nextAmount:k,nextFilled:S,nextTriggerConditions:w}=y,P=(0,s.useMemo)((()=>[{label:[g("filled",{defaultValue:"Filled"}),g("amount",{defaultValue:"Amount"})].join(X),value:[S,k].join(X)},{label:[g("average",{defaultValue:"Average"}),g("price",{defaultValue:"Price"})].join(X),value:[O,v].join(X)},{label:g("reduceOnly",{defaultValue:"Reduce Only"}),value:r?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})},{label:p("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===l?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})},{label:p("time",{defaultValue:"Time"}),value:f}]),[g,S,k,O,v,r,p,l,f]);return(0,i.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,i.jsxs)(E.Z,Object.assign({px:"16px"},{children:[(0,i.jsx)(J,{symbolName:j,side:t,positionSide:o,nextPair:b,nextType:T,status:a}),P.map((({label:e,value:t})=>(0,i.jsxs)(W,{children:[(0,i.jsx)(G,{children:e}),(0,i.jsx)(q,{children:t})]},e))),(0,i.jsxs)(W,{children:[(0,i.jsx)(G,{children:g("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,i.jsxs)($.Z,Object.assign({alignItems:"center"},{children:[(0,i.jsx)(q,{children:w}),(0,i.jsx)(K.Z,{type:c,workingType:m,activatePrice:u,priceRate:x})]}))]},"triggerConditions")]})),(0,i.jsx)("div",{className:"line"})]}))})),te=(0,s.memo)((e=>{const{side:t,status:a,reduceOnly:r,timeInForce:l,positionSide:o="BOTH",type:c,activatePrice:u,priceRate:x,workingType:m}=e,{getI18n:g}=I(),{getI18n:p}=(0,n.yk)(),{useColumn:h}=(0,s.useContext)(d),y=h(e),{symbolName:j,nextDate:f,nextPair:b,nextAvgPrice:O,nextPrice:v,nextType:T,nextAmount:k,nextFilled:S,nextTriggerConditions:w}=y,P=(0,s.useMemo)((()=>[{columnKey:"filled",label:g("filled",{defaultValue:"Filled"}),value:S},{columnKey:"amount",label:g("amount",{defaultValue:"Amount"}),value:k},{columnKey:"reduceOnly",label:g("reduceOnly",{defaultValue:"Reduce Only"}),value:r?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})},{columnKey:"average",label:g("average",{defaultValue:"Average"}),value:O},{columnKey:"price",label:g("price",{defaultValue:"Price"}),value:v},{columnKey:"postOnly",label:p("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===l?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})},{columnKey:"date",label:p("time",{defaultValue:"Time"}),value:f}]),[g,S,k,r,O,v,p,l,f]);return(0,i.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,i.jsxs)(E.Z,Object.assign({px:"16px"},{children:[(0,i.jsx)(J,{symbolName:j,side:t,positionSide:o,nextPair:b,nextType:T,status:a}),(0,i.jsxs)("div",Object.assign({className:"row-grid"},{children:[P.map((({label:e,value:t,columnKey:a})=>(0,i.jsxs)("div",Object.assign({className:a},{children:[(0,i.jsx)(G,{children:e}),(0,i.jsx)(q,{children:t})]}),a))),(0,i.jsxs)("div",Object.assign({className:"triggerConditions"},{children:[(0,i.jsxs)($.Z,Object.assign({alignItems:"center"},{children:[(0,i.jsx)(G,{children:g("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,i.jsx)(K.Z,{type:c,workingType:m,activatePrice:u,priceRate:x})]})),(0,i.jsx)(q,{children:w})]}),"triggerConditions")]}))]})),(0,i.jsx)("div",{className:"line"})]}))})),ae={position:"relative",flexDirection:"column",flex:"1 0",".action-bar":{display:"flex",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-wrap":{color:"t.primary",pt:15,".line":{bg:"line",height:"1px",mx:"16px",mt:"16px"},"&:last-of-type":{mb:102},"& .row-item":{justifyContent:"space-between",alignItems:"center",py:"minor"},"& .symbol-wrap":{display:"flex",flexDirection:"column",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}}}},ie={position:"relative",flexDirection:"column",height:"100%",".action-bar":{display:"flex",alignItems:"center",height:32,pb:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-list":{height:"calc(100% - 32px)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},".row-wrap":{color:"t.primary",pt:15,".line":{bg:"line",height:"1px",mx:"16px",mt:"16px"},"&:last-of-type":{mb:20},".row-grid":{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gridGap:"12px 16px",gridTemplateAreas:'"filled amount reduceOnly"\n        "average price postOnly"\n        "triggerConditions date ."',"& .reduceOnly, & .postOnly":{textAlign:"right"}},"& .row-item":{justifyContent:"space-between",alignItems:"center"},"& .symbol-wrap":{display:"flex",alignItems:"center",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center",mr:"xs"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}}}};var se=a(83045),re=a(37375);const ne=({isMobile:e,items:t,loading:a,hasMore:r,loadMore:n,timeRange:l,onSearch:o})=>{const{emptyText:c}=s.useContext(d);return(0,i.jsxs)($.Z,Object.assign({sx:e?ae:ie},{children:[(0,i.jsx)(B.Z,{fullScreen:!0,show:a}),(0,i.jsxs)(E.Z,Object.assign({px:"16px"},{children:[(0,i.jsx)(D,{}),e?(0,i.jsx)(re.Z,{onSearch:o}):(0,i.jsx)(se.Z,Object.assign({},l,{onSearch:o,loadMore:n}))]})),a||t&&t.length?(0,i.jsxs)(i.Fragment,{children:[e?t.map(((e,t)=>(0,i.jsx)(ee,Object.assign({},e),t))):(0,i.jsx)("div",Object.assign({className:"row-list"},{children:t.map(((e,t)=>(0,i.jsx)(te,Object.assign({},e),t)))})),r?(0,i.jsx)(_.Z,{showMore:n,check:{offset:200},loading:a}):null]}):(0,i.jsx)(z.pB,Object.assign({className:"empty"},{children:c}))]}))};var le=a(48818);const oe=e=>{var{className:t,data:a,renderItem:s,hasMore:r,loadMore:n,loading:l=!1,emptyText:o,onClick:c,sx:d}=e,u=(0,x._T)(e,["className","data","renderItem","hasMore","loadMore","loading","emptyText","onClick","sx"]);const m=null==a?void 0:a.length;return(0,i.jsxs)(E.Z,Object.assign({className:t,onClick:c,sx:d},u,{children:[(0,i.jsx)(B.Z,{fullScreen:!0,inner:!0,show:l}),m?(0,i.jsxs)(i.Fragment,{children:[a.map(s),r&&n?(0,i.jsx)(_.Z,{showMore:n,check:{offset:200},loading:l}):null]}):(0,i.jsx)(z.pB,{children:o})]}))};var ce=a(22262),de=a(43533);const ue={pl:0,alignItems:"center",borderBottom:"1px solid",borderBottomColor:"newLine"},xe=s.memo((({headers:e=[],sx:t={}})=>{const[a,r]=(0,s.useState)("down"),n=e=>{r(e?"up":"down")};return(0,i.jsx)($.Z,Object.assign({__css:ue,sx:t},{children:e.map((({text:e,overlay:t,sx:s={}},r)=>t?(0,i.jsx)(ce.Z,Object.assign({trigger:"click",overlay:t,sx:{userSelect:"none",display:"flex"},enablePortal:!0,style:M(r),onVisibleChange:n},{children:(0,i.jsxs)($.Z,Object.assign({"data-area":"left",sx:{alignItems:"center",cursor:"pointer",height:"24px"}},{children:[(0,i.jsx)(L.Z,Object.assign({title:e,sx:Object.assign({fontSize:0,color:"up"===a?"primary":"t.third"},s)},{children:e})),(0,i.jsx)(de.Z,{sx:{transform:"up"===a?"rotate(180deg)":"rotate(0deg)",color:"up"===a?"primary":"t.third",ml:"4px"},size:20})]}))}),r):(0,i.jsx)($.Z,Object.assign({"data-area":"left",style:M(r),sx:{alignItems:"center",cursor:t?"pointer":"auto"}},{children:(0,i.jsx)(L.Z,Object.assign({title:e,sx:Object.assign({fontSize:0,color:"t.third"},s)},{children:e}))}),r)))}))}));var me=a(11204);const ge=b.K3.orderhistory,pe=({type:e,endTime:t,startTime:a,onSearch:l,loadMore:o,sx:c={}})=>{(0,r.v9)((e=>e.pageStore.page));const{isMobile:u}=(0,n.Fs)(),{getI18n:x}=(0,n.yk)(),{getI18n:m}=(0,n.Vw)(),{handleHideOtherPairs:g,checked:p}=(0,s.useContext)(d),h="hideOtherSymbol",y=x(h,{defaultValue:"Hide Other Symbol"});return(0,i.jsxs)($.Z,Object.assign({__css:{flexWrap:"wrap",alignItems:"center",justifyContent:"space-between"},sx:c},{children:[(0,i.jsx)(se.Z,{type:e,onSearch:l,loadMore:o}),(0,i.jsxs)($.Z,Object.assign({sx:{alignItems:"center",fontSize:[1,0],color:"t.third",cursor:["auto","pointer"],lineHeight:["30px","24px"],position:"absolute",top:"-40px",right:"44px",zIndex:"999",height:"40px"},onClick:()=>g(!p)},{children:[(0,i.jsx)(Y.Z,{name:h,size:u?18:16,checked:p,onChange:()=>!1}),(0,i.jsx)(L.Z,Object.assign({sx:{userSelect:"none"}},{children:y}))]})),(0,i.jsx)(me.Z,{dateTime:{startTime:a,endTime:t},downloadUrl:ge.uri,title:m(ge.key)})]}))};var he=a(58969),ye=a(42717),je=a(60037),fe=a(23607),be=a(66689);const Oe=e=>(0,i.jsx)(L.Z,Object.assign({__css:{fontWeight:400}},e)),ve=s.memo((e=>{const{getI18n:t,i18n:{language:a}}=I(),{useColumn:r}=(0,s.useContext)(d),{side:n,status:l,reduceOnly:o,timeInForce:u,positionSide:x="BOTH",symbol:m,orderId:g,id:p,type:h,activatePrice:y,priceRate:j,workingType:f}=e,O=(p&&p.split("_")[0],x),v="BUY"===n?{color:"buy",children:t(`sideBuy${O}`,{defaultValue:"Buy"})}:{color:"sell",children:t(`sideSell${O}`,{defaultValue:"Sell"})},T=r(e),k="canceled"===(null==l?void 0:l.toLowerCase())||"expired"===(null==l?void 0:l.toLowerCase())?"0.5":"1",S=()=>o?t("YES",{defaultValue:"YES"}):t("NO",{defaultValue:"NO"}),w=()=>"GTX"===u?t("YES",{defaultValue:"YES"}):t("NO",{defaultValue:"NO"}),{nextDate:P,nextPair:C,symbolName:Z,nextAvgPrice:V,nextPrice:N,nextType:A,nextAmount:R,nextFilled:F,nextTriggerConditions:H,orderType:_,formatedMarkPrice:B}=T;let z=0;return(0,i.jsx)(E.Z,Object.assign({sx:{width:"100%"}},{children:(0,i.jsx)(E.Z,Object.assign({px:"sm"},{children:(0,i.jsxs)($.Z,Object.assign({sx:{width:"100%",alignItems:"center",color:"t.secondary",fontSize:[0],height:"40px",borderBottom:"1px solid",borderBottomColor:"newLine","> *":{fontWeight:"normal"},opacity:k,":hover":{backgroundColor:"bg3",".symbol":{color:"t.yellow"}}}},{children:[(0,i.jsx)(L.Z,Object.assign({"data-area":"left",style:M(z++),title:P,sx:{color:"table.timeColor"}},{children:P})),(0,i.jsx)(L.Z,Object.assign({"data-area":"left",style:M(z++),title:C,className:"symbol"},{children:(0,i.jsx)(je.O,{symbolName:Z,fallbackText:m})})),(0,i.jsx)(L.Z,Object.assign({"data-area":"left",style:M(z++),title:A},{children:A})),(0,i.jsx)(L.Z,Object.assign({},v,{"data-area":"left",style:M(z++),title:v.children})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:V},{children:V})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:N},{children:(0,i.jsxs)($.Z,Object.assign({alignItems:"center"},{children:[N,"LIQUIDATION"===_&&(0,i.jsx)(fe.m,Object.assign({placement:"right",learnMoreLink:(0,be.C)(b.Wh.LIQ_PRICE,{locale:(0,ye.sU)(a)}),tip:t("Bankruptcy-Price",{markPrice:B,defaultValue:"The price is the bankruptcy price at which margin loss reaches zero. The liquidation order will be replaced with the bankruptcy price. The liquidation price (the mark price when liquidated) is {{markPrice}}."})},{children:(0,i.jsx)(he.Z,{size:16,ml:"2px"})}))]}))})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:F},{children:F})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:R},{children:R})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:S()},{children:S()})),(0,i.jsx)(Oe,Object.assign({"data-area":"left",style:M(z++),title:w()},{children:w()})),(0,i.jsxs)($.Z,Object.assign({alignItems:"center",style:M(z++)},{children:[(0,i.jsx)("div",Object.assign({style:{whiteSpace:"pre",textAlign:"left"}},{children:H})),(0,i.jsx)(K.Z,{type:h,workingType:f,activatePrice:y,priceRate:j})]})),(0,i.jsx)(L.Z,Object.assign({"data-area":"left",sx:b.Pd,style:M(z++)},{children:t(`status-${(0,c.No)(l)}`,{defaultValue:l||""})})),(0,i.jsx)(L.Z,{style:M(z++)})]}))}))}))})),Te=s.memo((({items:e,loading:t,hasMore:a,loadMore:r,timeRange:l,onSearch:o,emptyText:c})=>{const d=(()=>{const{getI18n:e}=I(),{getI18n:t}=(0,n.yk)();return(0,s.useMemo)((()=>[{text:e("time",{defaultValue:"Time"})},{text:e("symbol",{defaultValue:"Symbol"})},{text:e("type",{defaultValue:"Type"})},{text:e("side",{defaultValue:"Side"})},{text:e("average",{defaultValue:"Average"})},{text:e("price",{defaultValue:"Price"})},{text:e("filled",{defaultValue:"Executed"})},{text:e("amount",{defaultValue:"Amount"})},{text:e("reduceOnly",{defaultValue:"Reduce Only"}),sx:{whiteSpace:"break-spaces"}},{text:t("orderType-postOnly",{defaultValue:"Post Only"}),sx:{whiteSpace:"pre-wrap"}},{text:e("triggerConditions",{defaultValue:"Trigger"}),area:"left"},{text:e("status",{defaultValue:"Status"}),overlay:(0,i.jsx)(H,{})},{text:""}]),[e,t])})(),u=!(!e.length&&t)&&t,x=(0,s.useCallback)((e=>(0,s.createElement)(ve,Object.assign({},e,{key:e.orderId}))),[]);return(0,i.jsxs)(le.Z,Object.assign({sx:{position:"relative",px:0},"data-testid":"DataTable"},{children:[(0,i.jsx)(pe,Object.assign({},l,{onSearch:o,loadMore:r,sx:{height:"32px",px:"16px"}})),(0,i.jsxs)(E.Z,Object.assign({sx:{height:"calc(100% - 32px)",overflowX:"auto"}},{children:[(0,i.jsx)(xe,{headers:d,sx:{height:"32px",px:"16px",overflowX:"hidden",minWidth:A}}),(0,i.jsx)(oe,{sx:{height:"calc(100% - 32px)",overflowY:"auto",overflowX:"hidden",minWidth:A},data:e,renderItem:x,loading:u,hasMore:a,loadMore:r,emptyText:c})]}))]}))})),ke=s.memo((()=>{const[e]=(0,l.z4)(),{getI18n:t}=I(),a=(0,r.I0)(),{isMobile:p,isIPad:j}=(0,n.Fs)(),[f,b]=(0,s.useState)((0,o.OQ)(j?"1w":"1d")),{preHistory:O,loading:v,updateTime:T,hasMore:k,loadMore:S}=((e=200,t,a,i)=>{const n=(0,s.useRef)(null),o=(0,r.I0)(),d=(0,l.oZ)(),{pagination:p,loadMore:j,refresh:f}=(e=>{const t={offset:0,limit:e},{pagination:a,updatePagination:i}=((e,t=m)=>{const[a,i]=(0,s.useState)(t),r=(0,s.useMemo)((()=>{const{limit:t,offset:i}=a,s=i>0?t*(i-1):0,r=s+t;return e.slice(s,r)}),[e,a]);return(0,s.useEffect)((()=>{i(t)}),[e]),{pagedData:r,pagination:a,updatePagination:e=>{i({...a,...e})},total:Math.ceil(e.length/a.limit)}})(y,t),[r,n]=(0,s.useState)(h()),{offset:l}=a;return(0,g.Z)((()=>{i({offset:l+1})}),100/6,[r]),{pagination:a,refresh:()=>i({offset:0}),loadMore:()=>(0,x.mG)(void 0,void 0,void 0,(function*(){return n(h())}))}})(e),{limit:b,offset:O}=p,{total:v,preHistory:T,loading:k}=d,{length:S}=T||[],w={startTime:t,endTime:a},P={accountType:(0,c.lx)(i)},C=(0,s.useCallback)(((e,t)=>{o.orders.mergeState({type:"orderHistory.merge",payload:{loading:!0}}),(0,u.jL)(e).then((e=>{const{data:a,total:i}=e,s=a,r=i;o.orders.mergeState({type:0===t?"orderHistory.init":"orderHistory.concat",payload:{orders:s,total:r,loading:!1}})})).catch((()=>{}))}),[o.orders]);(0,s.useEffect)((()=>{C(Object.assign(Object.assign(Object.assign({},w),P),{page:O+1,rows:b}),O)}),[O,b]);const Z=[t,a];return(0,s.useEffect)((()=>{if(n.current){const{startTime:e,endTime:i}=n.current;e===t&&i===a||(O>0?f():C(Object.assign(Object.assign(Object.assign({},w),P),{page:O+1,rows:b}),0))}n.current={startTime:t,endTime:a}}),Z),Object.assign(Object.assign({},d),{onRefresh:()=>f(),hasMore:!k&&S<v,loadMore:j})})(100,f.startTime,f.endTime,"MAIN"),{isOrderHistoryHideOtherPairs:w}=(0,l.VX)(),[P,C]=(0,s.useState)(w),[Z,N]=(0,s.useState)("All"),M=(0,s.useCallback)((e=>{C(e),a.userProfile.save({key:"isOrderHistoryHideOtherPairs",value:e})}),[a.userProfile]),A=(0,s.useCallback)((e=>{N(e)}),[]),R=(0,c.Nm)(O,P,e),$=(0,c.vL)(R,Z),F=t("nodata",{defaultValue:"You have no order history."}),H=(0,s.useMemo)((()=>({symbol:e,emptyText:F,checked:P,status:Z,handleHideOtherPairs:M,handleStatusFilter:A,useColumn:V})),[P,F,M,A,Z,e]);return(0,i.jsx)(d.Provider,Object.assign({value:H},{children:j?(0,i.jsx)(ne,{isMobile:p,items:$,loading:v,hasMore:k,loadMore:S,timeRange:f,onSearch:b}):(0,i.jsx)(Te,{items:$,loading:v,hasMore:k,loadMore:S,timeRange:f,onSearch:b,emptyText:F})}))}))},60037:(e,t,a)=>{a.d(t,{O:()=>l});var i=a(76398),s=a(58138),r=a(86282);const n={display:"flex",flexDirection:"column",".pair":{fontWeight:"semibold"},".extra":{fontWeight:"normal"}},l=e=>{var{symbolName:t,fallbackText:a=""}=e,l=(0,i._T)(e,["symbolName","fallbackText"]);return(0,s.jsx)(r.Z,Object.assign({__css:n},l,{children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",Object.assign({className:"pair"},{children:t.symbol})),(0,s.jsx)("div",Object.assign({className:"extra"},{children:`${t.contractTypeI18n} ${t.deliveryDateFormat}`}))," "]}):a}))}},48818:(e,t,a)=>{a.d(t,{Z:()=>r});var i=a(58138),s=(a(96832),a(72249));function r(e){return(0,i.jsx)(s.Z,Object.assign({__css:{flexDirection:"column",height:"100%",px:"sm"}},e))}},23607:(e,t,a)=>{a.d(t,{m:()=>g});var i=a(76398),s=a(58138),r=a(96832),n=a(86282),l=a(49247),o=a(81913),c=a(7266);const d={display:"flex",alignItems:"center",cursor:"help",color:"t.third",borderBottom:["1px dotted","1px dotted","none"],borderBottomColor:"t.third","&:hover":{color:"t.primary",borderBottomColor:"t.primary"}},u={maxWidth:"296px",margin:"-4px 0",lineHeight:"16px",color:"t.white",whiteSpace:"pre-line"};var x=a(19805);const m=e=>{var{link:t}=e,a=(0,i._T)(e,["link"]);const{getI18n:r}=(0,x.yk)();return(0,s.jsx)(l.Z,Object.assign({as:"a",variant:"addressLink",href:t,target:"_blank",color:"t.yellow",fontSize:12},a,{children:r("learnMore",{defaultValue:"Learn More"})}))},g=r.memo((e=>{var{children:t,tip:a,learnMoreLink:r,placement:x,hideUnderLine:g,sx:p,tipSx:h,labelSx:y,onTipClick:j}=e,f=(0,i._T)(e,["children","tip","learnMoreLink","placement","hideUnderLine","sx","tipSx","labelSx","onTipClick"]);const{isIPad:b}=(0,c.F)(),O=(0,s.jsxs)(n.Z,Object.assign({sx:Object.assign(Object.assign({},u),h)},j&&{onClick:j},{children:[a,r&&(0,s.jsxs)(s.Fragment,{children:[" ",(0,s.jsx)(m,{link:r})]})]}));return(0,s.jsx)(o.Z,Object.assign({tip:O,delay:500,sx:p,bg:"bg4",placement:x,arrow:!0,enablePortal:!b},f,{children:(0,s.jsx)(l.Z,Object.assign({sx:Object.assign(Object.assign(Object.assign({},d),y),g?{borderBottom:"none"}:{})},{children:t}))}))}))}}]);