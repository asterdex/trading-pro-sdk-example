(self.webpackChunkaden_trade_sdk=self.webpackChunkaden_trade_sdk||[]).push([[3012],{85452:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(96832),r=s(86282);const i=(0,n.forwardRef)(((e,t)=>n.createElement(r.Z,{ref:t,tx:"card",variant:"default",...e})));i.displayName="Card";const a=i},82373:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var n=s(96832),r=s(415),i=s(86282);const a=e=>n.createElement(r.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{d:"M3 10.5v3h18v-3H3z",fill:"currentColor"})),l=e=>n.createElement(r.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"})),o=e=>e["data-indeterminate"]?n.createElement(a,{...e}):n.createElement(l,{...e}),c=(0,n.forwardRef)(((e,t)=>{const{className:s,sx:r,defaultChecked:a=!1,checked:l,indeterminate:c=!1,size:d=16,onChange:u,...h}=e,{current:p}=n.useRef(null!=l),[g,m]=n.useState(a);return p&&l!==g&&m(void 0!==l&&l),n.createElement(i.Z,{className:s,sx:r,__css:{mr:"xs",flexShrink:0,width:d,height:d,lineHeight:"number"==typeof d?`${d}px`:d,"> svg":{boxSizing:"border-box",cursor:"pointer",border:"1px solid",borderColor:"t.disabled",borderRadius:"small",maxWidth:"100%",maxHeight:"100%",bg:"transparent",fill:"transparent"},"> svg path":{fill:"inherit"},":hover":{"input:not(:disabled) ~ svg":{borderColor:"primary"}},"input:checked ~ svg":{border:"none",bg:"primary",fill:c?"checkbox.indeterminateFill":"bg1"},"input:disabled ~ svg":{cursor:"not-allowed",bg:"line",fill:"line",border:"none"},"input:checked:disabled ~ svg":{fill:"t.disabled"}}},n.createElement(i.Z,{ref:t,as:"input",type:"checkbox","data-bn-type":"checkbox",hidden:!0,...h,checked:g,"data-indeterminate":g&&c,onChange:e=>{let t=!g;p||m(t),e.target.checked=t,e.currentTarget.checked=t,u&&u(e)},sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}}),n.createElement(o,{"aria-hidden":"true","data-indeterminate":c}))}));c.displayName="Checkbox";const d=c},77991:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>j});var n=s(96832),r=s(23893),i=s(93112),a=s(85466),l=s.n(a);function o(e){const[t,s]=(0,n.useState)(e);return(0,n.useEffect)((()=>{var n,r;s((n=t)===(r=e)||l()(n,r)?n:r)}),[e]),t}var c=s(86282),d=s(22697),u=s(17948),h=s(97565);const p={right:"left",left:"right","top-start":"top-end","right-start":"left-start","left-start":"right-start","bottom-start":"bottom-end","top-end":"top-start","right-end":"left-end","left-end":"right-end","bottom-end":"bottom-start"},g=()=>{},m=()=>n.createElement("div",{"data-ssr":!0,suppressHydrationWarning:!0}),x=(0,n.forwardRef)(((e,t)=>n.createElement(c.Z,{ref:t,__css:{position:"relative",display:"inline-block",outline:"none"},...e}))),y=(0,n.forwardRef)((({visible:e,...t},s)=>{const{context:r}=(0,n.useContext)(u.Z),[i,a]=n.useState(!1);(0,n.useEffect)((()=>{const t=e!==i?setTimeout((()=>a(Boolean(e)))):void 0;return()=>{t&&clearTimeout(t)}}),[e,i]);const l=(0,n.useMemo)((()=>({...e?i?{}:{visibility:"hidden"}:{display:"none",pointerEvents:"none",visibility:"hidden"},zIndex:"modal"===r?1201:"dropdown"})),[e,i,r]);return n.createElement(c.Z,{ref:s,tx:"dropdown",variant:"box",__css:l,...t})})),f=(0,n.forwardRef)(((e,t)=>{const{children:s,dir:a,disabled:l,enablePortal:c=!1,overlay:d=n.createElement(n.Fragment,null),overlayProps:u={},trigger:y,isFixed:f=!1,forceTop:j=!1,onVisibleChange:O=g,open:v,placement:C="bottom-start",onClick:w,needSeo:S=!1,...k}=e;let I=j?"top":C;I="rtl"===a&&p[I]||I;let Z=y||"click";const[P,T]=(0,n.useState)(!l&&!0===v),E=(0,n.useRef)(0),[V,R]=(0,n.useState)(),{current:N}=n.useRef(null!=v),[M,_]=(0,n.useState)(S);P&&!c&&M&&_(!1);const A=(0,n.useMemo)((()=>d),[d]),z=(0,h.Z)(R,t),[B,L]=(0,n.useState)(null),H=n.useMemo((()=>f||!P?[{name:"eventListeners",options:{scroll:!1,resize:!1}}]:void 0),[f,P]),{styles:F,attributes:$,forceUpdate:D}=(0,r.D)(V,B,{placement:I,strategy:"fixed",modifiers:H}),Y=(0,i.D)((e=>{(e=Boolean(e))!==P&&(e&&D&&D(),T(!0===e),O(!0===e))}));N&&(Y(v),Z=void 0),l&&(Y(!1),Z=void 0);const K=(0,i.D)((e=>{e.target instanceof Node&&(V?.contains(e.target)||B?.contains(e.target))||Y(!1)}));(0,n.useEffect)((()=>(!N&&P?window.addEventListener("click",K):window.removeEventListener("click",K),()=>{window.removeEventListener("click",K)})),[N,K,P]);const U=(0,i.D)(Z?e=>{window.performance.now()-E.current>500&&Y(!P),w&&w(e)}:w||(()=>{})),q=(0,i.D)("hover"===Z?t=>{!P&&window.performance.now()-E.current>500&&(Y(!0),E.current=window.performance.now()),e.onMouseMove&&e.onMouseMove(t)}:e.onMouseMove||(()=>{})),G=(0,i.D)("hover"===Z?t=>{Y(!1),e.onMouseLeave&&e.onMouseLeave(t)}:e.onMouseLeave||(()=>{})),W=o(k),Q=o(u),X=o(F.popper),J=o($.popper),ee=(0,n.useMemo)((()=>M?"undefined"!=typeof window&&window.document&&window.document.createElement?n.createElement(m,null):n.createElement("div",{style:{display:"none"}},A):null),[M,A]);return(0,n.useMemo)((()=>n.createElement(x,{className:P?"checked":void 0,ref:z,onClick:U,onMouseMove:q,onMouseLeave:G,...W},ee,s,n.createElement(b,{enablePortal:c,popupVisible:P,attributesPopper:J,overlay:d,overlayProps:Q,stylesPopper:X,setPopperElement:L}))),[P,z,U,q,G,W,ee,s,c,J,d,Q,X])})),b=(0,n.memo)((({enablePortal:e,popupVisible:t,attributesPopper:s,overlay:r,overlayProps:i,stylesPopper:a,setPopperElement:l})=>e?t?n.createElement(d.ZP,null,n.createElement(y,{...i,ref:l,style:a,visible:t,...s},r)):null:n.createElement(y,{...i,ref:l,style:a,visible:t,...s},r)));f.displayName="Dropdown";const j=(0,n.memo)(f)},45313:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(96832),r=s(72249);const i=(0,n.forwardRef)(((e,t)=>{const s=r.Z;return n.createElement(s,{ref:t,as:"label",tx:"forms",variant:"label",...e,__css:{alignItems:"center"}})}));i.displayName="Label";const a=i},97565:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832);function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function i(e,t){return n.useMemo((()=>null==e&&null==t?null:s=>{r(e,s),r(t,s)}),[e,t])}},27960:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M16 18.172a1 1 0 11-1.414 1.414L8 13a1 1 0 010-1.414L14.586 5A1 1 0 0116 6.414l-5.879 5.879 5.88 5.879z"}))},45256:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))},43533:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))},99210:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M12 10.586l5.95-5.95a1 1 0 111.414 1.414L13.414 12l5.95 5.95a1 1 0 01-1.414 1.414L12 13.414l-5.95 5.95a1 1 0 01-1.414-1.414l5.95-5.95-5.95-5.95A1 1 0 116.05 4.636l5.95 5.95z"}))},35728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>x});var n=s(96832),r=s(10012),i=s(30226),a=s(86282),l=s(72249),o=s(45313),c=s(82373),d=s(415);const u=e=>n.createElement(d.Z,{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24",...e},n.createElement("path",{d:"M15 15a1 1 0 001-1v-.514a1 1 0 00-.286-.7l-3-3.058a1 1 0 00-1.428 0l-3 3.057a1 1 0 00-.286.7V14a1 1 0 001 1h6z"}));var h=s(45256);const p=e=>n.createElement(a.Z,{tx:"listGrid",variant:"default",__css:{overflow:"hidden",boxSizing:"border-box",borderBottom:"1px solid",transition:"all 0.2s ease-in"},...e}),g=e=>n.createElement(a.Z,{tx:"listGrid",variant:"default",__css:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0",padding:"0 16px"},...e}),m=e=>n.createElement(g,{tx:"listGrid",variant:"header",...e});class x extends n.PureComponent{constructor(e){super(e),this.displayName="ListGrid",this.listRef=n.createRef(),this.getSelectKey=e=>{const{rowKey:t}=this.props;return-1===e?-1:t?"function"==typeof t?t(e):e[t]:e.key},this.getSelectKeyWithIndex=(e,t)=>{let s=this.getSelectKey(e);return void 0===s?t:s},this.getItemSize=e=>{const{listGridConfig:t}=this.props;return 0===e&&t.headerCellHeight?t.headerCellHeight:e===this.getEmptyDataIndex()&&t.emptyCellHeight?t.emptyCellHeight:void 0===t.expandHeight?t.collapseHeight:e===this.state.expandItemIndex?t.expandHeight:t.collapseHeight},this.isItemLoaded=e=>e<this.props.data.length,this.getEmptyDataIndex=()=>{const{data:e,renderHeaderCell:t,renderEmptyCell:s}=this.props;if("function"==typeof s){if(0===e.length)return 0;if(1===e.length&&t)return 1}return-1},this._row=({index:e,style:t})=>{const{columns:s,data:r,loadingPlaceholder:i,listGridConfig:o,renderHeaderCell:c,renderEmptyCell:d,onSelect:x}=this.props;if(0===e&&"function"==typeof c)return c();if(this.getEmptyDataIndex()===e&&"function"==typeof d)return d();if(!this.isItemLoaded(e))return n.createElement(a.Z,{style:t},i);const y=r[e],f=this.getSelectKeyWithIndex(y,e);return n.createElement(p,{style:t},s.map(((t,r)=>0===r?n.createElement(m,{key:r,onClick:()=>this.handleExpandAndCollapse(e)},n.createElement(l.Z,{flex:1,alignItems:"center",onClick:x?e=>{e.stopPropagation(),e.preventDefault(),this.handleSelectRow(f)}:void 0},x&&this._checkbox(y,e)," ",this._cell(y,t)),o.expandHeight&&n.createElement(a.Z,{pl:"20px"},e===this.state.expandItemIndex?n.createElement(u,{tx:"listGrid",variant:"toggleIcon"}):n.createElement(h.Z,{tx:"listGrid",variant:"toggleIcon"}))):n.createElement(g,{alignItems:"flex-start",key:r},!s[r].hideTitle&&n.createElement(a.Z,{tx:"listGrid",variant:"leftHeader",__css:{whiteSpace:"nowrap",flexShrink:0}},s[r].title),n.createElement(a.Z,{tx:"listGrid",flex:1,variant:s[r].hideTitle?"":"rightContent"},this._cell(y,t))))))},this._cell=(e,t)=>"function"==typeof t.render?t.render(e[t.dataIndex],e):e[t.dataIndex],this._checkbox=(e,t)=>{let s=this.getSelectKeyWithIndex(e,t);return n.createElement(o.Z,{tx:"listGrid",variant:"checkbox"},n.createElement(c.Z,{checked:this.state.selectedKeySet.has(s),readOnly:!0}))},this.toggleAllSelection=(e=!1)=>{const{data:t,renderHeaderCell:s}=this.props,{selectedKeySet:n}=this.state;if(e)for(let e=0;e<t.length;e++)0===e&&s||n.add(this.getSelectKeyWithIndex(t[e],e));else n.clear();this.renderAndOnSelect()},this.state={expandItemIndex:-1,selectedKeySet:new Set}}static getDerivedStateFromProps(e){return e.selectedKeys?{selectedKeySet:new Set(e.selectedKeys)}:null}componentDidUpdate(e){this.props.data!==e.data&&this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)}handleExpandAndCollapse(e){let t=Math.min(e,this.state.expandItemIndex);t<0&&(t=0),this.state.expandItemIndex===e?this.setState({expandItemIndex:-1}):this.setState({expandItemIndex:e}),this.listRef.current&&this.listRef.current.resetAfterIndex(t,!0)}handleSelectRow(e){const{selectedKeySet:t}=this.state;t.has(e)?t.delete(e):t.add(e),this.renderAndOnSelect()}renderAndOnSelect(){const{selectedKeySet:e}=this.state,{data:t,onSelect:s,renderHeaderCell:n}=this.props,r=Array.from(e).sort(((e,t)=>e-t)),i=[];t.forEach(((t,s)=>{e.has(this.getSelectKeyWithIndex(t,s))&&i.push(s)})),s&&s(n?i.map((e=>e-1)):i,r),this.setState({selectedKeySet:new Set(r)}),this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)}render(){const{data:e,hasMore:t,loadMore:s=(()=>Promise.resolve()),listGridConfig:a,threshold:l=15,...o}=this.props;let c=t?e.length+1:e.length;return-1!==this.getEmptyDataIndex()&&c++,n.createElement(i.Z,{threshold:l,isItemLoaded:this.isItemLoaded,itemCount:c,loadMoreItems:s},(({onItemsRendered:e,ref:t})=>n.createElement(r.S_,{...o,height:a.height,itemCount:c,itemSize:this.getItemSize,onItemsRendered:e,ref:e=>{t(e),this.listRef={current:e}},width:a.width},this._row)))}}},72902:(e,t,s)=>{"use strict";s.d(t,{g:()=>r});var n=s(96832);const r=(e,t,s)=>{if(!e)throw new Error("useLocalStorage key may not be falsy");const r=s?s.raw?e=>e:s.deserializer:JSON.parse,a=s?s.raw?String:s.serializer:JSON.stringify,l=(0,n.useRef)((e=>{try{const s=localStorage.getItem(e);return null!==s?r(s):(t&&localStorage.setItem(e,a(t)),t)}catch{return t}})),[o,c]=(0,n.useState)((()=>l.current(e))),d=(0,n.useCallback)((t=>{c(t),i.get(localStorage)?.get(e)?.forEach((e=>{e!==c&&e(t)}))}),[c,e]);(0,n.useLayoutEffect)((()=>c(l.current(e))),[e]),(0,n.useEffect)((()=>{const s=s=>{if(s.storageArea===localStorage&&0===s.storageArea.length)return c(t);if(s.storageArea!==localStorage||e!==s.key||s.newValue===a(o))return;const n=s.newValue?r(s.newValue):s.newValue;c(n)};return window.addEventListener("storage",s,{passive:!0}),()=>window.removeEventListener("storage",s)}),[e]),(0,n.useEffect)((()=>{let t=i.get(localStorage);t||(t=new Map,i.set(localStorage,t));let s=t.get(e);s||(s=new Set,t.set(e,s));const n=c;return s.add(n),()=>{s?.delete(n)}}),[e]);const u=(0,n.useCallback)((t=>{try{const n="function"==typeof t?t(o):t;if(void 0===n)return;let i;i=s?s.raw?"string"==typeof n?n:JSON.stringify(n):s.serializer?s.serializer(n):JSON.stringify(n):JSON.stringify(n),localStorage.setItem(e,i),d(r(i))}catch{}}),[e,c]),h=(0,n.useCallback)((()=>{try{localStorage.removeItem(e),d(t)}catch{}}),[e,c]);return[o,u,h]},i=new Map},57546:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{d:"M16.5 8.49v2.25L12 15.51l-4.5-4.77V8.49h9z",fill:"currentColor"}))},71245:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(96832),r=s(415);const i=e=>n.createElement(r.Z,{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",...e},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 6h-7.79a4.001 4.001 0 00-7.42 0H3v3h2.79a4.001 4.001 0 007.42 0H21V6zm-10.21 9H3v3h7.79a4.001 4.001 0 007.42 0H21v-3h-2.79a4.001 4.001 0 00-7.42 0z",fill:"currentColor"}))},40721:(e,t,s)=>{"use strict";function n(e,t="yyyy-MM-dd hh:mm",s=!1){const n=s?{"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()}:{"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};let r=t;return/(y+)/.test(t)&&(r=t.replace(RegExp.$1,`${e.getFullYear()}`.substr(4-RegExp.$1.length))),Object.keys(n).forEach((e=>{new RegExp(`(${e})`).test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?n[e]:`00${n[e]}`.substr(`${n[e]}`.length)))})),r}s.d(t,{v:()=>n})},85466:(e,t,s)=>{var n=s(34662);e.exports=function(e,t){return n(e,t)}},14633:(e,t,s)=>{var n=s(77837),r=s(93702);e.exports=function(e,t,s){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(s)&&(i="leading"in s?!!s.leading:i,a="trailing"in s?!!s.trailing:a),n(e,t,{leading:i,maxWait:t,trailing:a})}},79649:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var n=s(92336),r=s(96832);function i(e,t,s){void 0===t&&(t=[]),void 0===s&&(s={loading:!1});var i,a,l=(0,r.useRef)(0),o=(i=(0,r.useRef)(!1),a=(0,r.useCallback)((function(){return i.current}),[]),(0,r.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),a),c=(0,r.useState)(s),d=c[0],u=c[1],h=(0,r.useCallback)((function(){for(var t=[],s=0;s<arguments.length;s++)t[s]=arguments[s];var r=++l.current;return d.loading||u((function(e){return(0,n.__assign)((0,n.__assign)({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return o()&&r===l.current&&u({value:e,loading:!1}),e}),(function(e){return o()&&r===l.current&&u({error:e,loading:!1}),e}))}),t);return[d,h]}},30226:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var n=s(96832),r=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};const a=function(e){function t(){var e,s,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];return s=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n._lastRenderedStartIndex=-1,n._lastRenderedStopIndex=-1,n._memoizedUnloadedRanges=[],n._onItemsRendered=function(e){var t=e.visibleStartIndex,s=e.visibleStopIndex;n._lastRenderedStartIndex=t,n._lastRenderedStopIndex=s,n._ensureRowsLoaded(t,s)},n._setRef=function(e){n._listRef=e},i(n,s)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var s=this.props,n=s.isItemLoaded,r=s.itemCount,i=s.minimumBatchSize,a=void 0===i?10:i,l=s.threshold,o=void 0===l?15:l,c=function(e){for(var t=e.isItemLoaded,s=e.itemCount,n=e.minimumBatchSize,r=e.stopIndex,i=[],a=null,l=null,o=e.startIndex;o<=r;o++)t(o)?null!==l&&(i.push(a,l),a=l=null):(l=o,null===a&&(a=o));if(null!==l){for(var c=Math.min(Math.max(l,a+n-1),s-1),d=l+1;d<=c&&!t(d);d++)l=d;i.push(a,l)}if(i.length)for(;i[1]-i[0]+1<n&&i[0]>0;){var u=i[0]-1;if(t(u))break;i[0]=u}return i}({isItemLoaded:n,itemCount:r,minimumBatchSize:a,startIndex:Math.max(0,e-o),stopIndex:Math.min(r-1,t+o)});(this._memoizedUnloadedRanges.length!==c.length||this._memoizedUnloadedRanges.some((function(e,t){return c[t]!==e})))&&(this._memoizedUnloadedRanges=c,this._loadUnloadedRanges(c))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,s=this.props.loadMoreItems||this.props.loadMoreRows,n=function(n){var r=e[n],i=e[n+1],a=s(r,i);null!=a&&a.then((function(){if(!((e={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:r,stopIndex:i}).startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(r,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}var e}))},r=0;r<e.length;r+=2)n(r)}}]),t}(n.PureComponent)},20476:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>et});var n=s(92336),r=s(58138),i=s(96832),a=s(3087),l=s(91531),o=s(86282),c=s(72249),d=s(10600),u=s(29787),h=s.n(u),p=s(83461),g=s(31781),m=s(37218),x=s(57979),y=s(214),f=s(15369),b=s(71882),j=s(31677),O=s(40721),v=s(3362),C=s(9737),w=s(93229),S=s(47181),k=s(63884),I=s(41787),Z=s(20434);const P=(0,v.nM)(),T=e=>P?(({symbol:e,insertTime:t,side:s,origType:n,type:r,price:i,origQty:a,executedQty:l,stopPrice:o,workingType:c,activatePrice:d,avgPrice:u,priceRate:h})=>{var p;const{getI18n:g}=(0,I.Z)(),{isCoinUnit:x}=(0,Z.Q)(),{getI18n:k}=(0,m.yk)(),P=(0,y.AM)()[e]||{},{equalQtyPrecision:T,pricePrecision:E,quantityPrecision:V,marginAsset:R,contractVal:N=100}=P,{tickers:M={}}=(0,f.s)((0,v.BN)())||{},{lastPrice:_}=M[e]||{},A=(0,C.i)({side:s,type:n}),z=Number(o)||Number(i),B=(0,b.uf)(z,E);let L=A&&z&&B?`${g(null===(p=w.HZ[c])||void 0===p?void 0:p.replace(/\s/g,"-"),{defaultValue:w.HZ[c]})} \r\n${[A,B].join(" ")}`:v.GR;Number(d)&&(L=`${k("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===s?"<=":">=",(0,b.uf)(d,E)].join(" ")}`);const H=w.Y1.includes(r)?v.GR:(0,b.uf)(i,E),F=k("Cont",{defaultValue:"Cont"}),$=w.cQ.includes(r)?o:"TRAILING_STOP_MARKET"===r?d||_:i;let D,Y=e;return P&&(D=(0,j.H)(P,k),Y=D.shortName),{nextDate:(0,O.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:Y,symbolName:D,nextType:g(`type-${r}`,{defaultValue:r})||r,nextPrice:H,nextAmount:x?`${(0,S.unitChangeCoinQty)({quantity:a,contractVal:N,price:$,precision:T})} ${R}`:`${(0,b.uf)(a,V)} ${F}`,nextFilled:x?`${(0,S.unitChangeCoinQty)({quantity:l,contractVal:N,price:u,precision:T})} ${R}`:`${(0,b.uf)(l,V)} ${F}`,nextTriggerConditions:L}})(e):(({symbol:e,insertTime:t,side:s,origType:n,type:r,price:i,origQty:a,executedQty:l,stopPrice:o,workingType:c,activatePrice:d,avgPrice:u})=>{var h;const{getI18n:p}=(0,I.Z)(),{getI18n:g}=(0,m.yk)(),x=(0,y.AM)()[e]||{},{getFormatedQuantity:S}=(0,k.s7)(x),{pricePrecision:Z,quantityPrecision:P}=x,{tickers:T={}}=(0,f.s)((0,v.BN)())||{},{lastPrice:E}=T[e]||{},V=(0,C.i)({side:s,type:n}),R=Number(o)||Number(i),N=(0,b.uf)(R,Z);let M=V&&R&&N?`${p(null===(h=w.HZ[c])||void 0===h?void 0:h.replace(/\s/g,"-"),{defaultValue:w.HZ[c]})} \r\n${[V,N].join(" ")}`:v.GR;Number(d)&&(M=`${g("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===s?"<=":">=",(0,b.uf)(d,Z)].join(" ")}`);const _=w.Y1.includes(r)?v.GR:(0,b.uf)(i,Z),A=w.cQ.includes(n)?o:"TRAILING_STOP_MARKET"===r?d||E:i;let z,B=e;return x&&(z=(0,j.H)(x,g),B=z.shortName),{nextDate:(0,O.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:B,symbolName:z,nextType:p(`type-${r}`,{defaultValue:r})||r,nextPrice:_,nextAmount:S({quantity:a,price:A,qtyPrecision:P}),nextFilled:S({quantity:l,price:u,qtyPrecision:P}),nextTriggerConditions:M}})(e);var E=s(85022),V=s(55733),R=s(79649),N=s(70894);const M=(0,v.nM)(),_=(0,v.nM)(),A=e=>_?function({symbol:e,side:t,quantity:s,type:n,price:r,stopPrice:i,avgPrice:a,closePosition:l}){const{getI18n:o}=(0,I.Z)(),{getI18n:c}=(0,m.yk)(),{isCoinUnit:d}=(0,Z.Q)(),u=(0,y.AM)()[e]||{},{equalQtyPrecision:h,marginAsset:p,contractVal:g=100,quantityPrecision:x,close:f}=u,j=c("Cont",{defaultValue:"Cont"}),O=o("closePosition",{defaultValue:"Close Positioin"}),v=w.cQ.includes(n)?i:"MARKET"===n?a||f:r,C=d?`${(0,S.unitChangeCoinQty)({quantity:s,contractVal:g,price:v,precision:h})} ${p}`:`${(0,b.uf)(s,x)} ${j}`;return{amount:l?O:C,sideProps:"BUY"===t?{color:"buy",children:o("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:o("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:s,type:n,price:r,stopPrice:i,avgPrice:a,closePosition:l}){const{getI18n:o}=(0,I.Z)(),c=(0,y.AM)()[e]||{},{getFormatedQuantity:d}=(0,k.s7)(c),{quantityPrecision:u,close:h}=c,p=o("closePosition",{defaultValue:"Close Positioin"}),g=d({quantity:s,price:w.cQ.includes(n)?i:"MARKET"===n?a||h:r,qtyPrecision:u});return{amount:l?p:g,sideProps:"BUY"===t?{color:"buy",children:o("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:o("sideSell",{defaultValue:"Sell"})}}}(e);var z=s(56776),B=s(11805),L=s(22658),H=s(49247),F=s(40590),$=s(22085),D=s(54987),Y=s(62493),K=s(24322),U=s(82597);const q=({mainOrder:e,subOrders:t})=>{const s="light"===(0,y.Fg)(),n=2===(null==t?void 0:t.length);return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsx)("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},{children:n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}}),(0,r.jsx)("path",{d:"M252 27 L382 27 L382 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}})]}):(0,r.jsx)("path",{d:"M252 0 L252 54",style:{stroke:s?"#F5F5F5":"#474D57",strokeWidth:"3px"}})})),(0,r.jsx)(c.Z,Object.assign({justifyContent:n?"space-between":"center"},{children:t}))]})},G=({mainOrder:e,subOrders:t})=>{const s=2===t.length?380:190,n="light"===(0,y.Fg)();return(0,r.jsxs)(r.Fragment,{children:[e,(0,r.jsxs)(c.Z,Object.assign({justifyContent:"start"},{children:[(0,r.jsx)("svg",Object.assign({width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${s}`,xmlns:"http://www.w3.org/2000/svg"},{children:2===(null==t?void 0:t.length)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:`M15 0 L15 ${s/4} L30 ${s/4}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}}),(0,r.jsx)("path",{d:`M15 ${s/4} L15 ${3*s/4} L30 ${3*s/4}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}})]}):(0,r.jsx)("path",{d:`M15 0 L15 ${s/2} L30 ${s/2}`,style:{stroke:n?"#F5F5F5":"#474D57",strokeWidth:"4px"}})})),(0,r.jsx)(o.Z,Object.assign({sx:{width:"calc(100% - 30px)"}},{children:t}))]}))]})},W=e=>(0,r.jsx)(z.Z,{children:({isMobile:t})=>t?(0,r.jsx)(G,Object.assign({},e)):(0,r.jsx)(q,Object.assign({},e))});var Q=s(97715),X=s(87608),J=s.n(X),ee=s(38156),te=s(79129);const se=e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},ne=["LIMIT","STOP","TAKE_PROFIT"],re={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},ie={height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"},backgroundColor:"transparent",justifyContent:"end"},ae=({order:e={},subOrderLength:t})=>{const{getI18n:s}=(0,I.Z)(),{getI18n:n}=(0,m.yk)(),{type:a,status:l,price:c,reduceOnly:d}=e,{useStrategyOrder:u}=(0,i.useContext)(L.Z),{amount:h,sideProps:p}=u(e);return(0,r.jsxs)(o.Z,Object.assign({sx:re},{children:[(0,r.jsx)("div",Object.assign({className:"description"},{children:1===t?s("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):s("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})})),(0,r.jsxs)("div",Object.assign({className:"card orderA"},{children:[(0,r.jsx)("div",Object.assign({className:"title"},{children:s("orderA",{defaultValue:"Order A"})})),(0,r.jsxs)("div",Object.assign({className:"content"},{children:[(0,r.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third",className:"type"},{children:s(`type-${a}`,{defaultValue:a})})),(0,r.jsx)(H.Z,Object.assign({fontSize:0,color:"t.third",className:"status"},{children:s(`status-${se(l)}`,{defaultValue:l})}))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:s("side",{defaultValue:"Side"})})),(0,r.jsx)(H.Z,Object.assign({},p))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:s("amount",{defaultValue:"Amount"})})),(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:h}))]})),ne.includes(a)&&(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:s("price",{defaultValue:"Price"})})),(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:c}))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:s("reduceOnly",{defaultValue:"Reduce Only"})})),(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:n(d?"openOrder-true":"openOrder-false",{defaultValue:d?"True":"False"})}))]}))]}))]}))]}))},le=({step:e,tickSizePrecision:t,order:s,changeOrder:n,index:a,subOrderLength:l})=>{const{getI18n:c}=(0,I.Z)(),{getI18n:d}=(0,m.yk)(),{type:u,status:h,stopPrice:p,workingType:g,price:x,reduceOnly:y}=s||{},{useStrategyOrder:f}=(0,i.useContext)(L.Z),{amount:b,sideProps:j}=f(s),O="PENDING"===h,v={CONTRACT_PRICE:c("Last-Price",{defaultValue:"Last Price"}),MARK_PRICE:c("Mark-Price",{defaultValue:"Mark Price"})},C=(0,i.useCallback)((e=>{(0,te._p)(e,(e=>n(Object.assign(Object.assign({},s),{stopPrice:e}),a)),"",t)}),[n,s,t,a]),w=(0,i.useCallback)((e=>n(Object.assign(Object.assign({},s),{workingType:e}),a)),[n,s,a]);return(0,r.jsxs)(o.Z,Object.assign({sx:re},{children:[0===a&&(0,r.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""})),1===a&&(0,r.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""})),(0,r.jsxs)("div",Object.assign({className:J()({orderB:0===a,orderC:1===a,only:1===l,card:!0})},{children:[(0,r.jsx)("div",Object.assign({className:"title"},{children:c(0===a?"orderB":"orderC",{defaultValue:0===a?"Order B":"Order C"})})),(0,r.jsxs)("div",Object.assign({className:"content"},{children:[(0,r.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,r.jsx)(H.Z,Object.assign({fontSize:2,color:"t.primary"},{children:c(`type-${u}`,{defaultValue:u})})),(0,r.jsx)(H.Z,Object.assign({fontSize:0,color:"t.third"},{children:c(`status-${se(h)}`,{defaultValue:h})}))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("side",{defaultValue:"Side"})})),(0,r.jsx)(H.Z,Object.assign({},j))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("amount",{defaultValue:"Amount"})})),(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:b}))]})),ne.includes(u)&&(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("price",{defaultValue:"Price"})})),(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:x}))]})),(0,r.jsxs)("div",Object.assign({className:"row "+(O?"editable":"")},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("triggerPrice",{defaultValue:"Trigger Price"})})),O?(0,r.jsx)(Q.Z,{type:"number",variant:"outline",step:e,value:p,onChange:C,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}}):(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:p}))]})),(0,r.jsxs)("div",Object.assign({className:"row "+(O?"editable":"")},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("trigger",{defaultValue:"Trigger"})})),O?(0,r.jsx)(ee.Z,{sx:ie,workingType:g,changeWorkingType:w}):(0,r.jsx)(H.Z,Object.assign({color:"t.primary"},{children:v[g]}))]})),(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)(H.Z,Object.assign({color:"t.third"},{children:c("reduceOnly",{defaultValue:"Reduce Only"})})),(0,r.jsxs)(H.Z,Object.assign({color:"t.primary"},{children:[" ",d(y?"openOrder-true":"openOrder-false",{defaultValue:y?"True":"False"})]}))]}))]}))]}))]}))},oe=i.memo((e=>{const{getI18n:t,i18n:{language:s}}=(0,I.Z)(),{isMobile:a,visible:l,order:u={},onClose:p}=e,m=(0,y.AM)()[u.symbol]||{},x=(0,U.p)(m.tickSize),f=m.tickSize,b=!h()(u)&&l,[j,O]=(0,i.useState)(!1),[v,C]=(0,i.useState)({}),[w,S]=(0,i.useState)({}),[k,Z]=(0,i.useState)([]),P=(0,i.useCallback)(((e,t)=>{const s=k.map(((s,n)=>n===t?e:s));Z(s)}),[k]),T=(0,i.useCallback)((()=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{strategyId:e,strategyType:t}=u;O(!0);const s=yield(0,D.Su)({strategyId:e,strategyType:t});O(!1);const{success:n,data:r}=s;n&&r&&(C(r),S(r.subOrders[0]),"OTOCO"===r.strategyType?Z(r.subOrders.slice(1,3)):Z(r.subOrders.slice(1,2)))}))),[u]);(0,i.useEffect)((()=>{b?T():(C({}),S({}),Z([]))}),[T,b]);const{enqueueNotification:E}=(0,g.Z)(),V=(0,i.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){"STOP_MARKET"!==e.type&&"TAKE_PROFIT_MARKET"!==e.type||delete e.price,delete e.status;const{success:n,message:r}=yield(0,D.ZX)(e,{language:s});n&&E({message:t("update-strategy-suc"),variant:"success"})}))),[t,s,E]),R=(0,i.useCallback)((()=>{const{strategyType:e}=v,t=[];k.forEach(((s,n)=>{const r=function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType}(s,v.subOrders[n+1]);r&&t.push(V(Object.assign(Object.assign({},s),{strategyType:e})))})),Promise.all(t).finally(p)}),[p,v,k,V]);return(0,r.jsxs)(F.Z,Object.assign({open:b,onCloseIconClick:p,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},{children:[(0,r.jsx)(o.Z,Object.assign({as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},{children:t("strategyOrder",{defaultValue:"Strategy Order"})})),(0,r.jsxs)(o.Z,Object.assign({sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},{children:[(0,r.jsxs)(o.Z,Object.assign({sx:{minHeight:"400px"}},{children:[(0,r.jsx)(K.Z,{inner:!0,show:j}),(0,r.jsx)(W,{mainOrder:(0,r.jsx)(ae,{order:w,subOrderLength:k.length}),subOrders:k.map(((e,t)=>(0,r.jsx)(le,{index:t,tickSizePrecision:x,step:Number(f),order:e,changeOrder:P,subOrderLength:k.length},e.strategySubId)))}),(0,r.jsxs)(c.Z,Object.assign({alignItems:"start",mt:"md",color:"t.third"},{children:[(0,r.jsx)(Y.Z,{size:32,mr:"xs",height:"0.5em"}),(0,r.jsx)(H.Z,Object.assign({fontSize:"14px",lineHeight:"16px"},{children:"OTOCO"===v.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")}))]}))]})),a&&(0,r.jsx)(o.Z,{sx:{width:"100%",height:"64px"}}),(0,r.jsx)($.y,Object.assign({sx:{bg:"popupBg"}},{children:(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(d.Z,Object.assign({flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:p},{children:t("cancel",{defaultValue:"Cancel"})})),(0,r.jsx)(d.Z,Object.assign({flex:"auto",onClick:R,height:"40px"},{children:t("confirm",{defaultValue:"Confirm"})}))]})}))]}))]}))}));var ce=s(72902),de=s(94216);const ue=i.memo((({order:e,onClose:t})=>{const{symbol:s,side:n,positionSide:a,modifyParams:l={},onConfirm:o}=e,{positionMode:c=!1}=(0,y.F7)(),{getI18n:d}=(0,m.yk)(),[u,h]=(0,ce.g)(v.Zv,v.Xd),{limitPrice:p,qty:g,amendedField:x}=l,f="BUY"===n?"buy":"sell",b=(({side:e,positionSide:t,getFutI18n:s,positionMode:n})=>{const r=s("buyLong",{defaultValue:"Buy/Long"}),i=s("sellShort",{defaultValue:"Sell/Short"}),a=s("OpenLong",{defaultValue:"Open Long"}),l=s("OpenShort",{defaultValue:"Open Short"}),o=s("CloseShort",{defaultValue:"Close Short"}),c=s("CloseLong",{defaultValue:"Close Long"});let d;return d=n?"BUY"===e?"SHORT"===t?o:a:"SHORT"===t?l:c:"BUY"===e?r:i,d})({side:n,positionSide:a,getFutI18n:d,positionMode:c}),j=(0,i.useCallback)((()=>{const e=Object.assign(Object.assign({},u),{needConfirm:!1});h(e)}),[h,u]);return(0,r.jsx)(de.Z,{symbol:s,title:b,color:f,amendedField:x,isMarket:!1,limitPrice:p,qty:g,isClose:!1,onClose:t,onConfirm:o,closeTip:j,orderSide:n})}));var he=s(94755),pe=s(82373);const ge=i.memo((({hasData:e})=>{const{getI18n:t}=(0,I.Z)(),{getI18n:s}=(0,m.yk)(),{handleHideOtherPairs:n,checked:a,actionCancel:l}=(0,i.useContext)(L.Z);return(0,r.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,r.jsxs)(c.Z,Object.assign({sx:{alignItems:"center",color:"t.third"},onClick:()=>n(!a)},{children:[(0,r.jsx)(pe.Z,{name:"hideOtherSymbol",checked:a,onChange:()=>!1}),(0,r.jsx)(H.Z,Object.assign({variant:"caption",sx:{userSelect:"none"}},{children:s("hideOtherSymbol")}))]})),(0,r.jsx)(H.Z,Object.assign({onClick:e?()=>{l(0,t("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}:void 0,variant:"caption",sx:{color:e?"t.yellow":"t.third"}},{children:t("action",{defaultValue:"Cancel All"})}))]}))}));var me=s(26037);const xe=({children:e})=>(0,r.jsx)(H.Z,Object.assign({variant:"caption",__css:{color:"t.third"}},{children:e})),ye=e=>{var{color:t="t.primary"}=e,s=(0,n.__rest)(e,["color"]);return(0,r.jsx)(H.Z,Object.assign({variant:"captionSub",color:t},s))},fe=({children:e,sx:t})=>(0,r.jsx)(c.Z,Object.assign({className:"row-item",sx:t},{children:e})),be=({orderId:e,symbolName:t,side:s,positionSide:n,nextPair:a,nextType:l,actionCancel:o})=>{const{getI18n:c}=(0,I.Z)(),d=(0,i.useCallback)((()=>{o((({orderId:t})=>e===t))}),[o,e]);return(0,r.jsxs)(fe,Object.assign({sx:{pb:"10px !important"}},{children:[(0,r.jsxs)("div",Object.assign({className:"symbol-wrap"},{children:[t?(0,r.jsxs)("div",Object.assign({className:"symbolText"},{children:[(0,r.jsx)("div",Object.assign({className:"symbol"},{children:t.symbol})),(0,r.jsx)("div",{children:`${t.contractTypeI18n} ${t.deliveryDateFormat}`})]})):(0,r.jsx)("div",Object.assign({className:"symbolText"},{children:a})),(0,r.jsx)(H.Z,Object.assign({variant:"caption",sx:{color:"BUY"===s?"buy":"sell"}},{children:"BUY"===s?`${l} / ${c(`sideBuy${n}`,{defaultValue:"Buy"})}`:`${l} / ${c(`sideSell${n}`,{defaultValue:"Sell"})}`}))]})),(0,r.jsx)("div",Object.assign({className:"cancel-order",onClick:d},{children:c("cancel",{defaultValue:"Cancel"})}))]}))},je=({nextDate:e})=>{const{getI18n:t}=(0,I.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xe,{children:t("date",{defaultValue:"Date"})}),(0,r.jsx)(ye,{children:e})]})},Oe=({strategyId:e,strategyType:t,actionStrategyModal:s,order:n})=>{const{getI18n:a}=(0,I.Z)(),l=("OTOCO"===t||"OTO"===t)&&e,o=(0,i.useCallback)((()=>{s(n)}),[s,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xe,{children:a("strategy",{defaultValue:"Strategy"})}),l?(0,r.jsx)("div",Object.assign({className:"strategy-view",onClick:o},{children:a("strategyView",{defaultValue:"View"})})):(0,r.jsx)(H.Z,{children:"--"})]})},ve=(0,i.memo)((e=>{const{orderId:t,side:s,reduceOnly:n,positionSide:a="BOTH",closePosition:l,strategyId:o,strategyType:d,timeInForce:u,type:h,activatePrice:p,priceRate:g,workingType:x}=e,{getI18n:y}=(0,I.Z)(),{getI18n:f}=(0,m.yk)(),{actionCancel:b,actionStrategyModal:j,useColumn:O}=(0,i.useContext)(L.Z),v=O(e),{symbolName:C,nextPair:w,nextFilled:S,nextDate:k,nextPrice:Z,nextAmount:P,nextType:T,nextTriggerConditions:E}=v,V=y("closePosition",{defaultValue:"Close Position"}),R=(0,i.useMemo)((()=>[{label:y("filled",{defaultValue:"Filled"}),value:S},{label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:n?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,S,n,f,u]);return(0,r.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,r.jsx)(be,{orderId:t,symbolName:C,side:s,positionSide:a,nextPair:w,nextType:T,actionCancel:b}),(0,r.jsxs)(fe,{children:[(0,r.jsx)(xe,{children:y("price",{defaultValue:"Price"})}),(0,r.jsx)(ye,{children:Z})]},"price"),(0,r.jsxs)(fe,{children:[(0,r.jsx)(xe,{children:y("amount",{defaultValue:"Amount"})}),(0,r.jsx)(ye,{children:l?V:P})]},"amount"),R.map((({label:e,value:t})=>(0,r.jsxs)(fe,{children:[(0,r.jsx)(xe,{children:e}),(0,r.jsx)(ye,{children:t})]},e))),(0,r.jsxs)(fe,{children:[(0,r.jsx)(xe,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,r.jsxs)(c.Z,Object.assign({alignItems:"center"},{children:[(0,r.jsx)(ye,{children:E}),(0,r.jsx)(me.Z,{type:h,workingType:x,activatePrice:p,priceRate:g})]}))]},"triggerConditions"),(0,r.jsx)(fe,{children:(0,r.jsx)(Oe,{strategyId:o,strategyType:d,actionStrategyModal:j,order:e})},"tpsl"),(0,r.jsx)(fe,{children:(0,r.jsx)(je,{nextDate:k})},"date")]}))})),Ce=(0,i.memo)((e=>{const{orderId:t,side:s,reduceOnly:n,positionSide:a="BOTH",closePosition:l,strategyId:o,strategyType:d,timeInForce:u,type:h,activatePrice:p,priceRate:g,workingType:x}=e,{getI18n:y}=(0,I.Z)(),{getI18n:f}=(0,m.yk)(),{actionCancel:b,actionStrategyModal:j,useColumn:O}=(0,i.useContext)(L.Z),v=O(e),{symbolName:C,nextPair:w,nextFilled:S,nextDate:k,nextPrice:Z,nextAmount:P,nextType:T,nextTriggerConditions:E}=v,V=y("closePosition",{defaultValue:"Close Position"}),R=(0,i.useMemo)((()=>[{columnKey:"filled",label:y("filled",{defaultValue:"Filled"}),value:S},{columnKey:"reduceOnly",label:y("reduceOnly",{defaultValue:"Reduce Only"}),value:n?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})},{columnKey:"postOnly",label:f("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?y("YES",{defaultValue:"YES"}):y("NO",{defaultValue:"NO"})}]),[y,S,n,f,u]);return(0,r.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,r.jsx)(be,{orderId:t,symbolName:C,side:s,positionSide:a,nextPair:w,nextType:T,actionCancel:b}),(0,r.jsxs)("div",Object.assign({className:"row-grid"},{children:[(0,r.jsxs)("div",Object.assign({className:"price"},{children:[(0,r.jsx)(xe,{children:y("price",{defaultValue:"Price"})}),(0,r.jsx)(ye,{children:Z})]})),(0,r.jsxs)("div",Object.assign({className:"amount"},{children:[(0,r.jsx)(xe,{children:y("amount",{defaultValue:"Amount"})}),(0,r.jsx)(ye,{children:l?V:P})]})),R.map((({label:e,value:t,columnKey:s})=>(0,r.jsxs)("div",Object.assign({className:s},{children:[(0,r.jsx)(xe,{children:e}),(0,r.jsx)(ye,{children:t})]}),s))),(0,r.jsxs)("div",Object.assign({className:"triggerConditions"},{children:[(0,r.jsxs)(c.Z,Object.assign({alignItems:"center",justifyContent:"flex-end"},{children:[(0,r.jsx)(xe,{children:y("triggerConditions",{defaultValue:"Trigger Conditions"})}),(0,r.jsx)(me.Z,{type:h,workingType:x,activatePrice:p,priceRate:g})]})),(0,r.jsx)(ye,{children:E})]})),(0,r.jsx)("div",Object.assign({className:"tpsl"},{children:(0,r.jsx)(Oe,{strategyId:o,strategyType:d,actionStrategyModal:j,order:e})})),(0,r.jsx)("div",Object.assign({className:"date"},{children:(0,r.jsx)(je,{nextDate:k})}))]}))]}))})),we={position:"relative",flexDirection:"column",flex:"1 0",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:102,borderBottom:"none"},"& .row-item":{justifyContent:"space-between",alignItems:"center",py:"minor"},"& .symbol-wrap":{display:"flex",flexDirection:"column",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},Se={position:"relative",flexDirection:"column",height:"100%",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-list":{height:"calc(100% - 32px)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:15,borderBottom:"none"},".row-grid":{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gridGap:"12px 16px",gridTemplateAreas:'"price amount filled"\n        "reduceOnly postOnly triggerConditions"\n        "tpsl date ."',"& .filled, & .triggerConditions":{textAlign:"right"}},"& .row-item":{justifyContent:"space-between",alignItems:"center"},"& .symbol-wrap":{display:"flex",alignItems:"center",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center",mr:"xs"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},ke=i.memo((({isMobile:e,outLoading:t,items:s,girdLoading:n})=>{const{emptyText:a}=(0,i.useContext)(L.Z);return(0,r.jsxs)(c.Z,Object.assign({sx:e?we:Se},{children:[(0,r.jsx)(K.Z,{fullScreen:!0,show:t}),(0,r.jsx)(ge,{hasData:(null==s?void 0:s.length)>0}),n||s&&s.length?(0,r.jsx)(r.Fragment,{children:e?s.map(((e,t)=>(0,r.jsx)(ve,Object.assign({},e),t))):(0,r.jsx)("div",Object.assign({className:"row-list"},{children:s.map(((e,t)=>(0,r.jsx)(Ce,Object.assign({},e),t)))}))}):(0,r.jsx)(he.pB,Object.assign({className:"empty"},{children:a}))]}))}));var Ie=s(93400),Ze=s(98388),Pe=s(77991),Te=s(43533);const Ee=i.memo((({hasData:e,headers:t=[],style:s})=>{const{actionCancel:n}=(0,i.useContext)(L.Z),{getI18n:a}=(0,I.Z)(),l=()=>{n(0,a("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))};return(0,r.jsx)("div",Object.assign({className:"openOrderRow header",style:s},{children:t.filter((e=>e.defaultChecked)).map((({text:t,overlay:s,key:n})=>(0,r.jsx)("div",Object.assign({className:n},{children:s?(0,r.jsx)(Pe.ZP,Object.assign({trigger:"hover",placement:"bottom-end",enablePortal:!0,overlay:e?s:null,sx:{userSelect:"none",display:"flex"}},{children:(0,r.jsxs)(o.Z,Object.assign({sx:{display:"flex",height:"24px",alignItems:"center",justifyContent:"center"}},{children:[(0,r.jsx)(d.Z,Object.assign({variant:"quiet",sz:"s",sx:{px:0,whiteSpace:"break-spaces"},onClick:e?l:void 0},{children:t})),(0,r.jsx)(Te.Z,{size:20,sx:{color:"t.third",cursor:"pointer",display:"inline-block"}})]}))}),n):(0,r.jsx)(H.Z,Object.assign({title:t,sx:{fontSize:0,color:"t.third",display:"inline-flex",alignItems:"center",justifyContent:"flex-start"},onClick:s&&e?l:void 0},{children:t}))}),n)))}))}));var Ve=s(71245),Re=s(45313);const Ne=i.memo((()=>{const{getI18n:e}=(0,m.yk)(),{handleHideOtherPairs:t,checked:s}=(0,i.useContext)(L.Z),n=e("hideOtherSymbol",{defaultValue:"Hide Other Symbol"});return(0,r.jsxs)(Re.Z,Object.assign({sx:{fontSize:[1,0],color:"t.third",cursor:["auto","auto","pointer"],lineHeight:["unset","24px","24px"]}},{children:[(0,r.jsx)(pe.Z,{checked:s,onChange:()=>t(!s)}),(0,r.jsx)(H.Z,Object.assign({sx:{userSelect:"none"}},{children:n}))]}))}));var Me=s(51725),_e=s(65416),Ae=s(72729),ze=s(27960);const Be={padding:"16px",bg:"popupBg",boxShadow:"elevation2",borderRadius:"4px",".check-header":{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px","& .name":{color:"t.secondary",fontWeight:"500",marginRight:"16px"}},".sort-header":{color:"t.third",display:"flex",justifyContent:"flex-start",alignItems:"center","& .back":{marginLeft:"8px",cursor:"pointer",fontSize:"12px"}}},Le=["reduceOnly","postOnly","strategy"],He=(0,i.memo)((({headers:e=[],onSort:t,onCheck:s})=>{const n=e.map((e=>Object.assign(Object.assign({},e),{value:e.key,label:e.text}))),a=n.filter((e=>e.sortable&&e.defaultChecked)).map((e=>Object.assign(Object.assign({},e),{label:e.text}))),l=n.filter((e=>e.checkable));l.sort(((e,t)=>Le.indexOf(e.value)-Le.indexOf(t.value)));const{getI18n:c}=(0,m.yk)(),[d,u]=(0,i.useState)("check");return"check"===d?(0,r.jsxs)(o.Z,Object.assign({__css:Be,onClick:e=>e.stopPropagation()},{children:[(0,r.jsxs)("div",Object.assign({className:"check-header"},{children:[(0,r.jsxs)(H.Z,Object.assign({variant:"captionSub",className:"name"},{children:[" ",c("openOrder-preferenceTitle",{defaultValue:"Open Orders Preference"})]})),(0,r.jsx)("div",Object.assign({className:"action"},{children:(0,r.jsx)(Ae.Z,Object.assign({variant:"defaultLink",__css:{cursor:"pointer"},onClick:e=>{e.stopPropagation(),u("sort")}},{children:c("positions-preferenceSort")}))}))]})),(0,r.jsx)("div",Object.assign({className:"list"},{children:(0,r.jsx)(Me.Z,{options:l,getValue:e=>{const n=Object.keys(e)[0],r=e[n];s&&s(l.map((e=>e.value===n?Object.assign(Object.assign({},e),{defaultChecked:r}):e)).filter((e=>e.defaultChecked)).map((e=>e.value)));let i=a.map((e=>e.value));r?i.push(n):i=i.filter((e=>e!==n)),t&&t(i.concat(n))}})}))]})):(0,r.jsxs)(o.Z,Object.assign({__css:Be,onClick:e=>e.stopPropagation()},{children:[(0,r.jsxs)("div",Object.assign({className:"sort-header"},{children:[(0,r.jsx)(ze.Z,{size:16,onClick:()=>{u("check")}}),(0,r.jsx)("div",Object.assign({className:"back",onClick:()=>{u("check")}},{children:c("positions-preferenceBack")}))]})),(0,r.jsx)("div",Object.assign({className:"list"},{children:(0,r.jsx)(_e.Z,{items:a,onSort:e=>{t&&t(e)}})}))]}))})),Fe=i.memo((({headers:e,onCheck:t,onSort:s})=>(0,r.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,r.jsx)(Ne,{}),(0,r.jsx)(Pe.ZP,Object.assign({trigger:"click",sx:{marginLeft:16,marginTop:"4px"},overlay:(0,r.jsx)(He,{headers:e,onCheck:t,onSort:s}),overlayProps:{marginBottom:"8px"},placement:"top",enablePortal:!0},{children:(0,r.jsx)(Ve.Z,{mr:"8px",fontSize:"20px",sx:{color:"icons.close",cursor:"pointer","&:hover path":{fill:"t.third"}}})}))]}))));var $e=s(25769),De=s(99138);const Ye=({order:e})=>{const{getI18n:t}=(0,I.Z)(),{actionStrategyModal:s}=(0,i.useContext)(L.Z),{strategyId:n,strategyType:a}=e;return"OTOCO"!==a&&"OTO"!==a||!n?(0,r.jsx)("div",Object.assign({className:"strategy"},{children:"--"})):(0,r.jsx)("div",Object.assign({className:"strategy valid",onClick:()=>s(e)},{children:t("strategyView",{defaultValue:"View"})}))},Ke=i.memo((e=>{const{symbol:t,orderId:s,side:n,reduceOnly:a,positionSide:l="BOTH",closePosition:o,timeInForce:c,type:d,activatePrice:u,priceRate:h,workingType:p}=e,{getI18n:g}=(0,I.Z)(),{actionCancel:m,changeSymbol:x,useColumn:y,headers:f}=(0,i.useContext)(L.Z),b=y(e),j=g("closePosition",{defaultValue:"Close Position"}),{nextDate:O,symbolName:v,nextPrice:C,nextAmount:w,nextType:S}=b,{nextFilled:k,nextTriggerConditions:Z}=b;return(0,r.jsx)("div",Object.assign({className:"openOrderRow body"},{children:f.filter((e=>e.defaultChecked)).map((i=>{const{key:y}=i;switch(y){case"time":return(0,r.jsx)("div",Object.assign({className:"time"},{children:O}),y);case"symbol":return(0,r.jsx)("div",Object.assign({className:"symbol",onClick:()=>{x({symbol:t})}},{children:(0,r.jsx)(De.O,{symbolName:v,fallbackText:t})}),y);case"type":return(0,r.jsx)("div",Object.assign({className:"type"},{children:S}),y);case"side":return(0,r.jsx)("div",Object.assign({className:"side side-"+("BUY"===n?"buy":"sell")},{children:"BUY"===n?g(`sideBuy${l}`,{defaultValue:"Buy"}):g(`sideSell${l}`,{defaultValue:"Sell"})}),y);case"price":return(0,r.jsx)("div",Object.assign({className:"price"},{children:C}),y);case"amount":return(0,r.jsx)("div",Object.assign({className:"amount"},{children:o?j:w}),y);case"filled":return(0,r.jsx)("div",Object.assign({className:"filled"},{children:k}),y);case"reduceOnly":return(0,r.jsx)("div",Object.assign({className:"reduceOnly"},{children:a?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})}),y);case"postOnly":return(0,r.jsx)("div",Object.assign({className:"postOnly"},{children:"GTX"===c?g("YES",{defaultValue:"YES"}):g("NO",{defaultValue:"NO"})}),y);case"conditions":return(0,r.jsxs)("div",Object.assign({className:"conditions"},{children:[(0,r.jsx)("div",Object.assign({style:{whiteSpace:"pre",textAlign:"left"}},{children:Z})),(0,r.jsx)(me.Z,{type:d,workingType:p,activatePrice:u,priceRate:h})]}),y);case"strategy":return(0,r.jsx)(Ye,{order:e},y);case"action":return(0,r.jsx)("div",Object.assign({className:"action"},{children:(0,r.jsx)($e.Z,{sx:{cursor:"pointer",color:"t.third","&:hover":{color:"t.primary"}},size:20,onClick:()=>{m((({orderId:e})=>s===e))}})}),y);default:return null}}))}))})),Ue={time:115,symbol:85,type:100,side:85,price:100,amount:110,filled:120,reduceOnly:90,postOnly:80,conditions:112,strategy:55,action:70},qe=e=>({width:`${e}px`,flex:`1 0 ${e}px`}),Ge={flexDirection:"column",height:"100%",overflowX:"auto",overflowY:"hidden",".action-bar":{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:0,right:"16px",zIndex:"999",height:"40px","&.fullscreen":{right:"12px"}},".openOrderRow":{my:0,py:0,display:"flex",alignItems:"center",flex:"none",color:"t.secondary",fontSize:[0],cursor:"auto",width:"100%",height:"40px",boxSizing:"border-box",borderBottom:"1px solid",borderBottomColor:"newLine","&.header":{height:"32px"},"&.body":{":hover":{backgroundColor:"bg3",".symbol":{color:"t.yellow"}},".symbol":{cursor:"pointer"},".side":{"&-buy":{color:"buy"},"&-sell":{color:"sell"}},".strategy.valid":{color:"t.yellow200",cursor:"pointer",":hover":{color:"t.yellow300"}},".price, .amount, .conditions":{display:"flex",alignItems:"center"}},".time":Object.assign({},qe(Ue.time)),".symbol":Object.assign({},qe(Ue.symbol)),".type":Object.assign({},qe(Ue.type)),".side":Object.assign({},qe(Ue.side)),".price":Object.assign({},qe(Ue.price)),".amount":Object.assign({},qe(Ue.amount)),".filled":Object.assign({},qe(Ue.filled)),".reduceOnly":Object.assign({},qe(Ue.reduceOnly)),".postOnly":Object.assign({},qe(Ue.postOnly)),".conditions":Object.assign({},qe(Ue.conditions)),".strategy":Object.assign({},qe(Ue.strategy)),".action":Object.assign({},qe(Ue.action))}},We=e=>(0,r.jsx)(Ke,Object.assign({},e)),Qe=(e,t)=>t[e].orderId,Xe=({headers:e,onCheckHeader:t,onSortHeader:s,items:n=[],loading:l})=>{const{emptyText:o,actionCancel:d}=i.useContext(L.Z),u=(0,i.useMemo)((()=>{let t=0;return e.filter((e=>e.defaultChecked)).forEach((({key:e})=>{t+=Ue[e]||0})),{minWidth:t}}),[e]),{getI18n:h}=(0,I.Z)(),{getI18n:p}=(0,m.yk)(),{apiError:g,onRefresh:x}=(()=>{const e=(0,a.v9)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,a.v9)((e=>e.orders.openOrder.apiError)),s=(0,a.I0)(),n=(0,i.useCallback)((()=>{e||s.orders.queryOpenOrder()}),[e,s.orders]);return(0,i.useMemo)((()=>({loading:e,apiError:t,onRefresh:n})),[e,t,n])})(),y=(0,i.useCallback)((()=>{d(0,h("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}),[]);return(0,r.jsxs)(c.Z,Object.assign({sx:Ge},{children:[(0,r.jsx)(Fe,{headers:e,onSort:s,onCheck:t}),(0,r.jsx)(Ee,{hasData:(null==n?void 0:n.length)>0,headers:e,style:u}),(0,r.jsx)(Ze.v,Object.assign({apiError:g,confirmTip:p("openOrderErrorConfirmTip",{defaultValue:"Cancel all open orders here."}),onRefresh:x,onConfirm:y},{children:(0,r.jsx)(Ie.a,{direction:"xxx",dataSource:n,loading:l,loadWithContent:!0,listSx:u,itemElement:We,itemKey:Qe,itemHeight:40,emptyChildren:(0,r.jsx)(he.pB,{children:o}),scrollPerf:!1})}))]}))},Je=((0,v.nM)(),[null,"LIMIT","STOP"]),et=i.memo((()=>{const e="light"===(0,y.Fg)(),[t,{onCheckHeader:s,onSortHeader:u}]=(()=>{const{getI18n:e}=(0,I.Z)(),{getI18n:t}=(0,m.yk)(),[s,n]=(0,E.Z)(v.rR,["reduceOnly","postOnly","strategy"]),[a,l]=(0,E.Z)(v.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,i.useMemo)((()=>{const n=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:(0,r.jsx)(V.ZP,{}),checkable:!1,sortable:!0}].map((e=>Object.assign(Object.assign({},e),{defaultChecked:!e.checkable||(null==s?void 0:s.includes(e.key))||!1})));return a&&n.sort(((e,t)=>a.indexOf(e.key)-a.indexOf(t.key))),n}),[e,t,s,a]),{onCheckHeader:n,onSortHeader:l}]})(),[f]=(0,y.z4)(),b=(0,a.I0)(),{enqueueNotification:j}=(0,g.Z)(),{getI18n:O}=(0,m.yk)(),{getI18n:C}=(0,I.Z)(),[w,S]=(0,i.useState)(""),[k,Z]=(0,i.useState)({}),P="traditional",{preOrders:_}=(0,y.E)(),H=(0,a.v9)((e=>e.loading.effects.orders.queryOpenOrder));(0,i.useEffect)((()=>{b.orders.queryOpenOrder()}),[]);const{loading:F,delOpenOrders:$}=M?(()=>{const[{loading:e},t]=(0,R.Z)(((e={})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,N.y)({type:e.type,symbol:e.symbol}):(0,N.r7)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})():(()=>{const[{loading:e},t]=(0,R.Z)(((e={})=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,N.O9)({type:e.type,symbol:e.symbol}):(0,N.Ce)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})(),{isOrderHideOtherPairs:D}=(0,y.VX)(),[Y,K]=(0,i.useState)(D),U=(0,i.useCallback)((e=>{K(e),b.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[b.userProfile]),q=(0,x.Nm)(_,Y,f),G=(0,y.d0)(),W=(0,i.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const t="number"==typeof e?{batch:!0,type:Je[e],symbol:Y?f:null}:q.filter((t=>e(t)))[0];h()(t)||(yield $(t))}))),[Y,f,q,$]),Q=(0,i.useCallback)(((t,s)=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){s?B.ZP.show({isLight:e,color:P,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:(0,r.jsxs)(o.Z,{children:[(0,r.jsxs)(o.Z,Object.assign({px:1,pt:[0,"16px"],sx:{textAlign:"center"}},{children:[(0,r.jsx)(l.Z,{size:[60,96]}),(0,r.jsx)("div",{children:s})]})),(0,r.jsxs)(c.Z,Object.assign({mt:"24px"},{children:[(0,r.jsx)(d.Z,Object.assign({sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>B.ZP.close()},{children:C("dialog-cancel",{defaultValue:"Cancel"})})),(0,r.jsx)(d.Z,Object.assign({sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{W(t),B.ZP.close()}},{children:C("dialog-confirm",{defaultValue:"Confirm"})}))]}))]})}):W(t)}))),[W,C,e,P]),X=(0,i.useCallback)((e=>(0,n.__awaiter)(void 0,void 0,void 0,(function*(){const{success:t}=yield(0,p.nC)(e,{});t&&j({header:O("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}))),[O,j]),J=!q.length&&H,ee=(0,i.useCallback)((()=>{S(""),Z({})}),[S,Z]),te=(0,i.useCallback)((e=>{S("STRATEGY_ORDER"),Z(e)}),[S,Z]),se=(0,i.useCallback)(((e,t,s)=>{S("MODIFY_ORDER"),Z(Object.assign(Object.assign({},e),{modifyParams:t,onConfirm:s}))}),[S,Z]),ne=C("nodata",{defaultValue:"You have no open orders."}),re=(0,i.useMemo)((()=>({symbol:f,emptyText:ne,actionCancel:Q,actionModifyOrder:X,actionStrategyModal:te,actionModifyConfirmModal:se,changeSymbol:G,handleHideOtherPairs:U,checked:Y,useColumn:T,useStrategyOrder:A,headers:t})),[Q,X,te,se,G,Y,ne,U,f,t]);return(0,r.jsx)(L.Z.Provider,Object.assign({value:re},{children:(0,r.jsx)(o.Z,Object.assign({height:"100%",px:"sm"},{children:(0,r.jsx)(z.Z,{children:({isMobile:e,isIPad:n})=>(0,r.jsxs)(r.Fragment,{children:[n?(0,r.jsx)(ke,{isMobile:e,items:q,girdLoading:J,outLoading:H||F}):(0,r.jsx)(Xe,{headers:t,onCheckHeader:s,onSortHeader:u,items:q,loading:H||F}),"STRATEGY_ORDER"===w&&(0,r.jsx)(oe,{isMobile:e,visible:!0,order:k,onClose:ee}),"MODIFY_ORDER"===w&&(0,r.jsx)(ue,{order:k,onClose:ee})]})})}))}))}))}}]);